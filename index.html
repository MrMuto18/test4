<!DOCTYPE html>
<!-- Version: 2.0 | Build: 2026-01-29-v2 | Email Key: 73145d99 -->
<html lang="ar" dir="rtl">
<head>
 <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙÙ„Ø§Ø­ÙŠÙ† - Ù…Ù†ØµØªÙƒ Ù„Ù„ÙÙ„Ø§Ø­Ø© Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <meta name="description" content="Ù…Ù†ØµØ© ØªÙˆÙ†Ø³ÙŠØ© Ù„Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© ÙˆÙ…ØªØ¬Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ÙÙ„Ø§Ø­ÙŠØ©">

    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#2d8659">
    <link rel="apple-touch-icon" href="images/icon-192.png">

    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    
    <style>
        :root {
            --primary-green: #2d8659;
            --dark-green: #1e5f42;
            --light-green: #3ea672;
            --accent-orange: #f49d37;
            --dark-orange: #d67d1f;
            --warm-beige: #f5f1e8;
            --text-dark: #2c3e2f;
            --text-light: #5a6c5b;
            --white: #ffffff;
            --light-gray: #e8e8e8;
            --shadow: rgba(45, 134, 89, 0.15);
        }

        html {
            scroll-behavior: smooth;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
</script>

        body {
    background-color: var(--warm-beige); /* Ø±Ø¬Ø¹Ù†Ø§ Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ù‡Ù†Ø§ */
    font-family: 'Tajawal', sans-serif;
    margin: 0;
    direction: rtl;
    min-height: 100vh;
    overflow-y: auto;
}

/* --- Ø§Ù„Ù‡ÙŠØ¯Ø± Ù…Ø±ÙŠØºÙ„ --- */
.main-header {
    background: white;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
}

.logo-container {
    display: flex;
    align-items: center;
    gap: 12px;
    direction: rtl; 
    margin-right: 0; /* Ù†Ø¶Ù…Ù†ÙˆØ§ Ø¥Ù†Ù‡ Ù„Ø§ØµÙ‚ ÙÙŠ Ø­Ø§ÙØ© Ø§Ù„ÙŠÙ…ÙŠÙ† */
}


.logo-image {
    width: 60px;
    height: 52px;
    border-radius: 12px;
}

.logo-title {
    font-size: 1.8rem;
    color: var(--primary-green);
    font-family: 'Amiri', serif;
    margin: 0;
}
.logo-content {
    display: flex;
    flex-direction: column;
    text-align: right; /* Ù†Ø¶Ù…Ù†ÙˆØ§ Ø¥Ù† Ø§Ù„ÙƒØªÙŠØ¨Ù‡ ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† */
    }



/* --- Ø§Ù„Ø£Ø²Ø±Ø§Ø± --- */
.header-actions {
    display: flex;
    gap: 10px;
}

.header-btn {
    text-decoration: none;
    padding: 8px 15px;
    border-radius: 8px;
    font-weight: bold;
    font-size: 0.9rem;
    transition: 0.3s;
}

.btn-login { color: #2d8659; border: 1px solid #2d8659; }
.btn-register { background: #2d8659; color: white; }

        .header-btn {
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: 'Tajawal', sans-serif;
            font-size: 1em;
        }

        .btn-login {
            background: transparent;
            border: 2px solid var(--primary-green);
            color: var(--primary-green);
        }

        .btn-login:hover {
            background: var(--primary-green);
            color: white;
            transform: translateY(-2px);
        }

        .btn-register {
            background: linear-gradient(135deg, var(--accent-orange) 0%, var(--dark-orange) 100%);
            border: none;
            color: white;
            box-shadow: 0 5px 15px rgba(244, 157, 55, 0.3);
        }

        .btn-register:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(244, 157, 55, 0.4);
        }

        /* Hero Section */
        .hero-section {
            padding: 80px 0;
            text-align: center;
            position: relative;
        }

        .hero-title {
            font-size: 3.5em;
            font-weight: 900;
            color: var(--text-dark);
            margin-bottom: 20px;
            line-height: 1.2;
            font-family: 'Amiri', serif;
        }

        .hero-subtitle {
            font-size: 1.4em;
            color: var(--text-light);
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-top: 50px;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: 900;
            color: var(--primary-green);
            display: block;
        }

        .stat-label {
            font-size: 1.1em;
            color: var(--text-light);
            font-weight: 600;
        }

        /* Navigation Tabs */
        .nav-tabs {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin: 40px 0;
            display: flex;
            gap: 12px;
            box-shadow: 0 10px 40px var(--shadow);
            flex-wrap: wrap;
        }

        .nav-tab {
            flex: 1;
            min-width: 180px;
            padding: 20px 25px;
            background: var(--warm-beige);
            border: 2px solid transparent;
            border-radius: 12px;
            font-size: 1.15em;
            font-weight: 700;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Tajawal', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-direction: row-reverse;
        }

        .nav-tab i {
            font-size: 1.2em;
        }

        .nav-tab:hover {
            background: white;
            border-color: var(--primary-green);
            transform: translateY(-3px);
            box-shadow: 0 5px 20px var(--shadow);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            border-color: var(--primary-green);
            box-shadow: 0 8px 25px rgba(45, 134, 89, 0.3);
        }

        /* Content Area */
        .content-area {
            background: white;
            border-radius: 25px;
            padding: 60px;
            box-shadow: 0 15px 50px var(--shadow);
            margin-bottom: 50px;
            position: relative;
            overflow: hidden;
        }

        .tab-content {
            display: none;
            animation: fadeInUp 0.6s ease;
            position: relative;
            z-index: 1;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Smart Consultation Styles */
        .consultation-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--light-gray);
            border-radius: 10px;
            margin-bottom: 40px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .progress-text {
            text-align: center;
            color: var(--text-light);
            margin-top: 10px;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .question-card {
            display: none;
            animation: fadeIn 0.5s ease;
            margin-bottom: 50px;
        }

        .question-card.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-title {
            font-size: 1.8em;
            color: var(--text-dark);
            margin-bottom: 30px;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .question-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 50px;
        }

        .option-card {
            padding: 20px;
            border: 2px solid var(--light-gray);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            background: var(--warm-beige);
        }

        .option-card:hover {
            border-color: var(--primary-green);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--shadow);
        }

        .option-card.selected,
        .option-card.active {
            border-color: var(--primary-green);
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(45, 134, 89, 0.3);
        }

        .option-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
            display: block;
        }

        .option-label {
            font-weight: 700;
            font-size: 1.1em;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--warm-beige);
        }

        .checkbox-item:hover {
            border-color: var(--primary-green);
            background: white;
        }

        .checkbox-item input[type="checkbox"] {
            width: 24px;
            height: 24px;
            margin-left: 15px;
            cursor: pointer;
        }

        .checkbox-item.checked {
            border-color: var(--primary-green);
            background: rgba(45, 134, 89, 0.1);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            font-size: 1.1em;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 10px;
        }

        .form-group label i {
            margin-left: 8px;
            color: var(--primary-green);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 16px;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            font-size: 1.05em;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
            background: var(--warm-beige);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 4px rgba(45, 134, 89, 0.1);
            background: white;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 16px 35px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Tajawal', sans-serif;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-back {
            background: var(--light-gray);
            color: var(--text-dark);
        }

        .btn-back:hover {
            background: #d0d0d0;
            transform: translateX(5px);
        }

        .btn-next,
        .btn-submit {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(45, 134, 89, 0.3);
            flex: 1;
        }

        .btn-next:hover,
        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(45, 134, 89, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Instant Response Box */
        .response-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border: 3px solid var(--primary-green);
            border-radius: 20px;
            padding: 35px;
            margin-top: 40px;
            display: none;
            animation: slideDown 0.6s ease;
        }

        .response-box.show {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .response-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .response-icon {
            width: 60px;
            height: 60px;
            background: var(--primary-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2em;
        }

        .response-header h3 {
            font-size: 1.8em;
            color: var(--text-dark);
            font-weight: 900;
        }

        .response-content {
            font-size: 1.15em;
            line-height: 1.9;
            color: var(--text-dark);
        }

        .response-content h4 {
            color: var(--primary-green);
            font-size: 1.4em;
            margin-top: 25px;
            margin-bottom: 15px;
            font-weight: 800;
        }

        .response-content ul {
            margin-right: 25px;
            margin-bottom: 20px;
        }

        .response-content li {
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .response-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .response-btn {
            padding: 14px 28px;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Tajawal', sans-serif;
            font-size: 1em;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .response-btn-primary {
            background: var(--primary-green);
            color: white;
            border: none;
        }

        .response-btn-primary:hover {
            background: var(--dark-green);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(45, 134, 89, 0.3);
        }

        .response-btn-secondary {
            background: white;
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .response-btn-secondary:hover {
            background: var(--primary-green);
            color: white;
            transform: translateY(-2px);
        }

        /* Section Title */
        .section-title {
            font-size: 2.5em;
            color: var(--text-dark);
            margin-bottom: 20px;
            text-align: center;
            font-weight: 900;
            font-family: 'Amiri', serif;
        }

        .section-subtitle {
            font-size: 1.2em;
            color: var(--text-light);
            text-align: center;
            margin-bottom: 50px;
            line-height: 1.8;
        }

        /* Feature Cards */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .feature-card {
            background: linear-gradient(135deg, white 0%, var(--warm-beige) 100%);
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            border: 2px solid var(--light-gray);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 50px var(--shadow);
            border-color: var(--primary-green);
        }

        .feature-card:hover::before {
            opacity: 0.95;
        }

        .feature-card:hover .feature-icon,
        .feature-card:hover .feature-title,
        .feature-card:hover .feature-description {
            color: white;
            position: relative;
            z-index: 1;
        }

        .feature-icon {
            font-size: 3.5em;
            margin-bottom: 20px;
            display: inline-block;
            transition: all 0.4s ease;
        }

        .feature-title {
            font-size: 1.6em;
            font-weight: 800;
            margin-bottom: 15px;
            color: var(--text-dark);
            transition: all 0.4s ease;
        }

        .feature-description {
            font-size: 1.05em;
            line-height: 1.7;
            color: var(--text-light);
            transition: all 0.4s ease;
        }

        /* Responsive */
        @media (max-width: 968px) {
            .hero-title {
                font-size: 2.5em;
            }

            .logo-text h1 {
                font-size: 2em;
            }

            .content-area {
                padding: 40px 25px;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .nav-tab {
                min-width: 100%;
            }

            .header-actions {
                display: none;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }
        }

        @media (max-width: 640px) {
            .hero-title {
                font-size: 2em;
            }

            .section-title {
                font-size: 2em;
            }

            .question-title {
                font-size: 1.4em;
            }
        }

        /* Product Grid Styles */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 35px;
            margin-top: 40px;
        }

        .product-card {
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
        }

        .product-card:hover {
            border-color: var(--primary-green);
            box-shadow: 0 15px 45px var(--shadow);
            transform: translateY(-8px);
        }

        .product-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent-orange);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9em;
            z-index: 10;
            box-shadow: 0 3px 10px rgba(244, 157, 55, 0.4);
        }

        .product-image {
            width: 100%;
            height: 220px;
            background: linear-gradient(135deg, var(--warm-beige) 0%, var(--light-gray) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            position: relative;
            overflow: hidden;
        }

        .product-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 0%, rgba(45, 134, 89, 0.1) 100%);
        }

        .product-content {
            padding: 25px;
        }

        .product-title {
            font-size: 1.4em;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 12px;
        }

        .product-description {
            font-size: 1.05em;
            color: var(--text-light);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
            font-size: 0.95em;
        }

        .stars {
            color: var(--accent-orange);
        }

        .rating-count {
            color: var(--text-light);
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 2px solid var(--light-gray);
        }

        .product-price {
            font-size: 1.6em;
            font-weight: 900;
            color: var(--primary-green);
        }

        .add-to-cart {
            padding: 12px 25px;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Tajawal', sans-serif;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1em;
        }

        .add-to-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(45, 134, 89, 0.3);
        }

        /* Search and Filter */
        .search-container {
            max-width: 600px;
            margin: 0 auto 40px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 18px 55px 18px 20px;
            border: 2px solid var(--light-gray);
            border-radius: 50px;
            font-size: 1.1em;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
            background: var(--warm-beige);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 4px rgba(45, 134, 89, 0.1);
            background: white;
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            font-size: 1.3em;
        }

        /* Testimonials */
        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .testimonial-card {
            background: linear-gradient(135deg, white 0%, var(--warm-beige) 100%);
            border-radius: 20px;
            padding: 35px;
            border: 2px solid var(--light-gray);
            position: relative;
        }

        .quote-icon {
            font-size: 3em;
            color: var(--primary-green);
            opacity: 0.2;
            position: absolute;
            top: 20px;
            right: 20px;
        }

        .testimonial-text {
            font-size: 1.1em;
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            font-weight: 700;
        }

        .author-info h4 {
            color: var(--text-dark);
            font-weight: 700;
            margin-bottom: 3px;
        }

        .author-info p {
            color: var(--text-light);
            font-size: 0.95em;
        }

        /* Cart Styles */
        .cart-item {
            display: flex;
            align-items: center;
            padding: 25px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, white 0%, var(--warm-beige) 100%);
            border: 2px solid var(--light-gray);
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .cart-item:hover {
            border-color: var(--primary-green);
            box-shadow: 0 5px 20px var(--shadow);
        }

        .cart-item-icon {
            font-size: 2.5em;
            margin-left: 25px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            margin-bottom: 8px;
            color: var(--text-dark);
            font-weight: 800;
            font-size: 1.2em;
        }

        .cart-item-price {
            color: var(--primary-green);
            font-weight: 700;
            font-size: 1.1em;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .qty-btn {
            width: 38px;
            height: 38px;
            border: none;
            background: var(--light-gray);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }

        .qty-btn:hover {
            background: var(--primary-green);
            color: white;
        }

        .qty-display {
            min-width: 40px;
            text-align: center;
            font-weight: 800;
            font-size: 1.2em;
            color: var(--text-dark);
        }

        .remove-btn {
            width: 38px;
            height: 38px;
            border: none;
            background: #dc3545;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            margin-right: 15px;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }

        .remove-btn:hover {
            background: #c82333;
        }

        .cart-total {
            padding: 35px;
            background: linear-gradient(135deg, var(--warm-beige) 0%, white 100%);
            border-radius: 20px;
            text-align: center;
            border: 3px solid var(--primary-green);
            box-shadow: 0 10px 30px var(--shadow);
            margin-top: 30px;
        }

        .cart-total h3 {
            font-size: 1.8em;
            color: var(--text-dark);
            margin-bottom: 15px;
            font-weight: 800;
        }

        .cart-total-price {
            font-size: 2.5em;
            color: var(--primary-green);
            font-weight: 900;
            margin-bottom: 30px;
        }

        .empty-cart {
            text-align: center;
            padding: 80px 20px;
        }

        .empty-cart i {
            font-size: 4em;
            color: var(--text-light);
            opacity: 0.3;
            margin-bottom: 20px;
            display: block;
        }

        .empty-cart p {
            font-size: 1.4em;
            color: var(--text-light);
        }
    </style>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <script>
        // ==========================================
        // ğŸ” VERSION CHECK - IMPORTANT!
        // ==========================================
        console.log('%cğŸŒ¾ ÙÙ„Ø§Ø­ÙŠÙ† - Version 3.0 FIREBASE TREES', 'background: #2d8659; color: white; padding: 10px; font-size: 20px; font-weight: bold;');
        console.log('%cğŸ“… Build: 2026-02-03 | Firebase Trees Update', 'color: #2d8659; font-weight: bold;');
        console.log('%câœ… NEW: Ø­Ù„ÙˆÙ„ Ø§Ù„Ø£Ø´Ø¬Ø§Ø± Ù…Ù† Firebase', 'color: green; font-weight: bold; font-size: 14px;');
        console.log('%câš ï¸ Ø¥Ø°Ø§ Ø´ÙØª version Ù‚Ø¯ÙŠÙ…Ø©ØŒ Ø§Ù…Ø³Ø­ cache: Ctrl+Shift+R', 'color: red; font-weight: bold;');
        console.log('==========================================');
        
        // Firebase Configuration - CONFIGURED FOR FLA7IN PROJECT âœ…
        const firebaseConfig = {
            apiKey: "AIzaSyC-z9igQOo7PbKiTzhi2fIRrHHuUXhN6AU",
            authDomain: "fla7in.firebaseapp.com",
            projectId: "fla7in",
            storageBucket: "fla7in.firebasestorage.app",
            messagingSenderId: "463607450723",
            appId: "1:463607450723:web:04d95f04873d15634bfc56",
            measurementId: "G-WXN72JJ5DP"
        };

        // Initialize Firebase
        let firebaseApp, auth, db;
        let isFirebaseConfigured = false;

        // Check if config is set
        if (firebaseConfig.apiKey !== "YOUR_API_KEY") {
            firebaseApp = firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            db = firebase.firestore();
            isFirebaseConfigured = true;
            console.log("âœ… Firebase initialized successfully!");
            console.log("ğŸ”¥ Project: fla7in");
            console.log("ğŸ“Š Ready for Authentication and Firestore!");
        } else {
            console.warn("âš ï¸ Firebase not configured. Using demo mode.");
            console.log("ğŸ“ To enable Firebase:");
            console.log("1. Go to https://console.firebase.google.com");
            console.log("2. Create a new project");
            console.log("3. Enable Authentication (Google, Facebook, Email)");
            console.log("4. Enable Firestore Database");
            console.log("5. Replace the firebaseConfig above with your config");
        }
    </script>
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        // Initialize EmailJS
        // Get your keys from: https://www.emailjs.com
        (function(){
            emailjs.init("YOUR_PUBLIC_KEY"); // Replace with your EmailJS public key
        })();
    </script>
</head>
<body>
    <!-- Header -->
    <<header class="main-header">
    <div class="header-content">
        <div class="logo-container">
            <img src="images/icon-192.png" alt="Logo" class="logo-image">
            <div class="logo-content">
                <h1 class="logo-title">ÙÙ„Ø§Ø­ÙŠÙ†</h1>
                <p class="logo-subtitle">Ù…Ù†ØµØªÙƒ Ù„Ù„ÙÙ„Ø§Ø­Ø© Ø§Ù„Ø°ÙƒÙŠØ©</p>
            </div>
        </div>

        <div class="header-actions">
            <a href="#" class="header-btn btn-login" onclick="showLoginModal(); return false;">
                <i class="fas fa-user"></i> Ø¯Ø®ÙˆÙ„
            </a>
            <a href="#" class="header-btn btn-register" onclick="showSignupModal(); return false;">
                <i class="fas fa-user-plus"></i> ØªØ³Ø¬ÙŠÙ„
            </a>
        </div>
    </div>
</header>

<section class="hero-section">
    <div class="hero-container">
    <div class="hero-logo-large"></div>

    <div class="hero-content">
        <h2 class="hero-welcome">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ÙÙ„Ø§Ø­ÙŠÙ†</h2>
        <p class="hero-desc">Ù†Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ ÙÙ„Ø§Ø­ØªÙƒ Ø¨Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø°ÙƒÙŠØ© ÙÙˆØ±ÙŠØ© ÙˆÙ…Ù†ØªØ¬Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©</p>
    </div>
</div>
        <!-- Statistics -->
        <div class="hero-stats">
            <div class="stat-item">
                <span class="stat-number">500+</span>
                <span class="stat-label">ÙÙ„Ø§Ø­ Ø±Ø§Ø¶ÙŠ</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">1000+</span>
                <span class="stat-label">Ø§Ø³ØªØ´Ø§Ø±Ø© Ù†Ø¬Ø­Øª</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">50+</span>
                <span class="stat-label">Ù…Ù†ØªØ¬ ÙÙ„Ø§Ø­ÙŠ</span>
            </div>
        </div>
    </div>
</section>
        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="home">
                Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                <i class="fas fa-home"></i>
            </button>
            <button class="nav-tab" data-tab="consultation">
                Ø§Ø³ØªØ´Ø§Ø±Ø© Ø°ÙƒÙŠØ© ÙÙˆØ±ÙŠØ©
                <i class="fas fa-robot"></i>
            </button>
            <button class="nav-tab" data-tab="products">
                Ø§Ù„Ù…ØªØ¬Ø±
                <i class="fas fa-shopping-bag"></i>
            </button>
            <button class="nav-tab" data-tab="testimonials">
                Ø¢Ø±Ø§Ø¡ Ø§Ù„ÙÙ„Ø§Ø­ÙŠÙ†
                <i class="fas fa-comments"></i>
            </button>
            <button class="nav-tab" data-tab="cart">
                Ø§Ù„Ø³Ù„Ø©
                <i class="fas fa-shopping-cart"></i>
            </button>
            <button class="nav-tab" data-tab="checkout" style="display: none;" id="checkoutTab">
                Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨
                <i class="fas fa-credit-card"></i>
            </button>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Home Tab -->
            <div class="tab-content active" id="home">
                <h2 class="section-title">Ø´Ù†ÙˆÙ‘Ø© Ù†Ù‚Ø¯Ù…ÙˆØ§ Ù„ÙƒØŸ</h2>
                <p class="section-subtitle">Ø®Ø¯Ù…Ø§ØªÙ†Ø§ Ø§Ù„ÙƒÙ„ Ù…ØµÙ…Ù‘Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ø¨Ø§Ø´ Ù†Ø³Ù‡Ù‘Ù„ÙˆØ§ Ø¹Ù„ÙŠÙƒ ÙÙ„Ø§Ø­ØªÙƒ ÙˆÙ†Ø²ÙŠØ¯ÙˆØ§ ÙÙŠ Ø¥Ù†ØªØ§Ø¬Ùƒ</p>
                
                <div class="feature-grid">
                    <div class="feature-card" onclick="switchTab('consultation')">
                        <div class="feature-icon">ğŸ¤–</div>
                        <h3 class="feature-title">Ø±Ø¯ÙˆØ¯ ÙÙˆØ±ÙŠØ© Ø°ÙƒÙŠØ©</h3>
                        <p class="feature-description">Ø¬Ø§ÙˆØ¨ Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø© Ø¨Ø³ÙŠØ·Ø© ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø­Ù„ÙˆÙ„ ÙÙˆØ±ÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                    </div>
                    
                    <div class="feature-card" onclick="switchTab('consultation')">
                        <div class="feature-icon">ğŸ¯</div>
                        <h3 class="feature-title">Ø­Ù„ÙˆÙ„ Ù…Ø®ØµØµØ©</h3>
                        <p class="feature-description">ÙƒÙ„ Ù…Ø´ÙƒÙ„Ø© ØªØ§Ø®Ùˆ Ø­Ù„Ù‡Ø§ Ø§Ù„Ø®Ø§Øµ Ø­Ø³Ø¨ ÙÙ„Ø§Ø­ØªÙƒ ÙˆÙ…Ø´ÙƒÙ„ØªÙƒ</p>
                    </div>
                    
                    <div class="feature-card" onclick="window.location.href='shop.html'" style="cursor: pointer;">
                        <div class="feature-icon">ğŸ›’</div>
                        <h3 class="feature-title">Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ©</h3>
                        <p class="feature-description">ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ÙÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù„ÙŠ ØªØ­ØªØ§Ø¬Ù‡Ø§ Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸšš</div>
                        <h3 class="feature-title">ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹</h3>
                        <p class="feature-description">Ù†ÙˆØµÙ‘Ù„ÙˆØ§ Ù„Ùƒ Ù„ÙŠÙ† Ø¹Ù†Ø¯Ùƒ ÙÙŠ ÙƒÙ„ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª</p>
                    </div>
                </div>
            </div>

            <!-- Smart Consultation Tab -->
            <div class="tab-content" id="consultation">
                <div class="consultation-container">
                    <h2 class="section-title">Ø§Ø³ØªØ´Ø§Ø±Ø© Ø°ÙƒÙŠØ© ÙÙˆØ±ÙŠØ© ğŸ¤–</h2>
                    <p class="section-subtitle">Ø¬Ø§ÙˆØ¨ Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø© Ø¨Ø³ÙŠØ·Ø© ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ù„ ÙÙŠ Ø«ÙˆØ§Ù†ÙŠ</p>
                    
                    <!-- Progress Bar -->
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 8</div>

                    <form id="consultationForm">
                        <!-- Question 1: Crop Selection -->
                        <div class="question-card active" data-question="1">
                            <div class="question-title">
                                <div class="question-icon">ğŸŒ±</div>
                                Ø´Ù†ÙŠÙ‘Ø© Ø§Ù„ÙÙ„Ø§Ø­Ø© Ù…ØªØ§Ø¹ÙƒØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-crop="tomato">
                                    <span class="option-icon">ğŸ…</span>
                                    <div class="option-label">Ø·Ù…Ø§Ø·Ù…</div>
                                </div>
                                <div class="option-card" data-crop="pepper">
                                    <span class="option-icon">ğŸŒ¶ï¸</span>
                                    <div class="option-label">ÙÙ„ÙÙ„</div>
                                </div>
                                <div class="option-card" data-crop="grape">
                                    <span class="option-icon">ğŸ‡</span>
                                    <div class="option-label">Ø¹Ù†Ø¨</div>
                                </div>
                                <div class="option-card" data-crop="fennel">
                                    <span class="option-icon">ğŸŒ¿</span>
                                    <div class="option-label">Ø¨Ø³Ø¨Ø§Ø³</div>
                                </div>
                                <div class="option-card" data-crop="potato">
                                    <span class="option-icon">ğŸ¥”</span>
                                    <div class="option-label">Ø¨Ø·Ø§Ø·Ø§</div>
                                </div>
                                <div class="option-card" data-crop="watermelon">
                                    <span class="option-icon">ğŸ‰</span>
                                    <div class="option-label">Ø¨Ø·ÙŠØ®</div>
                                </div>
                                <div class="option-card" data-crop="melon">
                                    <span class="option-icon">ğŸˆ</span>
                                    <div class="option-label">Ø¯Ù„Ø§Ø¹</div>
                                </div>
                                <div class="option-card" data-crop="strawberry">
                                    <span class="option-icon">ğŸ“</span>
                                    <div class="option-label">ÙØ±Ø§ÙˆÙ„Ø©</div>
                                </div>
                                <div class="option-card" data-crop="almond">
                                    <span class="option-icon">ğŸŒ°</span>
                                    <div class="option-label">Ù„ÙˆØ²ÙŠØ§Øª</div>
                                </div>
                                <div class="option-card" data-crop="beans">
                                    <span class="option-icon">ğŸ«˜</span>
                                    <div class="option-label">Ù‚ÙˆØ§Ø±Øµ</div>
                                </div>
                                <div class="option-card" data-crop="grains">
                                    <span class="option-icon">ğŸŒ¾</span>
                                    <div class="option-label">Ø­Ø¨ÙˆØ¨</div>
                                </div>
                                <div class="option-card" data-crop="olive">
                                    <span class="option-icon">ğŸ«’</span>
                                    <div class="option-label">Ø²ÙŠØªÙˆÙ†</div>
                                </div>
                            </div>
                        </div>

                        <!-- Question 2: Farm Area -->
                        <div class="question-card" data-question="2">
                            <div class="question-title">
                                <div class="question-icon">ğŸ“</div>
                                Ù‚Ø¯Ø§Ø´ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ù…ØªØ§Ø¹ÙƒØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-area="small">
                                    <span class="option-icon">ğŸ¡</span>
                                    <div class="option-label">Ø£Ù‚Ù„ Ù…Ù† 1 Ù‡ÙƒØªØ§Ø±</div>
                                </div>
                                <div class="option-card" data-area="medium">
                                    <span class="option-icon">ğŸŒ¾</span>
                                    <div class="option-label">Ù…Ù† 1 Ø¥Ù„Ù‰ 3 Ù‡ÙƒØªØ§Ø±</div>
                                </div>
                                <div class="option-card" data-area="large">
                                    <span class="option-icon">ğŸšœ</span>
                                    <div class="option-label">Ù…Ù† 3 Ø¥Ù„Ù‰ 5 Ù‡ÙƒØªØ§Ø±</div>
                                </div>
                                <div class="option-card" data-area="very-large">
                                    <span class="option-icon">ğŸŒ</span>
                                    <div class="option-label">Ø£ÙƒØ«Ø± Ù…Ù† 5 Ù‡ÙƒØªØ§Ø±</div>
                                </div>
                            </div>
                        </div>

                        <!-- Question 3: Water Availability -->
                        <div class="question-card" data-question="3">
                            <div class="question-title">
                                <div class="question-icon">ğŸ’§</div>
                                Ø´Ù†ÙˆÙ‘Ø© Ù†ÙˆØ¹ÙŠØ© Ø§Ù„ÙÙ„Ø§Ø­Ø© Ù…ØªØ§Ø¹ÙƒØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-water="irrigated">
                                    <span class="option-icon">ğŸ’¦</span>
                                    <div class="option-label">Ø³Ù‚ÙˆÙŠØ©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">ÙÙŠÙ‡Ø§ Ù…Ø§Ø¡ Ù…ØªÙˆÙØ±</div>
                                </div>
                                <div class="option-card" data-water="rainfed">
                                    <span class="option-icon">ğŸŒ§ï¸</span>
                                    <div class="option-label">Ø¨Ø¹Ù„ÙŠØ©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø·Ø±</div>
                                </div>
                            </div>
                        </div>

                        <!-- Question 4: Soil Type -->
                        <div class="question-card" data-question="4">
                            <div class="question-title">
                                <div class="question-icon">ğŸŒ±</div>
                                Ù…Ø§Ù‡Ùˆ Ù†ÙˆØ¹ Ø§Ù„ØªØ±Ø¨Ø©ØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-soil="sandy">
                                    <span class="option-icon">ğŸ–ï¸</span>
                                    <div class="option-label">Ø±Ù…Ù„ÙŠØ©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø®ÙÙŠÙØ© ÙˆØ³Ø±ÙŠØ¹Ø© Ø§Ù„ØªØµØ±ÙŠÙ</div>
                                </div>
                                <div class="option-card" data-soil="clay">
                                    <span class="option-icon">ğŸ§±</span>
                                    <div class="option-label">Ø·ÙŠÙ†ÙŠØ©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø«Ù‚ÙŠÙ„Ø© ÙˆØªØ­ØªÙØ¸ Ø¨Ø§Ù„Ù…Ø§Ø¡</div>
                                </div>
                                <div class="option-card" data-soil="mixed">
                                    <span class="option-icon">ğŸŒ¾</span>
                                    <div class="option-label">Ù…Ø®ØªÙ„Ø·Ø©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø±Ù…Ù„ÙŠØ© Ø·ÙŠÙ†ÙŠØ© Ù…ØªÙˆØ§Ø²Ù†Ø©</div>
                                </div>
                            </div>
                        </div>

                        <!-- Question 5: Water Salinity -->
                        <div class="question-card" data-question="5">
                            <div class="question-title">
                                <div class="question-icon">ğŸ’§</div>
                                Ø¯Ø±Ø¬Ø© Ù…Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø§Ø¡ØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-salinity="low">
                                    <span class="option-icon">ğŸ’§</span>
                                    <div class="option-label">Ø£Ù‚Ù„ Ù…Ù† 1 Ø¯Ø±Ø¬Ø©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ù…Ø§Ø¡ Ø¹Ø°Ø¨</div>
                                </div>
                                <div class="option-card" data-salinity="medium">
                                    <span class="option-icon">ğŸŒŠ</span>
                                    <div class="option-label">Ù…Ù† 1 Ø¥Ù„Ù‰ 3</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ù…Ù„ÙˆØ­Ø© Ù…ØªÙˆØ³Ø·Ø©</div>
                                </div>
                                <div class="option-card" data-salinity="high">
                                    <span class="option-icon">ğŸ§‚</span>
                                    <div class="option-label">Ø£ÙƒØ«Ø± Ù…Ù† 3</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ù…Ù„ÙˆØ­Ø© Ø¹Ø§Ù„ÙŠØ©</div>
                                </div>
                            </div>
                        </div>

                        <!-- Question 6: Cultivation Period -->
                        <div class="question-card" data-question="6">
                            <div class="question-title">
                                <div class="question-icon">ğŸ“…</div>
                                ÙƒÙ… ÙØªØ±Ø© Ø§Ù„Ø²Ø±Ø§Ø¹Ø©ØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-period="short">
                                    <span class="option-icon">âš¡</span>
                                    <div class="option-label">Ù…Ù† 15 Ø¥Ù„Ù‰ 45 ÙŠÙˆÙ…</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø²Ø±Ø§Ø¹Ø© Ø³Ø±ÙŠØ¹Ø©</div>
                                </div>
                                <div class="option-card" data-period="medium">
                                    <span class="option-icon">ğŸŒ±</span>
                                    <div class="option-label">Ù…Ù† 45 Ø¥Ù„Ù‰ 60 ÙŠÙˆÙ…</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø²Ø±Ø§Ø¹Ø© Ù…ØªÙˆØ³Ø·Ø©</div>
                                </div>
                                <div class="option-card" data-period="long">
                                    <span class="option-icon">ğŸŒ¾</span>
                                    <div class="option-label">Ù…Ù† 60 Ø¥Ù„Ù‰ 90 ÙŠÙˆÙ…</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø²Ø±Ø§Ø¹Ø© Ø·ÙˆÙŠÙ„Ø©</div>
                                </div>
                                <div class="option-card" data-period="very-long">
                                    <span class="option-icon">ğŸŒ³</span>
                                    <div class="option-label">Ø£ÙƒØ«Ø± Ù…Ù† 90 ÙŠÙˆÙ…</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø²Ø±Ø§Ø¹Ø© Ø·ÙˆÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹</div>
                                </div>
                            </div>
                        </div>

                        <!-- Question 7: User Data Collection -->
                        <div class="question-card" data-question="7">
                            <div style="text-align: center; margin-bottom: 30px;">
                                <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‰</div>
                                <h3 style="color: var(--primary-green); font-size: 1.8em; margin-bottom: 10px;">Ù†ØªÙŠØ¬ØªÙƒ Ø¬Ø§Ù‡Ø²Ø©!</h3>
                                <p style="font-size: 1.1em; color: var(--text-light);">Ù‚Ø¨Ù„ Ø§Ù„ØªÙ…ØªØ¹ Ø¨Ù‡Ø§ØŒ Ø§Ø¹Ø·ÙŠÙ†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¨Ø§Ø´ Ù†Ø®Ø¯Ù…ÙˆÙƒ Ø£Ø­Ø³Ù†</p>
                            </div>
                            
                            <div style="max-width: 500px; margin: 0 auto;">
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                                        <i class="fas fa-user"></i> Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„
                                    </label>
                                    <input type="text" id="userName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ù„ÙŠ" 
                                        style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 10px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                                </div>
                                
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                                        <i class="fas fa-phone"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
                                    </label>
                                    <input type="tel" id="userPhone" placeholder="Ù…Ø«Ø§Ù„: 20123456" 
                                        style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 10px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                                </div>
                                
                                <div style="margin-bottom: 25px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                                        <i class="fas fa-map-marker-alt"></i> Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
                                    </label>
                                    <select id="userRegion" 
                                        style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 10px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease; background: white;">
                                        <option value="">Ø§Ø®ØªØ§Ø± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ù…ØªØ§Ø¹Ùƒ...</option>
                                        <option value="tunis">ØªÙˆÙ†Ø³</option>
                                        <option value="ariana">Ø£Ø±ÙŠØ§Ù†Ø©</option>
                                        <option value="ben-arous">Ø¨Ù† Ø¹Ø±ÙˆØ³</option>
                                        <option value="manouba">Ù…Ù†ÙˆØ¨Ø©</option>
                                        <option value="nabeul">Ù†Ø§Ø¨Ù„</option>
                                        <option value="zaghouan">Ø²ØºÙˆØ§Ù†</option>
                                        <option value="bizerte">Ø¨Ù†Ø²Ø±Øª</option>
                                        <option value="beja">Ø¨Ø§Ø¬Ø©</option>
                                        <option value="jendouba">Ø¬Ù†Ø¯ÙˆØ¨Ø©</option>
                                        <option value="kef">Ø§Ù„ÙƒØ§Ù</option>
                                        <option value="siliana">Ø³Ù„ÙŠØ§Ù†Ø©</option>
                                        <option value="kairouan">Ø§Ù„Ù‚ÙŠØ±ÙˆØ§Ù†</option>
                                        <option value="kasserine">Ø§Ù„Ù‚ØµØ±ÙŠÙ†</option>
                                        <option value="sidi-bouzid">Ø³ÙŠØ¯ÙŠ Ø¨ÙˆØ²ÙŠØ¯</option>
                                        <option value="sousse">Ø³ÙˆØ³Ø©</option>
                                        <option value="monastir">Ø§Ù„Ù…Ù†Ø³ØªÙŠØ±</option>
                                        <option value="mahdia">Ø§Ù„Ù…Ù‡Ø¯ÙŠØ©</option>
                                        <option value="sfax">ØµÙØ§Ù‚Ø³</option>
                                        <option value="gafsa">Ù‚ÙØµØ©</option>
                                        <option value="tozeur">ØªÙˆØ²Ø±</option>
                                        <option value="kebili">Ù‚Ø¨Ù„ÙŠ</option>
                                        <option value="gabes">Ù‚Ø§Ø¨Ø³</option>
                                        <option value="medenine">Ù…Ø¯Ù†ÙŠÙ†</option>
                                        <option value="tataouine">ØªØ·Ø§ÙˆÙŠÙ†</option>
                                    </select>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 2px solid var(--primary-green);">
                                    <p style="margin: 0; font-size: 0.95em; color: var(--text-dark);">
                                        <i class="fas fa-lock" style="color: var(--primary-green);"></i>
                                        Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­Ù…ÙŠØ© - Ù†Ø³ØªØ®Ø¯Ù…ÙˆÙ‡Ø§ Ø¨Ø±Ùƒ Ø¨Ø§Ø´ Ù†Ø­Ø³Ù‘Ù†Ùˆ Ø§Ù„Ø®Ø¯Ù…Ø© Ù…ØªØ§Ø¹Ù†Ø§
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- TREE QUESTIONS START HERE -->
                        
                        <!-- Tree Question 2: Farm Area -->
                        <div class="question-card tree-question" data-question="tree-2" style="display: none;">
                            <div class="question-title">
                                <div class="question-icon">ğŸ“</div>
                                Ù‚Ø¯Ø§Ø´ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ù…ØªØ§Ø¹ÙƒØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-tree-area="small">
                                    <span class="option-icon">ğŸ¡</span>
                                    <div class="option-label">Ø£Ù‚Ù„ Ù…Ù† 1 Ù‡ÙƒØªØ§Ø±</div>
                                </div>
                                <div class="option-card" data-tree-area="medium">
                                    <span class="option-icon">ğŸŒ¾</span>
                                    <div class="option-label">Ù…Ù† 1 Ø¥Ù„Ù‰ 3 Ù‡ÙƒØªØ§Ø±</div>
                                </div>
                                <div class="option-card" data-tree-area="large">
                                    <span class="option-icon">ğŸšœ</span>
                                    <div class="option-label">Ù…Ù† 3 Ø¥Ù„Ù‰ 5 Ù‡ÙƒØªØ§Ø±</div>
                                </div>
                                <div class="option-card" data-tree-area="very-large">
                                    <span class="option-icon">ğŸŒ</span>
                                    <div class="option-label">Ø£ÙƒØ«Ø± Ù…Ù† 5 Ù‡ÙƒØªØ§Ø±</div>
                                </div>
                            </div>
                        </div>

                        <!-- Tree Question 4: Irrigation Type -->
                        <div class="question-card tree-question" data-question="tree-4" style="display: none;">
                            <div class="question-title">
                                <div class="question-icon">ğŸ’§</div>
                                ÙƒÙŠÙØ§Ø´ ØªØ³Ù‚ÙŠØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-tree-water="rainfed">
                                    <span class="option-icon">ğŸŒ§ï¸</span>
                                    <div class="option-label">Ø¨Ø¹Ù„ÙŠ (Ù…Ø§Ø¡ Ø´ØªÙˆÙŠ)</div>
                                </div>
                                <div class="option-card" data-tree-water="drip">
                                    <span class="option-icon">ğŸ’§</span>
                                    <div class="option-label">Ù…Ø³Ù‚ÙŠ Ø¨Ø§Ù„ØªÙ†Ù‚ÙŠØ·</div>
                                </div>
                                <div class="option-card" data-tree-water="flood">
                                    <span class="option-icon">ğŸŒŠ</span>
                                    <div class="option-label">Ù…Ø³Ù‚ÙŠ ØºÙ…Ø±</div>
                                </div>
                            </div>
                        </div>

                        <!-- Tree Question 3: Soil Type -->
                        <div class="question-card tree-question" data-question="tree-3" style="display: none;">
                            <div class="question-title">
                                <div class="question-icon">ğŸŒ</div>
                                Ù…Ø§Ù‡Ùˆ Ù†ÙˆØ¹ Ø§Ù„ØªØ±Ø¨Ø©ØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-tree-soil="clay">
                                    <span class="option-icon">ğŸ§±</span>
                                    <div class="option-label">Ø·ÙŠÙ†ÙŠØ©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">ÙƒØ«Ø§ÙØ© Ø¹Ø§Ù„ÙŠØ© ÙˆØªØ­ØªÙØ¸ Ø¨Ø§Ù„Ù…Ø§Ø¡</div>
                                </div>
                                <div class="option-card" data-tree-soil="sandy">
                                    <span class="option-icon">ğŸ–ï¸</span>
                                    <div class="option-label">Ø±Ù…Ù„ÙŠØ©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø®ÙÙŠÙØ© ÙˆØ³Ø±ÙŠØ¹Ø© Ø§Ù„ØªØµØ±ÙŠÙ</div>
                                </div>
                                <div class="option-card" data-tree-soil="loamy">
                                    <span class="option-icon">ğŸŒ¾</span>
                                    <div class="option-label">Ù…Ø®ØªÙ„Ø·Ø©</div>
                                    <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø±Ù…Ù„ÙŠØ© Ø·ÙŠÙ†ÙŠØ© Ù…ØªÙˆØ§Ø²Ù†Ø©</div>
                                </div>

                            </div>
                        </div>

                        <!-- Tree Question 5: Growth Stage -->
                        <div class="question-card tree-question" data-question="tree-5" style="display: none;">
                            <div class="question-title">
                                <div class="question-icon">ğŸŒ³</div>
                                ÙÙŠ Ø£ÙŠ Ù…Ø±Ø­Ù„Ø© Ù…Ù† Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ù†Ù…ÙˆØŸ
                            </div>
                            <div class="options-grid">
                                <div class="option-card" data-tree-stage="dormancy">
                                    <span class="option-icon">ğŸŒ™</span>
                                    <div class="option-label">ÙØªØ±Ø© Ø§Ù„Ø³Ø¨Ø§Øª</div>
                                </div>
                                <div class="option-card" data-tree-stage="flowering">
                                    <span class="option-icon">ğŸŒ¸</span>
                                    <div class="option-label">ÙØªØ±Ø© Ø§Ù„ØªØ²Ù‡ÙŠØ±</div>
                                </div>
                                <div class="option-card" data-tree-stage="fruit-set">
                                    <span class="option-icon">ğŸŒ¼</span>
                                    <div class="option-label">ÙØªØ±Ø© Ø§Ù„Ø¹Ù‚Ø¯</div>
                                </div>
                                <div class="option-card" data-tree-stage="ripening">
                                    <span class="option-icon">ğŸ‡</span>
                                    <div class="option-label">ØªÙƒÙˆÙŠÙ† ÙˆÙ†Ø¶Ø¬ Ø§Ù„Ø«Ù…Ø§Ø±</div>
                                </div>
                            </div>
                        </div>

                        </div>

                        <!-- Tree Question 6: User Data -->
                        <div class="question-card tree-question" data-question="tree-6" style="display: none;">
                            <div style="text-align: center; margin-bottom: 30px;">
                                <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‰</div>
                                <h3 style="color: var(--primary-green); font-size: 1.8em; margin-bottom: 10px;">Ù†ØªÙŠØ¬ØªÙƒ Ø¬Ø§Ù‡Ø²Ø©!</h3>
                                <p style="font-size: 1.1em; color: var(--text-light);">Ù‚Ø¨Ù„ Ø§Ù„ØªÙ…ØªØ¹ Ø¨Ù‡Ø§ØŒ Ø§Ø¹Ø·ÙŠÙ†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¨Ø§Ø´ Ù†Ø®Ø¯Ù…ÙˆÙƒ Ø£Ø­Ø³Ù†</p>
                            </div>
                            
                            <div style="max-width: 500px; margin: 0 auto;">
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                                        <i class="fas fa-user"></i> Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„
                                    </label>
                                    <input type="text" id="treeUserName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ù„ÙŠ" 
                                        style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 10px; font-size: 1.05em; font-family: 'Tajawal', sans-serif;">
                                </div>
                                
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                                        <i class="fas fa-phone"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
                                    </label>
                                    <input type="tel" id="treeUserPhone" placeholder="Ù…Ø«Ø§Ù„: 20123456" 
                                        style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 10px; font-size: 1.05em; font-family: 'Tajawal', sans-serif;">
                                </div>
                                
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                                        <i class="fas fa-map-marker-alt"></i> Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
                                    </label>
                                    <select id="treeUserRegion" 
                                        style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 10px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; background: white;">
                                        <option value="">Ø§Ø®ØªØ§Ø± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ù…ØªØ§Ø¹Ùƒ...</option>
                                        <option value="tunis">ØªÙˆÙ†Ø³</option>
                                        <option value="ariana">Ø£Ø±ÙŠØ§Ù†Ø©</option>
                                        <option value="ben-arous">Ø¨Ù† Ø¹Ø±ÙˆØ³</option>
                                        <option value="manouba">Ù…Ù†ÙˆØ¨Ø©</option>
                                        <option value="nabeul">Ù†Ø§Ø¨Ù„</option>
                                        <option value="zaghouan">Ø²ØºÙˆØ§Ù†</option>
                                        <option value="bizerte">Ø¨Ù†Ø²Ø±Øª</option>
                                        <option value="beja">Ø¨Ø§Ø¬Ø©</option>
                                        <option value="jendouba">Ø¬Ù†Ø¯ÙˆØ¨Ø©</option>
                                        <option value="kef">Ø§Ù„ÙƒØ§Ù</option>
                                        <option value="siliana">Ø³Ù„ÙŠØ§Ù†Ø©</option>
                                        <option value="kairouan">Ø§Ù„Ù‚ÙŠØ±ÙˆØ§Ù†</option>
                                        <option value="kasserine">Ø§Ù„Ù‚ØµØ±ÙŠÙ†</option>
                                        <option value="sidi-bouzid">Ø³ÙŠØ¯ÙŠ Ø¨ÙˆØ²ÙŠØ¯</option>
                                        <option value="sousse">Ø³ÙˆØ³Ø©</option>
                                        <option value="monastir">Ø§Ù„Ù…Ù†Ø³ØªÙŠØ±</option>
                                        <option value="mahdia">Ø§Ù„Ù…Ù‡Ø¯ÙŠØ©</option>
                                        <option value="sfax">ØµÙØ§Ù‚Ø³</option>
                                        <option value="gafsa">Ù‚ÙØµØ©</option>
                                        <option value="tozeur">ØªÙˆØ²Ø±</option>
                                        <option value="kebili">Ù‚Ø¨Ù„ÙŠ</option>
                                        <option value="gabes">Ù‚Ø§Ø¨Ø³</option>
                                        <option value="medenine">Ù…Ø¯Ù†ÙŠÙ†</option>
                                        <option value="tataouine">ØªØ·Ø§ÙˆÙŠÙ†</option>
                                    </select>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 2px solid var(--primary-green);">
                                    <p style="margin: 0; font-size: 0.95em; color: var(--text-dark);">
                                        <i class="fas fa-lock" style="color: var(--primary-green);"></i>
                                        Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­Ù…ÙŠØ© - Ù†Ø³ØªØ®Ø¯Ù…ÙˆÙ‡Ø§ Ø¨Ø±Ùƒ Ø¨Ø§Ø´ Ù†Ø­Ø³Ù‘Ù†Ùˆ Ø§Ù„Ø®Ø¯Ù…Ø© Ù…ØªØ§Ø¹Ù†Ø§
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation Buttons -->
                        <div class="button-group">
                            <button type="button" class="btn btn-back" id="btnBack" style="display: none;">
                                <i class="fas fa-arrow-right"></i>
                                Ø±Ø¬ÙˆØ¹
                            </button>
                            <button type="button" class="btn btn-next" id="btnNext">
                                Ø§Ù„ØªØ§Ù„ÙŠ
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <button type="button" class="btn btn-submit" id="btnSubmit" style="display: none;">
                                <i class="fas fa-magic"></i>
                                Ø§Ø¹Ø·ÙŠÙ†ÙŠ Ø§Ù„Ø­Ù„ ØªÙˆÙ‘Ø©!
                            </button>
                        </div>
                    </form>

                    <!-- Instant Response Box -->
                    <div class="response-box" id="responseBox">
                        <div class="response-header">
                            <div class="response-icon">
                                <i class="fas fa-lightbulb"></i>
                            </div>
                            <h3>Ø§Ù„Ø­Ù„ Ù…ØªØ§Ø¹Ùƒ Ø¬Ø§Ù‡Ø²! ğŸ‰</h3>
                        </div>
                        <div class="response-content" id="responseContent">
                            <!-- Will be populated with AI response -->
                        </div>
                        <div class="response-actions">
                            <button class="response-btn response-btn-primary" onclick="location.reload()">
                                <i class="fas fa-redo"></i>
                                Ø§Ø³ØªØ´Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©
                            </button>
                            <button class="response-btn response-btn-secondary" onclick="switchTab('products')">
                                <i class="fas fa-shopping-cart"></i>
                                ØªØ³ÙˆÙ‘Ù‚ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Products Tab -->
            <div class="tab-content" id="products">
                <h2 class="section-title">Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ÙÙ„Ø§Ø­ÙŠØ©</h2>
                <p class="section-subtitle">ÙƒÙ„ Ø§Ù„Ù„ÙŠ ØªØ­ØªØ§Ø¬Ùˆ Ù„ÙÙ„Ø§Ø­ØªÙƒ - Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ£Ø³Ø¹Ø§Ø± Ù…Ø¹Ù‚ÙˆÙ„Ø©</p>
                
                <!-- Search Bar -->
                <div class="search-container">
                    <input type="text" class="search-input" id="productSearch" placeholder="Ø¯ÙˆÙ‘Ø± Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬...">
                    <i class="fas fa-search search-icon"></i>
                </div>
                
                <div class="product-grid">
                    <div class="product-card" data-category="fertilizers">
                        <div class="product-badge">Ø¬Ø¯ÙŠØ¯</div>
                        <div class="product-image">ğŸŒ±</div>
                        <div class="product-content">
                            <h3 class="product-title">Ø³Ù…Ø§Ø¯ NPK Ù…ØªÙˆØ§Ø²Ù†</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­â­</span>
                                <span class="rating-count">(89 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">Ø³Ù…Ø§Ø¯ Ù…ØªÙƒØ§Ù…Ù„ ÙÙŠÙ‡ Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ† ÙˆÙÙˆØ³ÙÙˆØ± ÙˆØ¨ÙˆØªØ§Ø³ÙŠÙˆÙ… - ÙŠØ²ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©</p>
                            <div class="product-footer">
                                <span class="product-price">45 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ø³Ù…Ø§Ø¯ NPK Ù…ØªÙˆØ§Ø²Ù†" data-product-price="45" data-product-icon="ğŸŒ±">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-card" data-category="pesticides">
                        <div class="product-badge">Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹</div>
                        <div class="product-image">ğŸ¦ </div>
                        <div class="product-content">
                            <h3 class="product-title">Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ Ø·Ø¨ÙŠØ¹ÙŠ</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­â­</span>
                                <span class="rating-count">(156 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">Ù…Ø¨ÙŠØ¯ Ø¹Ø¶ÙˆÙŠ Ø¢Ù…Ù† ÙˆÙØ¹Ù‘Ø§Ù„ Ø¶Ø¯ Ø£ØºÙ„Ø¨ Ø§Ù„Ø­Ø´Ø±Ø§Øª - Ù…Ø§ ÙŠØ¶Ø±Ø´ Ø§Ù„Ø¨ÙŠØ¦Ø©</p>
                            <div class="product-footer">
                                <span class="product-price">32 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ Ø·Ø¨ÙŠØ¹ÙŠ" data-product-price="32" data-product-icon="ğŸ¦ ">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-card" data-category="seeds">
                        <div class="product-image">ğŸŒ¾</div>
                        <div class="product-content">
                            <h3 class="product-title">Ø¨Ø°ÙˆØ± Ù‚Ù…Ø­ Ù…Ø­Ø³Ù‘Ù†Ø©</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­â­</span>
                                <span class="rating-count">(203 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">Ø¨Ø°ÙˆØ± Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© ÙˆÙ…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ø£Ù…Ø±Ø§Ø¶ - Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù…Ù†Ø§Ø® Ø§Ù„ØªÙˆÙ†Ø³ÙŠ</p>
                            <div class="product-footer">
                                <span class="product-price">28 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ø¨Ø°ÙˆØ± Ù‚Ù…Ø­ Ù…Ø­Ø³Ù‘Ù†Ø©" data-product-price="28" data-product-icon="ğŸŒ¾">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-card" data-category="equipment">
                        <div class="product-image">ğŸ’§</div>
                        <div class="product-content">
                            <h3 class="product-title">Ù†Ø¸Ø§Ù… Ø±ÙŠ Ø¨Ø§Ù„ØªÙ†Ù‚ÙŠØ·</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­â­</span>
                                <span class="rating-count">(67 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">Ù†Ø¸Ø§Ù… Ø±ÙŠ Ø­Ø¯ÙŠØ« ÙŠÙˆÙÙ‘Ø± ÙÙŠ Ø§Ù„Ù…Ø§Ø¡ ÙˆÙŠØ²ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© - Ø³Ù‡Ù„ Ø§Ù„ØªØ±ÙƒÙŠØ¨</p>
                            <div class="product-footer">
                                <span class="product-price">120 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ù†Ø¸Ø§Ù… Ø±ÙŠ Ø¨Ø§Ù„ØªÙ†Ù‚ÙŠØ·" data-product-price="120" data-product-icon="ğŸ’§">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-card" data-category="fertilizers">
                        <div class="product-image">ğŸ§ª</div>
                        <div class="product-content">
                            <h3 class="product-title">Ù…Ø­Ø³Ù‘Ù† ØªØ±Ø¨Ø© Ø¹Ø¶ÙˆÙŠ</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­â­</span>
                                <span class="rating-count">(124 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">ÙŠØ­Ø³Ù‘Ù† Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ±Ø¨Ø© ÙˆÙŠØ²ÙŠØ¯ ÙÙŠ Ø§Ù„Ø®ØµÙˆØ¨Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø·Ø¨ÙŠØ¹ÙŠØ© 100%</p>
                            <div class="product-footer">
                                <span class="product-price">38 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ù…Ø­Ø³Ù‘Ù† ØªØ±Ø¨Ø© Ø¹Ø¶ÙˆÙŠ" data-product-price="38" data-product-icon="ğŸ§ª">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-card" data-category="equipment">
                        <div class="product-image">ğŸ”§</div>
                        <div class="product-content">
                            <h3 class="product-title">Ø·Ù‚Ù… Ø£Ø¯ÙˆØ§Øª ÙŠØ¯ÙˆÙŠØ©</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­</span>
                                <span class="rating-count">(98 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">Ø·Ù‚Ù… ÙƒØ§Ù…Ù„ Ù…Ù† Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© - Ø¬ÙˆØ¯Ø© Ù…Ù…ØªØ§Ø²Ø© ÙˆÙ…ØªÙŠÙ†Ø©</p>
                            <div class="product-footer">
                                <span class="product-price">55 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ø·Ù‚Ù… Ø£Ø¯ÙˆØ§Øª ÙŠØ¯ÙˆÙŠØ©" data-product-price="55" data-product-icon="ğŸ”§">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="product-card" data-category="pesticides">
                        <div class="product-image">ğŸƒ</div>
                        <div class="product-content">
                            <h3 class="product-title">Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ù…Ø§Ù†ÙƒÙˆØ²ÙŠØ¨</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­â­</span>
                                <span class="rating-count">(142 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">ÙØ¹Ù‘Ø§Ù„ Ø¶Ø¯ Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„ØµØ¯Ø£ ÙˆØ§Ù„Ø¨ÙŠØ§Ø¶ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ÙŠ - Ù„Ù„Ø·Ù…Ø§Ø·Ù… ÙˆØ§Ù„Ù‚Ù…Ø­</p>
                            <div class="product-footer">
                                <span class="product-price">36 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ù…Ø§Ù†ÙƒÙˆØ²ÙŠØ¨" data-product-price="36" data-product-icon="ğŸƒ">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="product-card" data-category="seeds">
                        <div class="product-image">ğŸ…</div>
                        <div class="product-content">
                            <h3 class="product-title">Ø¨Ø°ÙˆØ± Ø·Ù…Ø§Ø·Ù… Ù‡Ø¬ÙŠÙ†Ø©</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­â­</span>
                                <span class="rating-count">(187 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø¹Ø§Ù„ÙŠØ© ÙˆÙ…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ø£Ù…Ø±Ø§Ø¶ - Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„ØµÙˆØ¨Ø§Øª ÙˆØ§Ù„Ø­Ù‚Ù„</p>
                            <div class="product-footer">
                                <span class="product-price">42 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ø¨Ø°ÙˆØ± Ø·Ù…Ø§Ø·Ù… Ù‡Ø¬ÙŠÙ†Ø©" data-product-price="42" data-product-icon="ğŸ…">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="product-card" data-category="fertilizers">
                        <div class="product-image">âš¡</div>
                        <div class="product-content">
                            <h3 class="product-title">Ø³Ù…Ø§Ø¯ ÙÙˆØ³ÙØ§ØªÙŠ DAP</h3>
                            <div class="product-rating">
                                <span class="stars">â­â­â­â­</span>
                                <span class="rating-count">(76 ØªÙ‚ÙŠÙŠÙ…)</span>
                            </div>
                            <p class="product-description">ØºÙ†ÙŠ Ø¨Ø§Ù„ÙÙˆØ³ÙÙˆØ± - ÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ø¬Ø°ÙˆØ± ÙˆÙŠØ²ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¥Ø²Ù‡Ø§Ø± ÙˆØ§Ù„Ø¹Ù‚Ø¯</p>
                            <div class="product-footer">
                                <span class="product-price">48 Ø¯ÙŠÙ†Ø§Ø±</span>
                                <button class="add-to-cart" data-product-name="Ø³Ù…Ø§Ø¯ ÙÙˆØ³ÙØ§ØªÙŠ DAP" data-product-price="48" data-product-icon="âš¡">
                                    <i class="fas fa-cart-plus"></i>
                                    Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Testimonials Tab -->
            <div class="tab-content" id="testimonials">
                <h2 class="section-title">Ø´Ù†ÙˆÙ‘Ø© Ù‚Ø§Ù„ÙˆØ§ Ø§Ù„ÙÙ„Ø§Ø­ÙŠÙ† Ø¹Ù„ÙŠÙ†Ø§ØŸ</h2>
                <p class="section-subtitle">Ø¢Ø±Ø§Ø¡ Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† ÙÙ„Ø§Ø­ÙŠÙ† ØªÙˆÙ†Ø³ÙŠÙŠÙ† Ø§Ø³ØªØ®Ø¯Ù…ÙˆØ§ Ø®Ø¯Ù…Ø§ØªÙ†Ø§</p>
                
                <div class="testimonials-grid">
                    <div class="testimonial-card">
                        <i class="fas fa-quote-right quote-icon"></i>
                        <p class="testimonial-text">"ÙˆØ§Ù„Ù„Ù‡ Ø®Ø¯Ù…Ø© Ù…Ù…ØªØ§Ø²Ø©! Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø© Ø§Ù„Ø°ÙƒÙŠØ© Ø­Ù„Ù‘ØªÙ„ÙŠ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØµØ¯Ø£ ÙÙŠ Ø§Ù„Ù‚Ù…Ø­ Ù…ØªØ§Ø¹ÙŠ ÙˆØ²Ø§Ø¯ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø¨Ù€ 30%. Ù†Ù†ØµØ­ Ø¨ÙŠÙ‡Ù… Ø¨Ø±Ø´Ø§"</p>
                        <div class="testimonial-author">
                            <div class="author-avatar">Ù…</div>
                            <div class="author-info">
                                <h4>Ù…Ø­Ù…Ø¯ Ø§Ù„ÙÙ„Ø§Ø­ÙŠ</h4>
                                <p>Ø§Ù„Ù‚ÙŠØ±ÙˆØ§Ù† - ÙÙ„Ø§Ø­ Ù‚Ù…Ø­</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <i class="fas fa-quote-right quote-icon"></i>
                        <p class="testimonial-text">"Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ§Ø¹Ù‡Ù… Ø£ØµÙ„ÙŠØ© ÙˆÙ…Ø¶Ù…ÙˆÙ†Ø©. ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ø¹Ù‚ÙˆÙ„Ø©. ÙˆØ§Ù„ØªÙˆØµÙŠÙ„ ÙˆØµÙ„Ù†ÙŠ ÙÙŠ ÙˆÙ‚ØªÙˆ. Ø´ÙƒØ±Ø§Ù‹ ÙÙ„Ø§Ø­ÙŠÙ†!"</p>
                        <div class="testimonial-author">
                            <div class="author-avatar">Ù</div>
                            <div class="author-info">
                                <h4>ÙØ§Ø·Ù…Ø© Ø¨Ù† Ø¹Ù„ÙŠ</h4>
                                <p>Ø³ÙˆØ³Ø© - ÙÙ„Ø§Ø­Ø© Ø·Ù…Ø§Ø·Ù…</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <i class="fas fa-quote-right quote-icon"></i>
                        <p class="testimonial-text">"Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„ÙÙˆØ±ÙŠØ© Ø­Ø§Ø¬Ø© Ø±Ø§Ø¦Ø¹Ø©! Ø¬Ø§ÙˆØ¨Øª Ø¹Ù„Ù‰ 4 Ø£Ø³Ø¦Ù„Ø© Ø¨Ø±Ùƒ ÙˆÙ„Ù‚ÙŠØª Ø§Ù„Ø­Ù„ ØªÙˆÙ‘Ø©. ÙˆÙÙ‘Ø±ØªÙ„ÙŠ ÙˆÙ‚Øª ÙˆÙ…ØµØ§Ø±ÙŠÙ"</p>
                        <div class="testimonial-author">
                            <div class="author-avatar">Ùƒ</div>
                            <div class="author-info">
                                <h4>ÙƒÙ…Ø§Ù„ Ø§Ù„Ø³Ø§Ù„Ù…ÙŠ</h4>
                                <p>ØµÙØ§Ù‚Ø³ - ÙÙ„Ø§Ø­ Ø²ÙŠØªÙˆÙ†</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <i class="fas fa-quote-right quote-icon"></i>
                        <p class="testimonial-text">"Ù…Ù†ØµØ© Ù…Ø­ØªØ±Ù…Ø© ÙˆØ®Ø¯Ù…Ø© Ø±Ø§Ù‚ÙŠØ©. Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ Ø¨Ø§Ù„ØªÙ†Ù‚ÙŠØ· Ø§Ù„Ù„ÙŠ Ø´Ø±ÙŠØªÙˆ Ù…Ø±ÙŠØ­ Ø¨Ø±Ø´Ø§ ÙˆÙˆÙÙ‘Ø±Ù„ÙŠ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡"</p>
                        <div class="testimonial-author">
                            <div class="author-avatar">ÙŠ</div>
                            <div class="author-info">
                                <h4>ÙŠÙˆØ³Ù Ø§Ù„Ù…Ø±Ø²ÙˆÙ‚ÙŠ</h4>
                                <p>Ù†Ø§Ø¨Ù„ - ÙÙ„Ø§Ø­ Ø­ÙˆØ§Ù…Ø¶</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <i class="fas fa-quote-right quote-icon"></i>
                        <p class="testimonial-text">"Ø£Ø­Ø³Ù† Ø­Ø§Ø¬Ø© Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø© Ø¨Ø§Ù„Ù…Ø¬Ù‘Ø§Ù† ÙˆØ§Ù„ÙÙˆØ±ÙŠØ©! Ø³Ø§Ø¹Ø¯ÙˆÙ†ÙŠ Ù†Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù…Ù†Ù‘ ÙÙŠ Ø§Ù„ÙÙ„ÙÙ„ ÙˆØ¹Ø·Ø§ÙˆÙ†ÙŠ Ø§Ù„Ø­Ù„ ÙÙŠ Ø¯Ù‚Ø§ÙŠÙ‚"</p>
                        <div class="testimonial-author">
                            <div class="author-avatar">Ø±</div>
                            <div class="author-info">
                                <h4>Ø±Ø´ÙŠØ¯ Ø§Ù„Ù‡Ù…Ø§Ù…ÙŠ</h4>
                                <p>Ø¨Ù†Ø²Ø±Øª - ÙÙ„Ø§Ø­ Ø®Ø¶Ø±Ø§ÙˆØ§Øª</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <i class="fas fa-quote-right quote-icon"></i>
                        <p class="testimonial-text">"ÙØ±ÙŠÙ‚ Ù…Ø­ØªØ±Ù ÙˆÙŠÙÙ‡Ù… ÙÙŠ Ø§Ù„ÙÙ„Ø§Ø­Ø© Ù…Ù„ÙŠØ­. Ø§Ù„Ø¨Ø°ÙˆØ± Ø§Ù„Ù„ÙŠ Ø´Ø±ÙŠØªÙ‡Ù… Ø¹Ø·Ø§ÙˆÙ†ÙŠ Ù…Ø­ØµÙˆÙ„ Ù‚ÙˆÙŠ ÙˆØµØ­ÙŠ. Ø´ÙƒØ±Ø§Ù‹ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡"</p>
                        <div class="testimonial-author">
                            <div class="author-avatar">Ø³</div>
                            <div class="author-info">
                                <h4>Ø³Ù…ÙŠØ± Ø§Ù„Ø´Ø§Ø¨ÙŠ</h4>
                                <p>Ø§Ù„Ù…Ù‡Ø¯ÙŠØ© - ÙÙ„Ø§Ø­ Ø·Ù…Ø§Ø·Ù…</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cart Tab -->
            <div class="tab-content" id="cart">
                <h2 class="section-title">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h2>
                <div id="cartContent">
                    <div class="empty-cart">
                        <i class="fas fa-shopping-cart"></i>
                        <p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© ØªÙˆÙ‘Ø©</p>
                        <button class="btn btn-next" onclick="switchTab('products')" style="max-width: 350px; margin: 30px auto 0;">
                            <i class="fas fa-shopping-bag"></i>
                            Ø§Ø¨Ø¯Ø§ ØªØ³ÙˆÙ‘Ù‚
                        </button>
                    </div>
                </div>
            </div>

            <!-- Checkout Tab -->
            <div class="tab-content" id="checkout">
                <h2 class="section-title">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h2>
                <p class="section-subtitle">Ø£ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ£ÙƒÙ‘Ø¯ Ø·Ù„Ø¨Ùƒ</p>
                
                <div style="max-width: 900px; margin: 0 auto; display: grid; grid-template-columns: 1fr; gap: 30px;">
                    <!-- Order Summary -->
                    <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <h3 style="color: var(--primary-green); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-receipt"></i>
                            Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
                        </h3>
                        <div id="checkoutSummary"></div>
                        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--light-gray);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ:</span>
                                <span id="checkoutSubtotal">0.00 Ø¯.Øª</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„:</span>
                                <span>7.00 Ø¯.Øª</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 1.3em; font-weight: 800; color: var(--primary-green);">
                                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</span>
                                <span id="checkoutTotal">0.00 Ø¯.Øª</span>
                            </div>
                        </div>
                    </div>

                    <!-- Checkout Form -->
                    <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <form id="checkoutForm" style="display: grid; gap: 20px;">
                            <!-- Customer Info -->
                            <div>
                                <h3 style="color: var(--text-dark); margin-bottom: 15px; font-size: 1.1em;">ğŸ“‹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
                                <div style="display: grid; gap: 15px;">
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 8px; font-weight: 700;">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
                                        <input type="text" id="checkoutName" required style="width: 100%; padding: 12px; border: 2px solid var(--light-gray); border-radius: 10px; font-family: 'Tajawal', sans-serif;">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 8px; font-weight: 700;">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label>
                                        <input type="tel" id="checkoutPhone" required style="width: 100%; padding: 12px; border: 2px solid var(--light-gray); border-radius: 10px; font-family: 'Tajawal', sans-serif;">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 8px; font-weight: 700;">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                        <input type="email" id="checkoutEmail" style="width: 100%; padding: 12px; border: 2px solid var(--light-gray); border-radius: 10px; font-family: 'Tajawal', sans-serif;">
                                    </div>
                                </div>
                            </div>

                            <!-- Shipping Address -->
                            <div>
                                <h3 style="color: var(--text-dark); margin-bottom: 15px; font-size: 1.1em;">ğŸ“ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
                                <div style="display: grid; gap: 15px;">
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 8px; font-weight: 700;">Ø§Ù„Ù…Ù†Ø·Ù‚Ø© *</label>
                                        <select id="checkoutRegion" required style="width: 100%; padding: 12px; border: 2px solid var(--light-gray); border-radius: 10px; font-family: 'Tajawal', sans-serif;">
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©...</option>
                                            <option value="tunis">ØªÙˆÙ†Ø³</option>
                                            <option value="ariana">Ø£Ø±ÙŠØ§Ù†Ø©</option>
                                            <option value="ben-arous">Ø¨Ù† Ø¹Ø±ÙˆØ³</option>
                                            <option value="manouba">Ù…Ù†ÙˆØ¨Ø©</option>
                                            <option value="nabeul">Ù†Ø§Ø¨Ù„</option>
                                            <option value="zaghouan">Ø²ØºÙˆØ§Ù†</option>
                                            <option value="bizerte">Ø¨Ù†Ø²Ø±Øª</option>
                                            <option value="beja">Ø¨Ø§Ø¬Ø©</option>
                                            <option value="jendouba">Ø¬Ù†Ø¯ÙˆØ¨Ø©</option>
                                            <option value="kef">Ø§Ù„ÙƒØ§Ù</option>
                                            <option value="siliana">Ø³Ù„ÙŠØ§Ù†Ø©</option>
                                            <option value="kairouan">Ø§Ù„Ù‚ÙŠØ±ÙˆØ§Ù†</option>
                                            <option value="kasserine">Ø§Ù„Ù‚ØµØ±ÙŠÙ†</option>
                                            <option value="sidi-bouzid">Ø³ÙŠØ¯ÙŠ Ø¨ÙˆØ²ÙŠØ¯</option>
                                            <option value="sousse">Ø³ÙˆØ³Ø©</option>
                                            <option value="monastir">Ø§Ù„Ù…Ù†Ø³ØªÙŠØ±</option>
                                            <option value="mahdia">Ø§Ù„Ù…Ù‡Ø¯ÙŠØ©</option>
                                            <option value="sfax">ØµÙØ§Ù‚Ø³</option>
                                            <option value="gafsa">Ù‚ÙØµØ©</option>
                                            <option value="tozeur">ØªÙˆØ²Ø±</option>
                                            <option value="kebili">Ù‚Ø¨Ù„ÙŠ</option>
                                            <option value="gabes">Ù‚Ø§Ø¨Ø³</option>
                                            <option value="medenine">Ù…Ø¯Ù†ÙŠÙ†</option>
                                            <option value="tataouine">ØªØ·Ø§ÙˆÙŠÙ†</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 8px; font-weight: 700;">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„ *</label>
                                        <textarea id="checkoutAddress" required style="width: 100%; padding: 12px; border: 2px solid var(--light-gray); border-radius: 10px; font-family: 'Tajawal', sans-serif; min-height: 100px; resize: vertical;" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø´Ø§Ø±Ø¹ØŒ Ø§Ù„Ø­ÙŠØŒ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..."></textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Payment Method -->
                            <div>
                                <h3 style="color: var(--text-dark); margin-bottom: 15px; font-size: 1.1em;">ğŸ’³ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</h3>
                                <div style="display: grid; gap: 15px;">
                                    <label style="display: flex; align-items: center; gap: 15px; padding: 15px; border: 2px solid var(--light-gray); border-radius: 10px; cursor: pointer; transition: all 0.3s;">
                                        <input type="radio" name="paymentMethod" value="cod" checked style="width: auto;">
                                        <div>
                                            <div style="font-weight: 700; margin-bottom: 5px;">
                                                <i class="fas fa-money-bill-wave"></i>
                                                Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
                                            </div>
                                            <div style="font-size: 0.9em; color: #666;">
                                                Ø§Ø¯ÙØ¹ Ù†Ù‚Ø¯Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨
                                            </div>
                                        </div>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 15px; padding: 15px; border: 2px solid var(--light-gray); border-radius: 10px; cursor: pointer; transition: all 0.3s;">
                                        <input type="radio" name="paymentMethod" value="bank" style="width: auto;">
                                        <div>
                                            <div style="font-weight: 700; margin-bottom: 5px;">
                                                <i class="fas fa-university"></i>
                                                ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ
                                            </div>
                                            <div style="font-size: 0.9em; color: #666;">
                                                Ø­ÙˆÙ‘Ù„ Ù„Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ ÙˆØ£Ø±Ø³Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <!-- Notes -->
                            <div>
                                <h3 style="color: var(--text-dark); margin-bottom: 15px; font-size: 1.1em;">ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</h3>
                                <textarea id="checkoutNotes" style="width: 100%; padding: 12px; border: 2px solid var(--light-gray); border-radius: 10px; font-family: 'Tajawal', sans-serif; min-height: 80px; resize: vertical;" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø·Ù„Ø¨..."></textarea>
                            </div>

                            <div style="display: flex; gap: 15px;">
                                <button type="button" class="btn" onclick="switchTab('cart')" style="flex: 1; background: #999;">
                                    <i class="fas fa-arrow-right"></i>
                                    Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø³Ù„Ø©
                                </button>
                                <button type="submit" class="btn btn-next" style="flex: 2;" id="submitOrderBtn">
                                    <i class="fas fa-check-circle"></i>
                                    ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Crop data with problems and solutions
        const cropDatabase = {
            tomato: {
                problems: [
                    { value: 'diseases', label: 'Ø£Ù…Ø±Ø§Ø¶', icon: 'ğŸ¦ ' },
                    { value: 'pests', label: 'Ø­Ø´Ø±Ø§Øª', icon: 'ğŸ›' },
                    { value: 'yellowing', label: 'Ø§ØµÙØ±Ø§Ø±', icon: 'ğŸŸ¡' },
                    { value: 'wilting', label: 'Ø°Ø¨ÙˆÙ„', icon: 'ğŸ˜µ' }
                ],
                symptoms: {
                    diseases: ['Ø¨Ù‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ±Ù‚', 'Ø¹ÙÙ† Ø§Ù„Ø«Ù…Ø§Ø±', 'Ø¨ÙŠØ§Ø¶ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ±Ù‚', 'ØªÙ„ÙˆÙ† Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ù‚'],
                    pests: ['Ø­Ø´Ø±Ø§Øª ØµØºÙŠØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ±Ù‚', 'Ø«Ù‚ÙˆØ¨ ÙÙŠ Ø§Ù„ÙˆØ±Ù‚', 'Ø¯ÙŠØ¯Ø§Ù† ÙÙŠ Ø§Ù„Ø«Ù…Ø§Ø±', 'Ø§Ù„ÙˆØ±Ù‚ Ù…Ù„ÙÙˆÙ'],
                    yellowing: ['Ø§ØµÙØ±Ø§Ø± Ø§Ù„ÙˆØ±Ù‚ Ø§Ù„Ù‚Ø¯ÙŠÙ…', 'Ø§ØµÙØ±Ø§Ø± Ø§Ù„ÙˆØ±Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯', 'Ø§ØµÙØ±Ø§Ø± Ù…Ø¹ Ø¨Ù‚Ø¹'],
                    wilting: ['Ø°Ø¨ÙˆÙ„ ÙÙŠ Ø§Ù„ØµØ¨Ø§Ø­', 'Ø°Ø¨ÙˆÙ„ Ø¯Ø§Ø¦Ù…', 'Ø°Ø¨ÙˆÙ„ Ù…Ø¹ Ø§Ø³ÙˆØ¯Ø§Ø¯']
                },
                solutions: {
                    diseases: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£Ù…Ø±Ø§Ø¶ ÙÙŠ Ø§Ù„Ø·Ù…Ø§Ø·Ù…',
                        diagnosis: 'Ø­Ø³Ø¨ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ù„ÙŠ Ø°ÙƒØ±ØªÙ‡Ø§ØŒ ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ùˆ Ø¹Ù†Ø¯Ùƒ Ù…Ø±Ø¶ ÙØ·Ø±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù…Ø§Ø·Ù… Ù…ØªØ§Ø¹Ùƒ.',
                        causes: ['Ø±Ø·ÙˆØ¨Ø© Ø¹Ø§Ù„ÙŠØ©', 'Ø³Ù‚ÙŠ Ø²Ø§ÙŠØ¯', 'Ù‚Ù„Ø© Ø§Ù„ØªÙ‡ÙˆÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª', 'ØªØ±Ø§ÙƒÙ… Ø§Ù„Ù…ÙŠØ§Ù‡'],
                        solutions: [
                            'Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ù…Ø«Ù„ "Ù…Ø§Ù†ÙƒÙˆØ²ÙŠØ¨" Ø£Ùˆ "ÙƒÙˆØ¨Ø±ÙˆÙƒØ³Ø§Øª" - Ø±Ø´Ù‘Ùˆ ÙƒÙ„ 10 Ø£ÙŠØ§Ù…',
                            'Ù‚Ù„Ù‘Ù„ Ù…Ù† Ø§Ù„Ø³Ù‚ÙŠ - Ø§Ø³Ù‚ÙŠ Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ± Ø¨Ø§Ø´ Ø§Ù„ÙˆØ±Ù‚ ÙŠÙ†Ø´Ù Ù†Ù‡Ø§Ø±',
                            'Ø§Ø­Ø°Ù Ø§Ù„ÙˆØ±Ù‚ Ø§Ù„Ù…ØµØ§Ø¨ ÙˆØ§Ø±Ù…ÙŠÙ‡ Ø¨Ø¹ÙŠØ¯',
                            'Ø­Ø³Ù‘Ù† Ø§Ù„ØªÙ‡ÙˆÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª',
                            'Ù…Ø§ ØªØ²ÙŠØ¯Ø´ ØªØ³Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ±Ù‚ - Ø§Ø³Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ Ø¨Ø±Ùƒ'
                        ],
                        prevention: [
                            'Ø²Ø±Ø¹ Ø£ØµÙ†Ø§Ù Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ø£Ù…Ø±Ø§Ø¶',
                            'Ø¯ÙˆÙ‘Ø± Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„ (Ù…Ø§ ØªØ²Ø±Ø¹Ø´ Ø·Ù…Ø§Ø·Ù… ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…ÙƒØ§Ù† ÙƒÙ„ Ø¹Ø§Ù…)',
                            'Ù†Ø¸Ù‘Ù Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ù…ØªØ§Ø¹Ùƒ Ù…Ù„ÙŠØ­',
                            'Ø§Ø³ØªØ®Ø¯Ù… ØªØ³Ù…ÙŠØ¯ Ù…ØªÙˆØ§Ø²Ù† - Ø§Ù„Ø¢Ø²ÙˆØª Ø§Ù„Ø²Ø§ÙŠØ¯ ÙŠØ¶Ø¹Ù‘Ù Ø§Ù„Ù†Ø¨Ø§Øª'
                        ],
                        products: ['Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ù…Ø§Ù†ÙƒÙˆØ²ÙŠØ¨', 'ÙƒÙˆØ¨Ø±ÙˆÙƒØ³Ø§Øª', 'Ø³Ù…Ø§Ø¯ NPK Ù…ØªÙˆØ§Ø²Ù†']
                    },
                    pests: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø­Ø´Ø±Ø§Øª ÙÙŠ Ø§Ù„Ø·Ù…Ø§Ø·Ù…',
                        diagnosis: 'Ø¹Ù†Ø¯Ùƒ Ø¥ØµØ§Ø¨Ø© Ø¨Ø§Ù„Ø­Ø´Ø±Ø§Øª - ØºØ§Ù„Ø¨Ø§Ù‹ Ø§Ù„Ù…Ù†Ù‘ Ø£Ùˆ Ø§Ù„Ø°Ø¨Ø§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡.',
                        causes: ['Ø·Ù‚Ø³ Ø¯Ø§ÙØ¦', 'Ù†Ø¨Ø§ØªØ§Øª Ø¶Ø¹ÙŠÙØ©', 'Ù‚Ù„Ø© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©'],
                        solutions: [
                            'Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ Ø·Ø¨ÙŠØ¹ÙŠ (Ø²ÙŠØª Ø§Ù„Ù†ÙŠÙ…) - Ø¢Ù…Ù† ÙˆÙØ¹Ù‘Ø§Ù„',
                            'Ø±Ø´Ù‘ Ø¨Ù…Ø­Ù„ÙˆÙ„ ØµØ§Ø¨ÙˆÙ† (20 Ù…Ù„ ØµØ§Ø¨ÙˆÙ† Ø³Ø§Ø¦Ù„ + 1 Ù„ØªØ± Ù…Ø§Ø¡)',
                            'Ø¥Ø°Ø§ Ø§Ù„Ø¥ØµØ§Ø¨Ø© Ù‚ÙˆÙŠØ©: Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¨ÙŠØ¯ "Ø¥ÙŠÙ…ÙŠØ¯Ø§ÙƒÙ„ÙˆØ¨Ø±ÙŠØ¯"',
                            'Ø¬ÙŠØ¨ Ø¯Ø¹Ø³ÙˆÙ‚Ø© (ladybugs) - ØªØ§ÙƒÙ„ Ø§Ù„Ø­Ø´Ø±Ø§Øª',
                            'Ø§Ø²Ø±Ø¹ Ù†Ø¹Ù†Ø§Ø¹ Ø£Ùˆ Ø±ÙŠØ­Ø§Ù† Ø¬Ù†Ø¨ Ø§Ù„Ø·Ù…Ø§Ø·Ù… - ÙŠØ·Ø±Ø¯ÙˆØ§ Ø§Ù„Ø­Ø´Ø±Ø§Øª'
                        ],
                        prevention: [
                            'Ø±Ø§Ù‚Ø¨ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ù…ØªØ§Ø¹Ùƒ Ø¨Ø§Ù†ØªØ¸Ø§Ù…',
                            'Ø§Ø³ØªØ®Ø¯Ù… Ù…ØµØ§Ø¦Ø¯ ØµÙØ±Ø§Ø¡ Ù„Ø§ØµÙ‚Ø©',
                            'Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù†Ø¸Ø§ÙØ© Ø§Ù„Ø­Ù‚Ù„',
                            'Ù…Ø§ ØªØ³ØªØ®Ø¯Ù…Ø´ ØªØ³Ù…ÙŠØ¯ Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†ÙŠ Ø²Ø§ÙŠØ¯'
                        ],
                        products: ['Ø²ÙŠØª Ø§Ù„Ù†ÙŠÙ… Ø§Ù„Ø¹Ø¶ÙˆÙŠ', 'Ù…Ø¨ÙŠØ¯ Ø¥ÙŠÙ…ÙŠØ¯Ø§ÙƒÙ„ÙˆØ¨Ø±ÙŠØ¯', 'Ù…ØµØ§Ø¦Ø¯ Ø§Ù„Ø­Ø´Ø±Ø§Øª Ø§Ù„Ù„Ø§ØµÙ‚Ø©']
                    },
                    yellowing: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§ØµÙØ±Ø§Ø± Ø§Ù„Ø·Ù…Ø§Ø·Ù…',
                        diagnosis: 'Ø§Ù„Ø§ØµÙØ±Ø§Ø± Ø±Ø§Ø¬Ø¹ ØºØ§Ù„Ø¨Ø§Ù‹ Ù„Ù†Ù‚Øµ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø£Ùˆ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ø¬Ø°ÙˆØ±.',
                        causes: ['Ù†Ù‚Øµ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†', 'Ù†Ù‚Øµ Ø§Ù„Ø­Ø¯ÙŠØ¯', 'Ø³Ù‚ÙŠ ØºÙŠØ± Ù…Ù†ØªØ¸Ù…', 'Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„ØªØ±Ø¨Ø©'],
                        solutions: [
                            'Ø¥Ø°Ø§ Ø§Ù„Ø§ØµÙØ±Ø§Ø± ÙÙŠ Ø§Ù„ÙˆØ±Ù‚ Ø§Ù„Ù‚Ø¯ÙŠÙ…: Ø²ÙŠØ¯ Ø³Ù…Ø§Ø¯ Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†ÙŠ',
                            'Ø¥Ø°Ø§ Ø§Ù„Ø§ØµÙØ±Ø§Ø± ÙÙŠ Ø§Ù„ÙˆØ±Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ø²ÙŠØ¯ Ø­Ø¯ÙŠØ¯ Ù…Ø®Ù„Ø¨ÙŠ (Iron chelate)',
                            'Ø§Ø³ØªØ®Ø¯Ù… Ø³Ù…Ø§Ø¯ Ù…ØªÙƒØ§Ù…Ù„ NPK (20-20-20)',
                            'Ø§Ø¶Ø¨Ø· Ø§Ù„Ø³Ù‚ÙŠ - Ù„Ø§ Ø²Ø§ÙŠØ¯ ÙˆÙ„Ø§ Ù†Ø§Ù‚Øµ',
                            'Ø­Ø³Ù‘Ù† Ø§Ù„ØªØ±Ø¨Ø© Ø¨Ø¥Ø¶Ø§ÙØ© ÙƒÙ…Ø¨ÙˆØ³Øª'
                        ],
                        prevention: [
                            'Ø§Ø³ØªØ®Ø¯Ù… ØªØ³Ù…ÙŠØ¯ Ù…Ù†ØªØ¸Ù… ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†',
                            'Ø§ÙØ­Øµ pH Ø§Ù„ØªØ±Ø¨Ø© (Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ 6-6.8)',
                            'Ø§Ø³Ù‚ÙŠ Ø¨Ø§Ù†ØªØ¸Ø§Ù… - Ø§Ù„ØªØ±Ø¨Ø© Ù„Ø§Ø²Ù…Ù‡Ø§ ØªÙƒÙˆÙ† Ø±Ø·Ø¨Ø© Ù…Ø´ Ù…Ø¨Ù„ÙˆÙ„Ø©',
                            'Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø§Ù„ØªØ´ (mulch) Ø¨Ø§Ø´ ØªØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©'
                        ],
                        products: ['Ø³Ù…Ø§Ø¯ NPK 20-20-20', 'Ø­Ø¯ÙŠØ¯ Ù…Ø®Ù„Ø¨ÙŠ', 'ÙƒÙ…Ø¨ÙˆØ³Øª Ø¹Ø¶ÙˆÙŠ']
                    },
                    wilting: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø°Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù…Ø§Ø·Ù…',
                        diagnosis: 'Ø§Ù„Ø°Ø¨ÙˆÙ„ ÙŠÙ…ÙƒÙ† ÙŠÙƒÙˆÙ† Ù…Ù† Ù…Ø±Ø¶ Ø°Ø¨ÙˆÙ„ Ø§Ù„Ø¨ÙƒØªÙŠØ±ÙŠ Ø£Ùˆ Ø§Ù„ÙØ·Ø±ÙŠØŒ Ø£Ùˆ Ù…Ù† Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ø¬Ø°ÙˆØ±.',
                        causes: ['Ù…Ø±Ø¶ Ø§Ù„Ø°Ø¨ÙˆÙ„ Ø§Ù„ÙÙŠÙˆØ²Ø§Ø±ÙˆÙ…ÙŠ', 'Ù…Ø±Ø¶ Ø§Ù„Ø°Ø¨ÙˆÙ„ Ø§Ù„Ø¨ÙƒØªÙŠØ±ÙŠ', 'Ø¯ÙŠØ¯Ø§Ù† Ø§Ù„Ø¬Ø°ÙˆØ±', 'Ø³Ù‚ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­'],
                        solutions: [
                            'Ø¥Ø°Ø§ Ø§Ù„Ø°Ø¨ÙˆÙ„ Ù…Ø¹ Ø§Ø³ÙˆØ¯Ø§Ø¯: ØºØ§Ù„Ø¨Ø§Ù‹ Ù…Ø±Ø¶ ÙØ·Ø±ÙŠ - Ø§Ø­Ø°Ù Ø§Ù„Ù†Ø¨Ø§Øª Ø§Ù„Ù…ØµØ§Ø¨ ÙÙˆØ±Ø§Ù‹',
                            'Ø¹Ø§Ù„Ø¬ Ø§Ù„ØªØ±Ø¨Ø© Ø¨Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©',
                            'Ø­Ø³Ù‘Ù† Ø§Ù„ØµØ±Ù - Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ø±Ø§ÙƒØ¯ ÙŠØ³Ø¨Ø¨ Ø§Ù„Ø°Ø¨ÙˆÙ„',
                            'Ø§Ø³ØªØ®Ø¯Ù… Ø£ØµÙ†Ø§Ù Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ø°Ø¨ÙˆÙ„',
                            'Ø§Ø³Ù‚ÙŠ Ø¨Ø§Ù†ØªØ¸Ø§Ù… ÙÙŠ Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ±'
                        ],
                        prevention: [
                            'Ø§Ø³ØªØ®Ø¯Ù… Ø¨Ø°ÙˆØ± Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ø£Ù…Ø±Ø§Ø¶',
                            'Ø¯ÙˆÙ‘Ø± Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„ (Ù…Ø§ ØªØ²Ø±Ø¹Ø´ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…ÙƒØ§Ù†)',
                            'Ø­Ø³Ù‘Ù† ØªØµØ±ÙŠÙ Ø§Ù„Ù…Ø§Ø¡',
                            'Ø¹Ù‚Ù‘Ù… Ø§Ù„ØªØ±Ø¨Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø²Ø±Ø§Ø¹Ø©',
                            'Ø§Ø³ØªØ®Ø¯Ù… ØªØ³Ù…ÙŠØ¯ Ø¹Ø¶ÙˆÙŠ ÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ù†Ø¨Ø§Øª'
                        ],
                        products: ['Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ù„Ù„ØªØ±Ø¨Ø©', 'Ø¨Ø°ÙˆØ± Ø·Ù…Ø§Ø·Ù… Ù…Ù‚Ø§ÙˆÙ…Ø©', 'Ù…Ø­Ø³Ù‘Ù† ØªØ±Ø¨Ø© Ø¹Ø¶ÙˆÙŠ']
                    }
                }
            },
            pepper: {
                problems: [
                    { value: 'diseases', label: 'Ø£Ù…Ø±Ø§Ø¶', icon: 'ğŸ¦ ' },
                    { value: 'pests', label: 'Ø­Ø´Ø±Ø§Øª', icon: 'ğŸ›' },
                    { value: 'fruit-drop', label: 'ØªØ³Ø§Ù‚Ø· Ø§Ù„Ø«Ù…Ø§Ø±', icon: 'â¬‡ï¸' }
                ],
                symptoms: {
                    diseases: ['Ø¨Ù‚Ø¹ Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ±Ù‚', 'ØªØ¬Ø¹Ø¯ Ø§Ù„ÙˆØ±Ù‚', 'Ø¹ÙÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø«Ù…Ø§Ø±'],
                    pests: ['Ø§Ù„Ù…Ù† Ø§Ù„Ø£Ø®Ø¶Ø±', 'Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª Ø§Ù„Ø£Ø­Ù…Ø±', 'Ø¯ÙˆØ¯Ø© Ø«Ù…Ø§Ø± Ø§Ù„ÙÙ„ÙÙ„'],
                    'fruit-drop': ['ØªØ³Ø§Ù‚Ø· Ø§Ù„Ø²Ù‡ÙˆØ±', 'ØªØ³Ø§Ù‚Ø· Ø§Ù„Ø«Ù…Ø§Ø± Ø§Ù„ØµØºÙŠØ±Ø©']
                },
                solutions: {
                    diseases: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£Ù…Ø±Ø§Ø¶ ÙÙŠ Ø§Ù„ÙÙ„ÙÙ„',
                        diagnosis: 'Ø§Ù„ÙÙ„ÙÙ„ Ù…ØªØ§Ø¹Ùƒ Ø¹Ù†Ø¯Ùˆ Ø¥ØµØ§Ø¨Ø© ÙØ·Ø±ÙŠØ© Ø£Ùˆ Ø¨ÙƒØªÙŠØ±ÙŠØ©.',
                        causes: ['Ø±Ø·ÙˆØ¨Ø© Ø¹Ø§Ù„ÙŠØ©', 'Ø¯Ø±Ø¬Ø§Øª Ø­Ø±Ø§Ø±Ø© ØºÙŠØ± Ù…Ù†Ø§Ø³Ø¨Ø©', 'Ø³Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ±Ù‚'],
                        solutions: [
                            'Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ù†Ø­Ø§Ø³ÙŠ (ÙƒÙˆØ¨Ø±ÙˆÙƒØ³Ø§Øª)',
                            'Ø§Ø­Ø°Ù Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù…ØµØ§Ø¨Ø© ÙˆØ§Ø±Ù…ÙŠÙ‡Ø§',
                            'Ø­Ø³Ù‘Ù† Ø§Ù„ØªÙ‡ÙˆÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª',
                            'Ø§Ø³Ù‚ÙŠ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ±Ø¨Ø© Ù…Ø´ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ±Ù‚',
                            'Ø±Ø´Ù‘ ÙƒÙ„ 7-10 Ø£ÙŠØ§Ù… ÙÙŠ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø±Ø·Ø¨'
                        ],
                        prevention: ['Ø²Ø±Ø¹ Ø£ØµÙ†Ø§Ù Ù…Ù‚Ø§ÙˆÙ…Ø©', 'ØªØ¨Ø§Ø¹Ø¯ Ø¬ÙŠØ¯ Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª', 'Ø³Ù‚ÙŠ ØµØ¨Ø§Ø­ÙŠ'],
                        products: ['Ù…Ø¨ÙŠØ¯ Ù†Ø­Ø§Ø³ÙŠ', 'Ù…Ø¨ÙŠØ¯ Ù…Ø§Ù†ÙƒÙˆØ²ÙŠØ¨']
                    },
                    pests: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø­Ø´Ø±Ø§Øª ÙÙŠ Ø§Ù„ÙÙ„ÙÙ„',
                        diagnosis: 'Ø­Ø´Ø±Ø§Øª Ù…Ø§ØµØ© Ù„Ù„Ø¹ØµØ§Ø±Ø© ØªÙ‡Ø§Ø¬Ù… Ø§Ù„ÙÙ„ÙÙ„ Ù…ØªØ§Ø¹Ùƒ.',
                        causes: ['Ø·Ù‚Ø³ Ø¯Ø§ÙØ¦ ÙˆØ¬Ø§Ù', 'Ù†Ø¨Ø§ØªØ§Øª Ø¶Ø¹ÙŠÙØ©'],
                        solutions: [
                            'Ø±Ø´Ù‘ Ø¨Ø²ÙŠØª Ø§Ù„Ù†ÙŠÙ… - ÙØ¹Ù‘Ø§Ù„ ÙˆØ¢Ù…Ù†',
                            'Ø§Ø³ØªØ®Ø¯Ù… ØµØ§Ø¨ÙˆÙ† Ø­Ø´Ø±ÙŠ',
                            'Ø¥Ø°Ø§ Ø§Ù„Ø¥ØµØ§Ø¨Ø© Ù‚ÙˆÙŠØ©: Ù…Ø¨ÙŠØ¯ Ø£Ø¨Ø§Ù…ÙŠÙƒØªÙŠÙ† Ù„Ù„Ø¹Ù†ÙƒØ¨ÙˆØª',
                            'Ø²Ø±Ø¹ Ù†Ø¨Ø§ØªØ§Øª Ø·Ø§Ø±Ø¯Ø© Ù…Ø«Ù„ Ø§Ù„ÙƒØ²Ø¨Ø±Ø©',
                            'Ø§Ø³ØªØ®Ø¯Ù… Ù…ØµØ§Ø¦Ø¯ ØµÙØ±Ø§Ø¡ Ù„Ø§ØµÙ‚Ø©'
                        ],
                        prevention: ['ÙØ­Øµ Ù…Ù†ØªØ¸Ù…', 'Ø±Ø´ ÙˆÙ‚Ø§Ø¦ÙŠ ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†', 'ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ø¨Ø§Ù„ØªØ³Ù…ÙŠØ¯ Ø§Ù„Ù…ØªÙˆØ§Ø²Ù†'],
                        products: ['Ø²ÙŠØª Ø§Ù„Ù†ÙŠÙ…', 'Ù…Ø¨ÙŠØ¯ Ø£Ø¨Ø§Ù…ÙŠÙƒØªÙŠÙ†', 'ØµØ§Ø¨ÙˆÙ† Ø­Ø´Ø±ÙŠ']
                    },
                    'fruit-drop': {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© ØªØ³Ø§Ù‚Ø· Ø«Ù…Ø§Ø± Ø§Ù„ÙÙ„ÙÙ„',
                        diagnosis: 'Ø§Ù„ØªØ³Ø§Ù‚Ø· Ø±Ø§Ø¬Ø¹ Ù„Ø¸Ø±ÙˆÙ Ø¨ÙŠØ¦ÙŠØ© Ø£Ùˆ Ù†Ù‚Øµ ØªØºØ°ÙŠØ©.',
                        causes: ['Ø­Ø±Ø§Ø±Ø© Ø¹Ø§Ù„ÙŠØ© (+35Â°C)', 'Ù†Ù‚Øµ Ø§Ù„Ø¨ÙˆØ±ÙˆÙ†', 'Ø³Ù‚ÙŠ ØºÙŠØ± Ù…Ù†ØªØ¸Ù…', 'Ù†Ù‚Øµ Ø§Ù„ØªÙ„Ù‚ÙŠØ­'],
                        solutions: [
                            'Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø³Ù‚ÙŠ Ù…Ù†ØªØ¸Ù… - Ø§Ù„Ø¬ÙØ§Ù ÙŠØ³Ø¨Ø¨ Ø§Ù„ØªØ³Ø§Ù‚Ø·',
                            'Ø±Ø´Ù‘ Ø§Ù„Ø¨ÙˆØ±ÙˆÙ† (5 Ø¬Ø±Ø§Ù…/10 Ù„ØªØ± Ù…Ø§Ø¡) ÙˆÙ‚Øª Ø§Ù„Ø¥Ø²Ù‡Ø§Ø±',
                            'Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¸Ù„Ù„Ø§Øª Ø¥Ø°Ø§ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø¹Ø§Ù„ÙŠØ©',
                            'Ø±Ø´Ù‘ Ø¨Ù‡Ø±Ù…ÙˆÙ†Ø§Øª ØªØ«Ø¨ÙŠØª Ø§Ù„Ø«Ù…Ø§Ø±',
                            'Ø­Ø³Ù‘Ù† Ø§Ù„ØªÙ„Ù‚ÙŠØ­ Ø¨Ù‡Ø² Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª ØµØ¨Ø§Ø­Ø§Ù‹'
                        ],
                        prevention: ['Ø³Ù‚ÙŠ Ù…Ù†ØªØ¸Ù…', 'ØªØ³Ù…ÙŠØ¯ Ù…ØªÙˆØ§Ø²Ù†', 'Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø´Ø¯ÙŠØ¯Ø©'],
                        products: ['Ø¨ÙˆØ±ÙˆÙ† Ø²Ø±Ø§Ø¹ÙŠ', 'Ù‡Ø±Ù…ÙˆÙ† ØªØ«Ø¨ÙŠØª Ø§Ù„Ø«Ù…Ø§Ø±', 'Ø³Ù…Ø§Ø¯ ÙƒØ§Ù„Ø³ÙŠÙˆÙ… ÙˆØ¨ÙˆØ±ÙˆÙ†']
                    }
                }
            },
            wheat: {
                problems: [
                    { value: 'rust', label: 'Ø§Ù„ØµØ¯Ø£', icon: 'ğŸŸ¤' },
                    { value: 'pests', label: 'Ø­Ø´Ø±Ø§Øª', icon: 'ğŸ›' },
                    { value: 'lodging', label: 'Ø±Ù‚Ø§Ø¯ Ø§Ù„Ø³Ù†Ø§Ø¨Ù„', icon: 'â¬‡ï¸' }
                ],
                symptoms: {
                    rust: ['Ø¨Ù‚Ø¹ ØµÙØ±Ø§Ø¡-Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠØ©', 'Ø¨Ù‚Ø¹ Ø¨Ù†ÙŠØ©', 'ØªØ³Ø§Ù‚Ø· Ø§Ù„ÙˆØ±Ù‚'],
                    pests: ['Ø§Ù„Ù…Ù†', 'Ø§Ù„Ø³ÙˆÙ†Ø©', 'Ø§Ù„Ø¯ÙŠØ¯Ø§Ù† Ø§Ù„Ù‚Ø§Ø±Ø¶Ø©'],
                    lodging: ['Ø§Ù„Ø³Ù†Ø§Ø¨Ù„ ØªÙ…ÙŠÙ„', 'Ø§Ù„Ø³ÙŠÙ‚Ø§Ù† Ø¶Ø¹ÙŠÙØ©']
                },
                solutions: {
                    rust: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØµØ¯Ø£ ÙÙŠ Ø§Ù„Ù‚Ù…Ø­',
                        diagnosis: 'Ø§Ù„Ù‚Ù…Ø­ Ù…ØªØ§Ø¹Ùƒ Ù…ØµØ§Ø¨ Ø¨Ù…Ø±Ø¶ Ø§Ù„ØµØ¯Ø£ - Ù…Ø±Ø¶ ÙØ·Ø±ÙŠ Ø®Ø·ÙŠØ±.',
                        causes: ['Ø±Ø·ÙˆØ¨Ø© Ø¹Ø§Ù„ÙŠØ©', 'Ø£ØµÙ†Ø§Ù Ø­Ø³Ø§Ø³Ø©', 'Ø·Ù‚Ø³ Ù…Ø¹ØªØ¯Ù„ (15-25Â°C)'],
                        solutions: [
                            'Ø±Ø´Ù‘ ÙÙˆØ±Ø§Ù‹ Ø¨Ù…Ø¨ÙŠØ¯ ØªÙŠØ¨ÙˆÙƒÙˆÙ†Ø§Ø²ÙˆÙ„ Ø£Ùˆ Ø¨Ø±ÙˆØ¨ÙŠÙƒÙˆÙ†Ø§Ø²ÙˆÙ„',
                            'ÙƒØ±Ù‘Ø± Ø§Ù„Ø±Ø´ Ø¨Ø¹Ø¯ 15-20 ÙŠÙˆÙ…',
                            'Ø§Ø²Ø±Ø¹ Ø£ØµÙ†Ø§Ù Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„ØµØ¯Ø£ ÙÙŠ Ø§Ù„Ù…ÙˆØ³Ù… Ø§Ù„Ø¬Ø§ÙŠ',
                            'Ø§Ø­Ø±Ù‚ Ø§Ù„Ø¨Ù‚Ø§ÙŠØ§ Ø§Ù„Ù†Ø¨Ø§ØªÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø­ØµØ§Ø¯',
                            'Ø§Ø¨Ø¯Ø§ Ø§Ù„Ø±Ø´ Ø§Ù„ÙˆÙ‚Ø§Ø¦ÙŠ Ù…Ø¨ÙƒØ±Ø§Ù‹'
                        ],
                        prevention: ['Ø²Ø±Ø§Ø¹Ø© Ø£ØµÙ†Ø§Ù Ù…Ù‚Ø§ÙˆÙ…Ø©', 'Ø±Ø´ ÙˆÙ‚Ø§Ø¦ÙŠ', 'Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¨Ù‚Ø§ÙŠØ§ Ø§Ù„Ù…ØµØ§Ø¨Ø©', 'Ø¯ÙˆØ±Ø© Ø²Ø±Ø§Ø¹ÙŠØ©'],
                        products: ['ØªÙŠØ¨ÙˆÙƒÙˆÙ†Ø§Ø²ÙˆÙ„', 'Ø¨Ø±ÙˆØ¨ÙŠÙƒÙˆÙ†Ø§Ø²ÙˆÙ„', 'Ù…Ø¨ÙŠØ¯ ØªØ±ÙŠÙÙ„ÙˆÙƒØ³ÙŠØ³ØªØ±ÙˆØ¨ÙŠÙ†']
                    },
                    pests: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø­Ø´Ø±Ø§Øª ÙÙŠ Ø§Ù„Ù‚Ù…Ø­',
                        diagnosis: 'Ø­Ø´Ø±Ø§Øª ØªÙ‡Ø§Ø¬Ù… Ø§Ù„Ù‚Ù…Ø­ ÙˆØªÙ†Ù‚Øµ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ§Ø¬.',
                        causes: ['Ø·Ù‚Ø³ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø­Ø´Ø±Ø§Øª', 'Ø¶Ø¹Ù Ø§Ù„Ù†Ø¨Ø§Øª'],
                        solutions: [
                            'Ù„Ù„Ù…Ù†Ù‘: Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¨ÙŠØ¯ Ø¥ÙŠÙ…ÙŠØ¯Ø§ÙƒÙ„ÙˆØ¨Ø±ÙŠØ¯',
                            'Ù„Ù„Ø³ÙˆÙ†Ø©: Ø±Ø´Ù‘ Ø¯Ù„ØªØ§Ù…Ø«Ø±ÙŠÙ†',
                            'Ù„Ù„Ø¯ÙŠØ¯Ø§Ù† Ø§Ù„Ù‚Ø§Ø±Ø¶Ø©: Ø·Ø¹ÙˆÙ… Ø³Ø§Ù…Ø© Ø­ÙˆÙ„ Ø§Ù„Ø­Ù‚Ù„',
                            'Ø±Ø´Ù‘ ÙÙŠ Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ± Ø£Ùˆ Ø§Ù„Ù…Ø³Ø§Ø¡',
                            'ÙƒØ±Ù‘Ø± Ø§Ù„Ø±Ø´ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©'
                        ],
                        prevention: ['ÙØ­Øµ Ø¯ÙˆØ±ÙŠ', 'Ø²Ø±Ø§Ø¹Ø© Ù…Ø¨ÙƒØ±Ø©', 'ØªØ³Ù…ÙŠØ¯ Ù…ØªÙˆØ§Ø²Ù†', 'Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨'],
                        products: ['Ø¥ÙŠÙ…ÙŠØ¯Ø§ÙƒÙ„ÙˆØ¨Ø±ÙŠØ¯', 'Ø¯Ù„ØªØ§Ù…Ø«Ø±ÙŠÙ†', 'ÙƒÙ„ÙˆØ±Ø¨ÙŠØ±ÙŠÙÙˆØ³']
                    },
                    lodging: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø±Ù‚Ø§Ø¯ Ø§Ù„Ù‚Ù…Ø­',
                        diagnosis: 'Ø§Ù„Ø³ÙŠÙ‚Ø§Ù† Ø¶Ø¹ÙŠÙØ© ÙˆØ§Ù„Ø³Ù†Ø§Ø¨Ù„ Ù‚Ø§Ø¹Ø¯Ø© ØªÙ…ÙŠÙ„.',
                        causes: ['ØªØ³Ù…ÙŠØ¯ Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†ÙŠ Ø²Ø§ÙŠØ¯', 'ÙƒØ«Ø§ÙØ© Ø²Ø±Ø§Ø¹Ø© Ø¹Ø§Ù„ÙŠØ©', 'Ø±ÙŠØ§Ø­ Ù‚ÙˆÙŠØ©', 'Ø³Ù‚ÙŠ Ø²Ø§ÙŠØ¯'],
                        solutions: [
                            'Ù‚Ù„Ù‘Ù„ Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø¯ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†ÙŠ',
                            'Ø§Ø³ØªØ®Ø¯Ù… Ù…Ù†Ø¸Ù…Ø§Øª Ù†Ù…Ùˆ (CCC) Ù„ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ø³Ø§Ù‚',
                            'Ø­Ø³Ù‘Ù† ØªØµØ±ÙŠÙ Ø§Ù„Ù…Ø§Ø¡',
                            'Ø§Ø­ØµØ¯ Ù…Ø¨ÙƒØ±Ø§Ù‹ Ù‚Ø¨Ù„ Ù…Ø§ ÙŠØªÙØ§Ù‚Ù… Ø§Ù„Ø±Ù‚Ø§Ø¯',
                            'Ø§Ø³ØªØ®Ø¯Ù… Ø³Ù…Ø§Ø¯ Ø§Ù„Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ… - ÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ø³Ø§Ù‚'
                        ],
                        prevention: ['Ù…Ø¹Ø¯Ù„ Ø¨Ø°Ø§Ø± Ù…Ù†Ø§Ø³Ø¨', 'ØªØ³Ù…ÙŠØ¯ Ù…ØªÙˆØ§Ø²Ù†', 'Ø£ØµÙ†Ø§Ù Ù‚ØµÙŠØ±Ø© Ø§Ù„Ø³Ø§Ù‚', 'ØªØµØ±ÙŠÙ Ø¬ÙŠØ¯'],
                        products: ['Ù…Ù†Ø¸Ù… Ù†Ù…Ùˆ CCC', 'Ø³Ù…Ø§Ø¯ Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…', 'Ø¨Ø°ÙˆØ± Ø£ØµÙ†Ø§Ù Ù‚ØµÙŠØ±Ø©']
                    }
                }
            },
            // Simplified entries for other crops
            potato: {
                problems: [
                    { value: 'diseases', label: 'Ø£Ù…Ø±Ø§Ø¶', icon: 'ğŸ¦ ' },
                    { value: 'pests', label: 'Ø­Ø´Ø±Ø§Øª', icon: 'ğŸ›' }
                ],
                symptoms: {
                    diseases: ['Ù…Ø±Ø¶ Ø§Ù„Ù„ÙØ­Ø©', 'Ø¨Ù‚Ø¹ Ø³ÙˆØ¯Ø§Ø¡', 'Ø¹ÙÙ† Ø§Ù„Ø¯Ø±Ù†Ø§Øª'],
                    pests: ['Ø¯ÙˆØ¯Ø© Ø§Ù„Ø¯Ø±Ù†Ø§Øª', 'Ø§Ù„Ù…Ù†', 'Ø§Ù„Ø®Ù†Ø§ÙØ³']
                },
                solutions: {
                    diseases: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø¨Ø·Ø§Ø·Ø§',
                        diagnosis: 'Ø§Ù„Ø¨Ø·Ø§Ø·Ø§ Ø¹Ù†Ø¯Ù‡Ø§ Ù…Ø±Ø¶ ÙØ·Ø±ÙŠ.',
                        solutions: ['Ù…Ø¨ÙŠØ¯ Ù…Ø§Ù†ÙƒÙˆØ²ÙŠØ¨', 'Ù…ÙŠØªØ§Ù„Ø§ÙƒØ³ÙŠÙ„', 'Ø±Ø´ ÙˆÙ‚Ø§Ø¦ÙŠ Ù…Ù†ØªØ¸Ù…'],
                        products: ['Ù…Ø§Ù†ÙƒÙˆØ²ÙŠØ¨', 'Ø±ÙŠØ¯ÙˆÙ…ÙŠÙ„ Ø¬ÙˆÙ„Ø¯']
                    }
                }
            },
            olive: {
                problems: [
                    { value: 'fly', label: 'Ø°Ø¨Ø§Ø¨Ø© Ø§Ù„Ø²ÙŠØªÙˆÙ†', icon: 'ğŸª°' },
                    { value: 'diseases', label: 'Ø£Ù…Ø±Ø§Ø¶', icon: 'ğŸ¦ ' }
                ],
                symptoms: {
                    fly: ['Ø«Ù‚ÙˆØ¨ ÙÙŠ Ø§Ù„Ø«Ù…Ø§Ø±', 'ÙŠØ±Ù‚Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ø²ÙŠØªÙˆÙ†'],
                    diseases: ['Ø¹ÙŠÙ† Ø§Ù„Ø·Ø§ÙˆÙˆØ³', 'Ø¬ÙØ§Ù Ø§Ù„Ø£ØºØµØ§Ù†']
                },
                solutions: {
                    fly: {
                        title: 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø°Ø¨Ø§Ø¨Ø© Ø§Ù„Ø²ÙŠØªÙˆÙ†',
                        diagnosis: 'Ø§Ù„Ø²ÙŠØªÙˆÙ† Ù…ØªØ§Ø¹Ùƒ Ù…ØµØ§Ø¨ Ø¨Ø°Ø¨Ø§Ø¨Ø© Ø§Ù„Ø²ÙŠØªÙˆÙ†.',
                        solutions: ['Ù…ØµØ§Ø¦Ø¯ ÙÙŠØ±Ù…ÙˆÙ†ÙŠØ©', 'Ø±Ø´ Ø¯Ù„ØªØ§Ù…Ø«Ø±ÙŠÙ†', 'Ø·Ø¹ÙˆÙ… Ø¨Ø±ÙˆØªÙŠÙ†ÙŠØ© Ø³Ø§Ù…Ø©'],
                        products: ['Ø¯Ù„ØªØ§Ù…Ø«Ø±ÙŠÙ†', 'Ù…ØµØ§Ø¦Ø¯ ÙÙŠØ±Ù…ÙˆÙ†ÙŠØ©', 'Ø·Ø¹Ù… Ø¨Ø±ÙˆØªÙŠÙ†ÙŠ']
                    }
                }
            }
        };

        // Apply same structure to remaining crops
        cropDatabase.grape = cropDatabase.potato; // Ø§Ù„Ø¹Ù†Ø¨
        cropDatabase.fennel = cropDatabase.potato;
        cropDatabase.watermelon = cropDatabase.tomato;
        cropDatabase.zucchini = cropDatabase.tomato;
        cropDatabase.eggplant = cropDatabase.tomato;
        cropDatabase.strawberry = cropDatabase.tomato; // Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø©

        // Consultation Form Logic
        const formState = {
            crop: '',
            area: '',
            water: '',
            soil: '',
            period: '',
            userName: '',
            userPhone: '',
            userRegion: '',
            // Tree-specific fields
            treeArea: '',
            treeWater: '',
            treeSoil: '',
            treeStage: '',
            treeUserName: '',
            treeUserPhone: '',
            treeUserRegion: ''
        };

        let currentQuestion = 1;
        const totalQuestions = 7;
        
        // Track if user selected tree crop
        let isTreeCrop = false;
        const treeCrops = ['olive', 'beans', 'almond', 'grains'];
        const firebaseCrops = ['olive', 'beans', 'almond', 'grains', 'fennel']; // Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„ Ø§Ù„Ù„ÙŠ Ø¹Ù†Ø¯Ù‡Ù… Ø­Ù„ÙˆÙ„ ÙÙŠ Firebase

        document.addEventListener('DOMContentLoaded', function() {
            setupConsultationForm();
        });

        function setupConsultationForm() {
            // Crop selection
            document.querySelectorAll('[data-crop]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-crop]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formState.crop = this.dataset.crop;
                    
                    // Check if selected crop is a tree
                    isTreeCrop = treeCrops.includes(this.dataset.crop);
                    console.log('Selected crop:', this.dataset.crop, 'Is tree:', isTreeCrop);
                    
                    // Force auto-advance for Q1
                    console.log('ğŸ”„ Q1 auto-advance triggered');
                    const autoAdvanceTimer = setTimeout(() => {
                        console.log('â¡ï¸ Q1: Advancing now...');
                        // Directly call nextQuestion without validation check
                        // (we know crop is selected at this point)
                        nextQuestion();
                    }, 700);
                    
                    // Store timer so we can cancel if user manually clicks next
                    card.dataset.autoAdvanceTimer = autoAdvanceTimer;
                });
            });

            // Area selection
            document.querySelectorAll('[data-area]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-area]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formState.area = this.dataset.area;
                    
                    // Auto-advance to next question after 500ms
                    setTimeout(() => {
                        if (validateQuestion()) {
                            nextQuestion();
                        }
                    }, 500);
                });
            });

            // Water availability selection
            document.querySelectorAll('[data-water]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-water]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formState.water = this.dataset.water;
                    
                    // Auto-advance to next question after 500ms
                    setTimeout(() => {
                        if (validateQuestion()) {
                            nextQuestion();
                        }
                    }, 500);
                });
            });

            // Soil type selection
            document.querySelectorAll('[data-soil]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-soil]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formState.soil = this.dataset.soil;
                    
                    // Auto-advance to next question after 500ms
                    setTimeout(() => {
                        if (validateQuestion()) {
                            nextQuestion();
                        }
                    }, 500);
                });
            });

            // Water salinity selection
            document.querySelectorAll('[data-salinity]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-salinity]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formState.salinity = this.dataset.salinity;
                    
                    // Auto-advance to next question after 500ms
                    setTimeout(() => {
                        if (validateQuestion()) {
                            nextQuestion();
                        }
                    }, 500);
                });
            });

            // Cultivation period selection
            document.querySelectorAll('[data-period]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-period]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formState.period = this.dataset.period;
                    
                    // Auto-advance - this is usually the last question, so it will trigger submit
                    setTimeout(() => {
                        if (validateQuestion()) {
                            // Check if this is the last question
                            const isLastQuestion = isTreeCrop ? (currentQuestion === 'tree-6') : (currentQuestion === totalQuestions);
                            if (!isLastQuestion) {
                                nextQuestion();
                            }
                        }
                    }, 500);
                });
            });

            // TREE CROP LISTENERS
            
            // Tree area selection
            document.querySelectorAll('[data-tree-area]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-tree-area]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formState.treeArea = this.dataset.treeArea;
                    
                    // Auto-advance to next question after 500ms
                    setTimeout(() => {
                        if (validateQuestion()) {
                            nextQuestion();
                        }
                    }, 500);
                });
            });
            
            // Tree water (irrigation)
            document.querySelectorAll('[data-tree-water]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-tree-water]').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    formState.treeWater = this.dataset.treeWater;
                    
                    // Auto-advance to next question after 500ms
                    setTimeout(() => {
                        if (validateQuestion()) {
                            nextQuestion();
                        }
                    }, 500);
                });
            });
            
            // Tree soil type
            document.querySelectorAll('[data-tree-soil]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-tree-soil]').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    formState.treeSoil = this.dataset.treeSoil;
                    
                    // Auto-advance to next question after 500ms
                    setTimeout(() => {
                        if (validateQuestion()) {
                            nextQuestion();
                        }
                    }, 500);
                });
            });
            
            // Tree growth stage
            document.querySelectorAll('[data-tree-stage]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('[data-tree-stage]').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    formState.treeStage = this.dataset.treeStage;
                    
                    // Auto-advance to next question after 500ms
                    setTimeout(() => {
                        if (validateQuestion()) {
                            nextQuestion();
                        }
                    }, 500);
                });
            });

            // User data inputs
            const userNameInput = document.getElementById('userName');
            const userPhoneInput = document.getElementById('userPhone');
            const userRegionInput = document.getElementById('userRegion');

            if (userNameInput) {
                userNameInput.addEventListener('input', function() {
                    formState.userName = this.value.trim();
                });
                userNameInput.addEventListener('focus', function() {
                    this.style.borderColor = 'var(--primary-green)';
                    this.style.boxShadow = '0 0 0 4px rgba(45, 134, 89, 0.1)';
                });
                userNameInput.addEventListener('blur', function() {
                    this.style.borderColor = 'var(--light-gray)';
                    this.style.boxShadow = 'none';
                });
            }

            if (userPhoneInput) {
                userPhoneInput.addEventListener('input', function() {
                    formState.userPhone = this.value.trim();
                });
                userPhoneInput.addEventListener('focus', function() {
                    this.style.borderColor = 'var(--primary-green)';
                    this.style.boxShadow = '0 0 0 4px rgba(45, 134, 89, 0.1)';
                });
                userPhoneInput.addEventListener('blur', function() {
                    this.style.borderColor = 'var(--light-gray)';
                    this.style.boxShadow = 'none';
                });
            }

            if (userRegionInput) {
                userRegionInput.addEventListener('change', function() {
                    formState.userRegion = this.value;
                });
                userRegionInput.addEventListener('focus', function() {
                    this.style.borderColor = 'var(--primary-green)';
                    this.style.boxShadow = '0 0 0 4px rgba(45, 134, 89, 0.1)';
                });
                userRegionInput.addEventListener('blur', function() {
                    this.style.borderColor = 'var(--light-gray)';
                    this.style.boxShadow = 'none';
                });
            }

            // Tree user data inputs
            const treeUserName = document.getElementById('treeUserName');
            const treeUserPhone = document.getElementById('treeUserPhone');
            const treeUserRegion = document.getElementById('treeUserRegion');
            
            if (treeUserName) {
                treeUserName.addEventListener('input', function() {
                    formState.treeUserName = this.value.trim();
                });
                treeUserName.addEventListener('focus', function() {
                    this.style.borderColor = 'var(--primary-green)';
                    this.style.boxShadow = '0 0 0 4px rgba(45, 134, 89, 0.1)';
                });
                treeUserName.addEventListener('blur', function() {
                    this.style.borderColor = 'var(--light-gray)';
                    this.style.boxShadow = 'none';
                });
            }
            
            if (treeUserPhone) {
                treeUserPhone.addEventListener('input', function() {
                    formState.treeUserPhone = this.value.trim();
                });
                treeUserPhone.addEventListener('focus', function() {
                    this.style.borderColor = 'var(--primary-green)';
                    this.style.boxShadow = '0 0 0 4px rgba(45, 134, 89, 0.1)';
                });
                treeUserPhone.addEventListener('blur', function() {
                    this.style.borderColor = 'var(--light-gray)';
                    this.style.boxShadow = 'none';
                });
            }
            
            if (treeUserRegion) {
                treeUserRegion.addEventListener('change', function() {
                    formState.treeUserRegion = this.value;
                });
                treeUserRegion.addEventListener('focus', function() {
                    this.style.borderColor = 'var(--primary-green)';
                    this.style.boxShadow = '0 0 0 4px rgba(45, 134, 89, 0.1)';
                });
                treeUserRegion.addEventListener('blur', function() {
                    this.style.borderColor = 'var(--light-gray)';
                    this.style.boxShadow = 'none';
                });
            }

            // Navigation
            document.getElementById('btnNext').addEventListener('click', nextQuestion);
            document.getElementById('btnBack').addEventListener('click', previousQuestion);
            document.getElementById('btnSubmit').addEventListener('click', generateResponse);
        }


        function attachOptionListeners() {
            // Period options
            document.querySelectorAll('.option-card[data-period]').forEach(card => {
                card.addEventListener('click', function() {
                    // Remove active from all period cards
                    document.querySelectorAll('.option-card[data-period]').forEach(c => c.classList.remove('active'));
                    // Add active to clicked
                    this.classList.add('active');
                    // Save value
                    formState.period = this.dataset.period;
                    // Auto-advance
                    setTimeout(() => {
                        if (validateQuestion()) nextQuestion();
                    }, 600);
                });
            });
        }

        function updatePeriodOptions() {
            const crop = formState.crop;
            const periodQuestion = document.querySelector('[data-question="6"]');
            if (!periodQuestion) return;
            
            const optionsGrid = periodQuestion.querySelector('.options-grid');
            
            // ÙØªØ±Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø©
            if (crop === 'strawberry') {
                optionsGrid.innerHTML = `
                    <div class="option-card" data-period="short">
                        <span class="option-icon">ğŸŒ±</span>
                        <div class="option-label">Ù…Ù† 0 Ø¥Ù„Ù‰ 90 ÙŠÙˆÙ…</div>
                        <div style="font-size: 0.85em; color: #666; margin-top: 5px;">ØªØ£Ø³ÙŠØ³ Ø§Ù„Ù†Ø¨Ø§Øª</div>
                    </div>
                    <div class="option-card" data-period="medium">
                        <span class="option-icon">ğŸŒ¸</span>
                        <div class="option-label">Ù…Ù† 90 Ø¥Ù„Ù‰ 180 ÙŠÙˆÙ…</div>
                        <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø¥Ø²Ù‡Ø§Ø± + ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø«Ù…Ø§Ø±</div>
                    </div>
                    <div class="option-card" data-period="long">
                        <span class="option-icon">ğŸ“</span>
                        <div class="option-label">Ø¨Ø¹Ø¯ 180 ÙŠÙˆÙ…</div>
                        <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ù†Ø¶Ø¬ Ø§Ù„Ø«Ù…Ø§Ø±</div>
                    </div>
                `;
            } else {
                // ÙØªØ±Ø§Øª Ø¹Ø§Ø¯ÙŠØ© Ù„Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„
                optionsGrid.innerHTML = `
                    <div class="option-card" data-period="short">
                        <span class="option-icon">âš¡</span>
                        <div class="option-label">Ù…Ù† 15 Ø¥Ù„Ù‰ 45 ÙŠÙˆÙ…</div>
                        <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø²Ø±Ø§Ø¹Ø© Ø³Ø±ÙŠØ¹Ø©</div>
                    </div>
                    <div class="option-card" data-period="medium">
                        <span class="option-icon">ğŸŒ±</span>
                        <div class="option-label">Ù…Ù† 45 Ø¥Ù„Ù‰ 60 ÙŠÙˆÙ…</div>
                        <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø²Ø±Ø§Ø¹Ø© Ù…ØªÙˆØ³Ø·Ø©</div>
                    </div>
                    <div class="option-card" data-period="long">
                        <span class="option-icon">ğŸŒ¾</span>
                        <div class="option-label">Ù…Ù† 60 Ø¥Ù„Ù‰ 90 ÙŠÙˆÙ…</div>
                        <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø²Ø±Ø§Ø¹Ø© Ø·ÙˆÙŠÙ„Ø©</div>
                    </div>
                    <div class="option-card" data-period="very-long">
                        <span class="option-icon">ğŸŒ³</span>
                        <div class="option-label">Ø£ÙƒØ«Ø± Ù…Ù† 90 ÙŠÙˆÙ…</div>
                        <div style="font-size: 0.85em; color: #666; margin-top: 5px;">Ø²Ø±Ø§Ø¹Ø© Ø·ÙˆÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹</div>
                    </div>
                `;
            }
            
            // Re-attach event listeners
            attachOptionListeners();
        }

        function nextQuestion() {
            if (!validateQuestion()) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥ÙƒÙ…Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„');
                return;
            }
            
            // Hide current question
            const currentElement = document.querySelector(`[data-question="${currentQuestion}"]${isTreeCrop ? '' : ':not(.tree-question)'}, [data-question="tree-${currentQuestion}"]${isTreeCrop ? '.tree-question' : ''}`);
            if (currentElement) {
                currentElement.classList.remove('active');
                currentElement.style.display = 'none';
            }
            
            // Determine next question based on crop type
            if (isTreeCrop) {
                // Tree path: 1 -> tree-2 -> tree-3 -> tree-4 -> tree-5 -> tree-6
                if (currentQuestion === 1) {
                    currentQuestion = 'tree-2';
                } else if (currentQuestion === 'tree-2') {
                    currentQuestion = 'tree-3';
                } else if (currentQuestion === 'tree-3') {
                    currentQuestion = 'tree-4';
                } else if (currentQuestion === 'tree-4') {
                    currentQuestion = 'tree-5';
                } else if (currentQuestion === 'tree-5') {
                    currentQuestion = 'tree-6';
                }
            } else {
                // Vegetable path: 1 -> 2 -> 3 -> 4 -> 5 -> 6
                if (currentQuestion < totalQuestions) {
                    currentQuestion++;
                }
            }
            
            // Update period options if reaching question 6
            if (currentQuestion === 6 && !isTreeCrop) {
                updatePeriodOptions();
            }
            
            // Show next question
            const nextElement = document.querySelector(`[data-question="${currentQuestion}"]`);
            if (nextElement) {
                nextElement.classList.add('active');
                nextElement.style.display = 'block';
            }
            
            updateProgress();
            updateButtons();
            // Removed auto scroll to top from nextQuestion
        }

        function previousQuestion() {
            // Hide current question
            const currentElement = document.querySelector(`[data-question="${currentQuestion}"]`);
            if (currentElement) {
                currentElement.classList.remove('active');
                currentElement.style.display = 'none';
            }
            
            // Determine previous question
            if (isTreeCrop) {
                if (currentQuestion === 'tree-6') {
                    currentQuestion = 'tree-5';
                } else if (currentQuestion === 'tree-5') {
                    currentQuestion = 'tree-4';
                } else if (currentQuestion === 'tree-4') {
                    currentQuestion = 'tree-3';
                } else if (currentQuestion === 'tree-3') {
                    currentQuestion = 'tree-2';
                } else if (currentQuestion === 'tree-2') {
                    currentQuestion = 1;
                }
            } else {
                if (currentQuestion > 1) {
                    currentQuestion--;
                }
            }
            
            // Show previous question
            const prevElement = document.querySelector(`[data-question="${currentQuestion}"]`);
            if (prevElement) {
                prevElement.classList.add('active');
                prevElement.style.display = 'block';
            }
            
            updateProgress();
            updateButtons();
            // Removed auto scroll to top from previousQuestion
        }

        function validateQuestion() {
            if (isTreeCrop) {
                switch(currentQuestion) {
                    case 1: return formState.crop !== '';
                    case 'tree-2': return formState.treeArea !== undefined && formState.treeArea !== '';
                    case 'tree-3': return formState.treeSoil !== undefined && formState.treeSoil !== '';
                    case 'tree-4': return formState.treeWater !== undefined && formState.treeWater !== '';
                    case 'tree-5': return formState.treeStage !== undefined && formState.treeStage !== '';
                    case 'tree-6':
                        const treeName = document.getElementById('treeUserName')?.value.trim() || '';
                        const treePhone = document.getElementById('treeUserPhone')?.value.trim() || '';
                        const treeRegion = document.getElementById('treeUserRegion')?.value || '';
                        return treeName.length >= 3 && treePhone.length >= 8 && treeRegion !== '';
                    default: return true;
                }
            } else {
                switch(currentQuestion) {
                    case 1: return formState.crop !== '';
                    case 2: return formState.area !== '';
                    case 3: return formState.water !== '';
                    case 4: return formState.soil !== '';
                    case 5: return formState.salinity !== undefined && formState.salinity !== '';
                    case 6: return formState.period !== '';
                    case 7:
                        if (formState.userName === '' || formState.userName.length < 3) return false;
                        if (formState.userPhone === '' || formState.userPhone.length < 8) return false;
                        if (formState.userRegion === '') return false;
                        return true;
                    default: return true;
                }
            }
        }

        function updateProgress() {
            let progress, questionNum, totalNum;
            
            if (isTreeCrop) {
                const treeQuestions = [1, 'tree-2', 'tree-3', 'tree-4', 'tree-5', 'tree-6'];
                questionNum = treeQuestions.indexOf(currentQuestion) + 1;
                totalNum = 6;
            } else {
                questionNum = currentQuestion;
                totalNum = totalQuestions;
            }
            
            progress = (questionNum / totalNum) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Ø³Ø¤Ø§Ù„ ${questionNum} Ù…Ù† ${totalNum}`;
        }

        function updateButtons() {
            const btnBack = document.getElementById('btnBack');
            const btnNext = document.getElementById('btnNext');
            const btnSubmit = document.getElementById('btnSubmit');

            const isFirstQuestion = currentQuestion === 1;
            const isLastQuestion = isTreeCrop ? (currentQuestion === 'tree-6') : (currentQuestion === totalQuestions);

            btnBack.style.display = isFirstQuestion ? 'none' : 'flex';
            btnNext.style.display = isLastQuestion ? 'none' : 'flex';
            btnSubmit.style.display = isLastQuestion ? 'flex' : 'none';
        }

        async function generateResponse() {
            if (!validateQuestion()) return;
            
            const crop = formState.crop;
            const isTree = treeCrops.includes(crop);
            const useFirebase = firebaseCrops.includes(crop); // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ø§Ù„Ù…Ø­ØµÙˆÙ„ ÙŠØ³ØªØ®Ø¯Ù… Firebase
            const period = isTree ? formState.treeStage : formState.period;

            console.log('ğŸ” Generating response:', {
                crop,
                isTree,
                useFirebase,
                period,
                treeStage: formState.treeStage,
                willUseFirebase: useFirebase
            });

            // Hide form
            document.getElementById('consultationForm').style.display = 'none';
            document.querySelector('.progress-bar').style.display = 'none';
            document.querySelector('.progress-text').style.display = 'none';

            // Generate detailed solutions based on inputs
            let responseHTML = `
                <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 25px; border-radius: 15px; margin-bottom: 25px; border: 3px solid var(--primary-green);">
                    <h3 style="color: var(--primary-green); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5em;">ğŸŒ¾</span>
                        <span>${getCropName(crop)} / ${isTree ? getStageName(period) : getPeriodName(period, crop)}</span>
                    </h3>
                    <div style="background: white; padding: 15px; border-radius: 10px; font-size: 0.95em;">
                        <strong>ğŸ“Š Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙÙ„Ø§Ø­Ø©:</strong>
                        Ø§Ù„Ù…Ø³Ø§Ø­Ø©: ${isTree ? formState.treeArea : formState.area} | Ø§Ù„Ø±ÙŠ: ${isTree ? formState.treeWater : formState.water} | Ø§Ù„ØªØ±Ø¨Ø©: ${isTree ? formState.treeSoil : formState.soil}
                    </div>
                </div>

                <h3 style="color: var(--dark-green); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span style="font-size: 1.3em;">ğŸ’Š</span>
                    <span>Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙØªØ±Ø©:</span>
                </h3>
                
                ${useFirebase ? await getSolutionsFromFirebase(crop, period, isTree) : getSolutionsForPeriod(crop, period)}
                
                <div style="background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%); padding: 20px; border-radius: 12px; margin-top: 25px; border: 2px solid var(--accent-orange);">
                    <p style="margin: 0; font-size: 1.05em; color: var(--text-dark); line-height: 1.7;">
                        <i class="fas fa-lightbulb" style="color: var(--accent-orange); font-size: 1.3em; margin-left: 8px;"></i>
                        <strong>Ù†ØµÙŠØ­Ø© Ù…Ù‡Ù…Ø©:</strong> Ù‡Ø°Ù‡ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø¹Ø§Ù…Ø©. Ù†Ù†ØµØ­Ùƒ Ø¨Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø­ØµÙˆÙ„ ÙŠÙˆÙ…ÙŠØ§Ù‹ ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø±Ø¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); padding: 30px; border-radius: 15px; margin-top: 30px; border: 3px solid #2196f3;">
                    <h3 style="color: #1565c0; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5em;">ğŸ“¦</span>
                        <span>Pack Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§</span>
                    </h3>
                    
                    <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <p style="margin: 0 0 15px 0; color: var(--text-dark); font-size: 1.05em;">
                            Ù†Ù‚ØªØ±Ø­ Ø¹Ù„ÙŠÙƒ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù„ÙŠ ØªÙ„Ø²Ù…Ùƒ Ù„Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§:
                        </p>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                            ${await getProductsForSolutions(crop, period)}
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="switchTab('products')" style="background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%); color: white; border: none; padding: 15px 40px; border-radius: 10px; font-size: 1.1em; font-weight: 700; cursor: pointer; box-shadow: 0 4px 15px rgba(45, 134, 89, 0.3); transition: all 0.3s ease;">
                            ğŸ›’ Ø²ÙˆØ± Ø§Ù„Ù…ØªØ¬Ø±
                        </button>
                    </div>
                </div>
            `;

            document.getElementById('responseContent').innerHTML = responseHTML;
            document.getElementById('responseBox').classList.add('show');
            
            // Removed auto scroll to top - user can scroll manually to see results
        }

        async function getProductsForSolutions(crop, period) {
            // Ø¬Ù„Ø¨ Ø§Ù„Ù€ pack Ù…Ù† Firebase
            try {
                const snapshot = await db.collection('packs')
                    .where('crop', '==', crop)
                    .where('period', '==', period)
                    .limit(1)
                    .get();
                
                let products = [];
                
                if (!snapshot.empty) {
                    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ pack Ù…Ù† Firebase
                    const pack = snapshot.docs[0].data();
                    products = pack.products;
                } else {
                    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù†ØªØ¬Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                    products = [
                        { name: 'Ø³Ù…Ø§Ø¯ NPK ÙˆØ±Ù‚ÙŠ', price: '45 Ø¯.Øª', icon: 'ğŸŒ¿', description: 'Ø³Ù…Ø§Ø¯ Ù…ØªÙˆØ§Ø²Ù† Ù„Ù„Ù†Ù…Ùˆ' },
                        { name: 'Ø£Ø­Ù…Ø§Ø¶ Ø£Ù…ÙŠÙ†ÙŠØ©', price: '35 Ø¯.Øª', icon: 'ğŸŒŠ', description: 'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø§Ù…ØªØµØ§Øµ' },
                        { name: 'ÙƒØ§Ù„Ø³ÙŠÙˆÙ… + Ø¨ÙˆØ±ÙˆÙ†', price: '40 Ø¯.Øª', icon: 'ğŸ’ª', description: 'ÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ø£Ù†Ø³Ø¬Ø©' },
                        { name: 'Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ ÙˆÙ‚Ø§Ø¦ÙŠ', price: '55 Ø¯.Øª', icon: 'ğŸ›¡ï¸', description: 'Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ø£Ù…Ø±Ø§Ø¶' },
                        { name: 'Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ Ø·Ø¨ÙŠØ¹ÙŠ', price: '50 Ø¯.Øª', icon: 'ğŸ›', description: 'Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø¢ÙØ§Øª' }
                    ];
                }
                
                let html = '';
                products.forEach(product => {
                    html += `
                        <div style="background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%); padding: 15px; border-radius: 10px; text-align: center; transition: all 0.3s ease; cursor: pointer; border: 2px solid transparent;" onmouseover="this.style.borderColor='var(--primary-green)'; this.style.transform='translateY(-5px)'" onmouseout="this.style.borderColor='transparent'; this.style.transform='translateY(0)'">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">${product.icon}</div>
                            <div style="font-weight: 700; font-size: 1em; color: var(--text-dark); margin-bottom: 5px;">${product.name}</div>
                            <div style="font-size: 0.85em; color: #666; margin-bottom: 10px;">${product.description}</div>
                            <div style="color: var(--primary-green); font-weight: 800; font-size: 1.1em;">${product.price}</div>
                        </div>
                    `;
                });
                
                return html;
            } catch (error) {
                console.error('Error loading pack:', error);
                // return default products on error
                return `
                    <div style="text-align: center; padding: 20px; color: #999;">
                        <p>Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø±ÙŠØ¨Ø§Ù‹</p>
                    </div>
                `;
            }
        }

        function getCropName(crop) {
            const names = {
                'tomato': 'Ø§Ù„Ø·Ù…Ø§Ø·Ù…',
                'pepper': 'Ø§Ù„ÙÙ„ÙÙ„',
                'grape': 'Ø§Ù„Ø¹Ù†Ø¨',
                'fennel': 'Ø§Ù„Ø¨Ø³Ø¨Ø§Ø³',
                'potato': 'Ø§Ù„Ø¨Ø·Ø§Ø·Ø§',
                'watermelon': 'Ø§Ù„Ø¨Ø·ÙŠØ®',
                'grains': 'Ø§Ù„Ø­Ø¨ÙˆØ¨',
                'olive': 'Ø§Ù„Ø²ÙŠØªÙˆÙ†',
                'strawberry': 'Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø©',
                'melon': 'Ø§Ù„Ø¯Ù„Ø§Ø¹',
                'almond': 'Ø§Ù„Ù„ÙˆØ²',
                'citrus': 'Ø§Ù„Ù‚ÙˆØ§Ø±Øµ'
            };
            return names[crop] || crop;
        }

        function getStageName(stage) {
            const names = {
                'dormancy': 'ÙØªØ±Ø© Ø§Ù„Ø³Ø¨Ø§Øª (Ø§Ù„Ø´ØªØ§Ø¡)',
                'flowering': 'ÙØªØ±Ø© Ø§Ù„ØªØ²Ù‡ÙŠØ±',
                'fruit-set': 'ÙØªØ±Ø© Ø§Ù„Ø¹Ù‚Ø¯',
                'ripening': 'ÙØªØ±Ø© Ù†Ø¶Ø¬ Ø§Ù„Ø«Ù…Ø§Ø±'
            };
            return names[stage] || stage;
        }

        async function getSolutionsFromFirebase(crop, period, isTree) {
            try {
                console.log(`ğŸ” Ø¬Ù„Ø¨ Ø§Ù„Ø­Ù„ÙˆÙ„ Ù…Ù† Firebase: ${crop}, ${period}, isTree: ${isTree}`);
                
                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù„Ø¨Ø­Ø« (treeStage Ù„Ù„Ø£Ø´Ø¬Ø§Ø±ØŒ period Ù„Ù„Ø¨Ø³Ø¨Ø§Ø³)
                const fieldName = isTree ? 'treeStage' : 'period';
                
                const snapshot = await db.collection('solutions')
                    .where('crop', '==', crop)
                    .where(fieldName, '==', period)
                    .where('active', '==', true)
                    .limit(1)
                    .get();

                if (snapshot.empty) {
                    console.log('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù„ÙˆÙ„ ÙÙŠ FirebaseØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');
                    return '<div style="padding: 20px; background: #fff3cd; border-radius: 10px; text-align: center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù„ÙˆÙ„ Ù…Ø­Ø¯Ø¯Ø© Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
                }

                let html = '<div class="solutions-list">';
                let productIndex = 1;
                
                snapshot.forEach(doc => {
                    const solution = doc.data();
                    console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ Ø­Ù„: ${solution.periodName}`);
                    
                    // Show notes if available
                    if (solution.notes) {
                        html += `
                            <div style="background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%); padding: 20px; border-radius: 12px; margin-bottom: 15px; border-right: 4px solid #ffc107;">
                                <strong style="color: #856404;">ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø©:</strong>
                                <p style="margin: 10px 0 0 0; color: #856404; line-height: 1.6;">
                                    ${solution.notes}
                                </p>
                            </div>
                        `;
                    }
                    
                    // Ø¥Ø°Ø§ Ø¹Ù†Ø¯Ùˆ solution text Ù…ÙØµÙ„ØŒ Ø§Ø¹Ø±Ø¶Ùˆ
                    if (solution.solution && solution.solution.length > 100) {
                        html += `
                            <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; border-right: 5px solid var(--primary-green); box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                                <div style="white-space: pre-line; line-height: 1.8; color: var(--text-dark);">
                                    ${solution.solution}
                                </div>
                            </div>
                        `;
                    }
                    // ÙˆØ¥Ù„Ø§ØŒ Ø§Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
                    else if (solution.products && solution.products.length > 0) {
                        solution.products.forEach(product => {
                            html += `
                                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 15px; border-right: 5px solid var(--primary-green); box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                                    <div style="display: flex; align-items: start; gap: 15px; margin-bottom: 12px;">
                                        <span style="font-size: 2em; flex-shrink: 0;">${product.icon || 'ğŸŒ±'}</span>
                                        <div style="flex: 1;">
                                            <h4 style="color: var(--primary-green); margin: 0 0 8px 0; font-size: 1.15em;">
                                                ${productIndex}. ${product.name}
                                            </h4>
                                            <div style="background: var(--warm-beige); padding: 10px; border-radius: 8px; margin-bottom: 10px;">
                                                <strong style="color: var(--dark-green);">ğŸ“ Ø§Ù„Ø¬Ø±Ø¹Ø©:</strong>
                                                <span style="color: var(--text-dark); font-weight: 600;">${product.dosage || product.dose}</span>
                                            </div>
                                            ${product.timing ? `
                                                <div style="background: #e8f5e9; padding: 10px; border-radius: 8px; margin-bottom: 10px;">
                                                    <strong style="color: #2d8659;">â° Ø§Ù„ØªÙˆÙ‚ÙŠØª:</strong>
                                                    <span style="color: var(--text-dark);">${product.timing}</span>
                                                </div>
                                            ` : ''}
                                            <div style="padding: 10px; background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border-radius: 8px;">
                                                <strong style="color: #1565c0;">ğŸ’¡ Ø¹Ù„Ø§Ø´ØŸ</strong>
                                                <p style="margin: 5px 0 0 0; color: var(--text-dark); line-height: 1.6;">
                                                    ${product.purpose || product.reason}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;
                            productIndex++;
                        });
                    }
                });

                html += '</div>';
                return html;
                
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø­Ù„ÙˆÙ„:', error);
                return '<div style="padding: 20px; background: #f8d7da; border-radius: 10px; text-align: center; color: #721c24;">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø­Ù„ÙˆÙ„</div>';
            }
        }
        
        // Ø§Ù„ÙÙ†ÙƒØ´Ù† Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù„Ù„Ø£Ø´Ø¬Ø§Ø± (Ù†Ø®Ù„ÙŠÙ‡Ø§ Ù„Ù„ØªÙˆØ§ÙÙ‚)
        async function getTreeSolutionsFromFirebase(crop, treeStage) {
            return await getSolutionsFromFirebase(crop, treeStage, true);
        }

        function getPeriodName(period, crop) {
            // ÙØªØ±Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø©
            if (crop === 'strawberry') {
                const strawberryNames = {
                    'short': 'Ù…Ù† 0 Ø¥Ù„Ù‰ 90 ÙŠÙˆÙ… Ø¨Ø¹Ø¯ Ø§Ù„Ø²Ø±Ø§Ø¹Ø© (ØªØ£Ø³ÙŠØ³ Ø§Ù„Ù†Ø¨Ø§Øª)',
                    'medium': 'Ù…Ù† 90 Ø¥Ù„Ù‰ 180 ÙŠÙˆÙ… Ø¨Ø¹Ø¯ Ø§Ù„Ø²Ø±Ø§Ø¹Ø© (Ø¥Ø²Ù‡Ø§Ø± + ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø«Ù…Ø§Ø±)',
                    'long': 'Ø¨Ø¹Ø¯ 180 ÙŠÙˆÙ… (Ù†Ø¶Ø¬ Ø§Ù„Ø«Ù…Ø§Ø± + ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø©)',
                    'very-long': '' // Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø© Ù…Ø§ Ø¹Ù†Ø¯Ù‡Ø§Ø´ very-long
                };
                return strawberryNames[period] || period;
            }
            
            // ÙØªØ±Ø§Øª Ø¹Ø§Ø¯ÙŠØ© Ù„Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„
            const names = {
                'short': 'Ù…Ù† 15 Ø¥Ù„Ù‰ 45 ÙŠÙˆÙ… Ø¨Ø¹Ø¯ Ø§Ù„ØºØ±Ø§Ø³Ø©',
                'medium': 'Ù…Ù† 45 Ø¥Ù„Ù‰ 60 ÙŠÙˆÙ… Ø¨Ø¹Ø¯ Ø§Ù„ØºØ±Ø§Ø³Ø©',
                'long': 'Ù…Ù† 60 Ø¥Ù„Ù‰ 90 ÙŠÙˆÙ… Ø¨Ø¹Ø¯ Ø§Ù„ØºØ±Ø§Ø³Ø©',
                'very-long': 'Ø£ÙƒØ«Ø± Ù…Ù† 90 ÙŠÙˆÙ… Ø¨Ø¹Ø¯ Ø§Ù„ØºØ±Ø§Ø³Ø©'
            };
            return names[period] || period;
        }

        function getSolutionsForPeriod(crop, period) {
            // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø© - 4 Ù…Ø­Ø§ØµÙŠÙ„ Ã— 4 ÙØªØ±Ø§Øª
            const solutions = {
                'tomato': {
                    'short': [ // 15-45 ÙŠÙˆÙ…
                        { name: 'Ø³Ù…Ø§Ø¯ ÙˆØ±Ù‚ÙŠ NPK Ù…ØªÙˆØ§Ø²Ù† (20-20-20)', dose: '2 ÙƒØº / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠØ¹Ø·ÙŠ Ø¯ÙØ¹Ø© Ù‚ÙˆÙŠØ© Ù„Ù„Ù†Ù…Ùˆ Ø§Ù„Ø®Ø¶Ø±ÙŠ ÙˆÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ù†Ø¨Ø§Øª ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©', icon: 'ğŸŒ¿' },
                        { name: 'Ø£Ø­Ù…Ø§Ø¶ Ø£Ù…ÙŠÙ†ÙŠØ© + Ø·Ø­Ø§Ù„Ø¨ Ø¨Ø­Ø±ÙŠØ©', dose: '0.5 â€“ 1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø§Ù…ØªØµØ§Øµ ÙˆÙŠØ®ÙÙ‘Ù Ø§Ù„Ø³ØªØ±Ø³ Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø´Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰', icon: 'ğŸŒŠ' },
                        { name: 'ÙƒØ§Ù„Ø³ÙŠÙˆÙ… + Ø¨ÙˆØ±ÙˆÙ† (Ø±Ø´ ÙˆØ±Ù‚ÙŠ)', dose: '1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ø£Ù†Ø³Ø¬Ø© ÙˆØ§Ù„Ù‚Ù…Ù… Ø§Ù„Ù†Ø§Ù…ÙŠØ© ÙˆÙŠØ­Ø¶Ù‘Ø± Ø§Ù„Ù†Ø¨Ø§Øª Ù„Ù„Ø¥Ø²Ù‡Ø§Ø± Ø§Ù„Ø¬Ø§ÙŠ', icon: 'ğŸ’ª' },
                        { name: 'Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ ÙˆÙ‚Ø§Ø¦ÙŠ (Ù…Ø§Ù†ÙƒÙˆØ²ÙŠØ¨ Ø£Ùˆ Azoxystrobin)', dose: 'Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø±Ø¹Ø© Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§', reason: 'ÙˆÙ‚Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ù„ÙØ­Ø© ÙˆØ§Ù„Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„ÙˆØ±Ù‚ÙŠØ© ÙÙŠ Ù…Ø±Ø­Ù„Ø© Ù†Ù…Ùˆ Ø³Ø±ÙŠØ¹', icon: 'ğŸ›¡ï¸' },
                        { name: 'Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ (Imidacloprid Ø£Ùˆ Acetamiprid)', dose: 'Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªÙØ¬', reason: 'Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ù…Ù†Ù‘ØŒ Ø§Ù„Ø°Ø¨Ø§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ØŒ ÙˆØ§Ù„ØªØ±Ø¨Ø³ Ø§Ù„Ù„ÙŠ ÙŠØ¶Ø¹Ù‘ÙÙˆ Ø§Ù„Ù†Ø¨Ø§Øª Ø¨Ø¯Ø±ÙŠ', icon: 'ğŸ›' }
                    ],
                    'medium': [ // 45-60 ÙŠÙˆÙ…
                        { name: 'Ø³Ù…Ø§Ø¯ ÙˆØ±Ù‚ÙŠ Ø¹Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ³ÙÙˆØ± (Ù…Ø«Ø§Ù„: 13-40-13)', dose: '2 ÙƒØº / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠØ¯ÙØ¹ Ø§Ù„Ù†Ø¨Ø§Øª Ù„Ù„Ø¥Ø²Ù‡Ø§Ø± ÙˆÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø£ÙˆÙ„', icon: 'ğŸŒ¸' },
                        { name: 'Ø·Ø­Ø§Ù„Ø¨ Ø¨Ø­Ø±ÙŠØ© + Ø£Ø­Ù…Ø§Ø¶ Ø£Ù…ÙŠÙ†ÙŠØ©', dose: '1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø¹Ù‚Ø¯ ÙˆÙŠÙ‚Ù„Ù‘Ù„ ØªØ³Ø§Ù‚Ø· Ø§Ù„Ø²Ù‡Ø±Ø©', icon: 'ğŸŒŠ' },
                        { name: 'Ø¨ÙˆØ±ÙˆÙ† + Ø²Ù†Ùƒ (Foliar B + Zn)', dose: '0.5 â€“ 1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', reason: 'Ø¹Ù†Ø§ØµØ± Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ø¥Ø²Ù‡Ø§Ø± ÙˆØ§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ù…Ù†ØªØ¸Ù…', icon: 'âš¡' },
                        { name: 'Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ (Azoxystrobin Ø£Ùˆ Difenoconazole)', dose: 'Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø±Ø¹Ø© Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§', reason: 'Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø²Ù‡Ø§Ø± Ù…Ù† Ø§Ù„Ù„ÙØ­Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ø¶ ÙÙŠ ÙØªØ±Ø© Ø­Ø³Ø§Ø³Ø©', icon: 'ğŸ›¡ï¸' },
                        { name: 'Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ (Acetamiprid Ø£Ùˆ Spinosad)', dose: 'Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªÙØ¬', reason: 'Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„ØªØ±Ø¨Ø³ ÙˆØ§Ù„Ø°Ø¨Ø§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ Ø§Ù„Ù„ÙŠ ØªØ£Ø«Ù‘Ø± Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù‚Ø¯', icon: 'ğŸ›' }
                    ],
                    'long': [ // 60-90 ÙŠÙˆÙ…
                        { name: 'Ø³ÙŠØªØ±Ø§Øª Ø§Ù„Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ… (Foliar Potassium Citrate)', dose: '2 â€“ 3 ÙƒØº / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠØ¶Ø®Ù‘Ù… Ø§Ù„Ø«Ù…Ø§Ø±ØŒ ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ø·Ø¹Ù…ØŒ ÙˆÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ù†Ù‚Ù„ Ø§Ù„Ø³ÙƒØ±ÙŠØ§Øª', icon: 'ğŸ…' },
                        { name: 'Ø·Ø­Ø§Ù„Ø¨ Ø¨Ø­Ø±ÙŠØ© + Ø£Ø­Ù…Ø§Ø¶ Ø£Ù…ÙŠÙ†ÙŠØ©', dose: '1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠÙ‚Ù„Ù‘Ù„ Ø§Ù„Ø³ØªØ±Ø³ ÙˆÙ‚Øª Ø§Ù„Ø­Ù…Ù„ ÙˆÙŠØ«Ø¨Ù‘Øª Ø§Ù„Ø¹Ù‚Ø¯', icon: 'ğŸŒŠ' },
                        { name: 'ÙƒØ§Ù„Ø³ÙŠÙˆÙ… ÙˆØ±Ù‚ÙŠ (Calcium nitrate Ø£Ùˆ Ca chelate)', dose: '1 â€“ 1.5 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠÙ…Ù†Ø¹ ØªØ¹ÙÙ‘Ù† Ø§Ù„Ø·Ø±Ù Ø§Ù„Ø²Ù‡Ø±ÙŠ ÙˆÙŠÙ‚ÙˆÙ‘ÙŠ Ø¬Ø¯Ø§Ø± Ø§Ù„Ø«Ù…Ø±Ø©', icon: 'ğŸ’ª' },
                        { name: 'Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ (Azoxystrobin + Mancozeb Ø£Ùˆ Ø¨Ø¯ÙŠÙ„ Ø¨Ø§Ù„ØªÙ†Ø§ÙˆØ¨)', dose: 'Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø±Ø¹Ø©', reason: 'Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ ÙˆØ§Ù„Ø«Ù…Ø§Ø± Ù…Ù† Ø§Ù„Ù„ÙØ­Ø© ÙÙŠ Ù…Ø±Ø­Ù„Ø© Ø­Ø³Ø§Ø³Ø©', icon: 'ğŸ›¡ï¸' },
                        { name: 'Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ (Spinosad Ø£Ùˆ Abamectin)', dose: 'Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªÙØ¬', reason: 'Ù…ÙƒØ§ÙØ­Ø© Ø­ÙÙ‘Ø§Ø± Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ØŒ Ø§Ù„ØªØ±Ø¨Ø³ØŒ ÙˆØ§Ù„Ø¹Ù†Ø§ÙƒØ¨', icon: 'ğŸ›' }
                    ],
                    'very-long': [ // +90 ÙŠÙˆÙ…
                        { name: 'Ø³ÙŠØªØ±Ø§Øª Ø§Ù„Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ… (Foliar)', dose: '2 ÙƒØº / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠØ³Ø±Ù‘Ø¹ Ø§Ù„ØªÙ„ÙˆÙŠÙ†ØŒ ÙŠØ±ÙØ¹ Ø§Ù„Ø³ÙƒØ±ØŒ ÙˆÙŠØ­Ø³Ù‘Ù† Ø§Ù„ØµÙ„Ø§Ø¨Ø© ÙˆØ§Ù„Ø·Ø¹Ù…', icon: 'ğŸ' },
                        { name: 'ÙƒØ§Ù„Ø³ÙŠÙˆÙ… ÙˆØ±Ù‚ÙŠ (Chelated Ca Ø£Ùˆ Ca nitrate)', dose: '1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ ØµÙ„Ø§Ø¨Ø© Ø§Ù„Ø«Ù…Ø±Ø© ÙˆÙŠØ·ÙˆÙ‘Ù„ Ø¹Ù…Ø±Ù‡Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¬Ù†ÙŠ', icon: 'ğŸ’ª' },
                        { name: 'Ø£Ø­Ù…Ø§Ø¶ Ø£Ù…ÙŠÙ†ÙŠØ© Ø®ÙÙŠÙØ©', dose: '0.5 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', reason: 'ÙŠØ®ÙÙ‘Ù Ø§Ù„Ø¥Ø¬Ù‡Ø§Ø¯ ÙˆÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù†Ø´Ø§Ø· Ø§Ù„Ù†Ø¨Ø§Øª Ø¢Ø®Ø± Ø§Ù„Ø¯ÙˆØ±Ø©', icon: 'ğŸŒ¿' },
                        { name: 'Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ø®ÙÙŠÙ ÙˆØ¢Ù…Ù† (Copper low dose Ø£Ùˆ Azoxystrobin)', dose: 'Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø±Ø¹Ø© - Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø© Ø­Ø³Ø¨ Ø§Ù„Ø·Ù‚Ø³', reason: 'Ø­Ù…Ø§ÙŠØ© Ù†Ù‡Ø§Ø¦ÙŠØ© Ù…Ù† Ø£Ø¹ÙØ§Ù† ÙˆÙ†Ù‚Ø· Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ Ù‚Ø¨Ù„ Ø§Ù„Ø¬Ù†ÙŠ', icon: 'ğŸ›¡ï¸' },
                        { name: 'Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ ÙØªØ±Ø© Ø£Ù…Ø§Ù† Ù‚ØµÙŠØ±Ø© (Spinosad)', dose: 'Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªÙØ¬ - Ø¹Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ø¢ÙØ§Øª', reason: 'ÙŠØ­Ù…ÙŠ Ø§Ù„Ø«Ù…Ø§Ø± Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø§ÙƒÙ„ Ù…ØªØ¨Ù‚ÙŠØ§Øª. âš ï¸ Ù†ÙˆÙ‚Ù Ø£ÙŠ Ø±Ø´ ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø¬Ù†ÙŠ Ø¨Ù€ 7-10 Ø£ÙŠØ§Ù…', icon: 'ğŸ›' }
                    ]
                }
            };

            // Ù†Ø³ØªÙ†Ø³Ø®Ùˆ Ù„Ù„Ù…Ø­Ø§ØµÙŠÙ„ Ø§Ù„Ø£Ø®Ø±Ù‰
                    // Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø© - Ø­Ù„ÙˆÙ„ Ù…Ø®ØµØµØ© (3 ÙØªØ±Ø§Øª)
        solutions['strawberry'] = {
            'short': [ // 0-90 ÙŠÙˆÙ… (ØªØ£Ø³ÙŠØ³ Ø§Ù„Ù†Ø¨Ø§Øª + Ù†Ù…Ùˆ Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ ÙˆØ§Ù„Ø¬Ø°ÙˆØ±)
                { 
                    name: 'NPK ÙˆØ±Ù‚ÙŠ Ù…ØªÙˆØ§Ø²Ù† 20-20-20', 
                    dose: '2 ÙƒØº / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'ÙŠØ¯Ø¹Ù… Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ø®Ø¶Ø±ÙŠ ÙˆÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ ÙˆØ§Ù„Ø¬Ø°ÙˆØ± ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©', 
                    icon: 'ğŸŒ¿' 
                },
                { 
                    name: 'Ø£Ø­Ù…Ø§Ø¶ Ø£Ù…ÙŠÙ†ÙŠØ© + Ø·Ø­Ø§Ù„Ø¨ Ø¨Ø­Ø±ÙŠØ©', 
                    dose: '0.5 â€“ 1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø§Ù…ØªØµØ§Øµ ÙˆÙŠØ®ÙÙ‘Ù Ø§Ù„Ø³ØªØ±Ø³ Ø¨Ø¹Ø¯ Ø§Ù„Ø²Ø±Ø§Ø¹Ø©', 
                    icon: 'ğŸŒŠ' 
                },
                { 
                    name: 'ÙƒØ§Ù„Ø³ÙŠÙˆÙ… + Ø¨ÙˆØ±ÙˆÙ† ÙˆØ±Ù‚ÙŠ', 
                    dose: '1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'ÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ø®Ù„Ø§ÙŠØ§ ÙˆÙŠÙ…Ù†Ø¹ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù‚Ù…Ù… Ø§Ù„Ù†Ø§Ù…ÙŠØ© Ø§Ù„Ù…Ø¨ÙƒØ±Ø©', 
                    icon: 'ğŸ’ª' 
                },
                { 
                    name: 'Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ ÙˆÙ‚Ø§Ø¦ÙŠ (Mancozeb Ø£Ùˆ Azoxystrobin)', 
                    dose: 'Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø±Ø¹Ø©', 
                    reason: 'Ø­Ù…Ø§ÙŠØ© Ù…Ø¨ÙƒØ±Ø© Ø¶Ø¯ Ø§Ù„Ù„ÙØ­Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ø¶ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ÙŠ', 
                    icon: 'ğŸ›¡ï¸' 
                },
                { 
                    name: 'Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ (Imidacloprid Ø£Ùˆ Acetamiprid)', 
                    dose: 'Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªÙØ¬', 
                    reason: 'Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ù…Ù†Ù‘ ÙˆØ§Ù„Ø¹Ù†Ø§ÙƒØ¨ Ø§Ù„ØµØºÙŠØ±Ø© Ø§Ù„Ù„ÙŠ ØªØ¶Ø¹Ù Ù†Ù…Ùˆ Ø§Ù„Ù†Ø¨Ø§Øª', 
                    icon: 'ğŸ›' 
                }
            ],
            'medium': [ // 90-180 ÙŠÙˆÙ… (Ø¥Ø²Ù‡Ø§Ø± + ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø«Ù…Ø§Ø± + Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù†Ø¶Ø¬)
                { 
                    name: 'Ø³Ù…Ø§Ø¯ ÙˆØ±Ù‚ÙŠ Ø¹Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ³ÙÙˆØ± (13-40-13)', 
                    dose: '2 ÙƒØº / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'ÙŠØ¯ÙØ¹ Ø§Ù„Ù†Ø¨Ø§Øª Ù„Ù„Ø¥Ø²Ù‡Ø§Ø± ÙˆÙŠÙ‚ÙˆÙ‘ÙŠ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆØ¨Ø¯Ø§ÙŠØ© ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø«Ù…Ø§Ø±', 
                    icon: 'ğŸŒ¸' 
                },
                { 
                    name: 'Ø·Ø­Ø§Ù„Ø¨ Ø¨Ø­Ø±ÙŠØ© + Ø£Ø­Ù…Ø§Ø¶ Ø£Ù…ÙŠÙ†ÙŠØ©', 
                    dose: '1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'ÙŠÙ‚Ù„Ù‘Ù„ ØªØ³Ø§Ù‚Ø· Ø§Ù„Ø£Ø²Ù‡Ø§Ø± ÙˆÙŠØ«Ø¨Ù‘Øª Ø§Ù„Ø«Ù…Ø§Ø± Ø§Ù„ØµØºÙŠØ±Ø©', 
                    icon: 'ğŸŒŠ' 
                },
                { 
                    name: 'Ø¨ÙˆØ±ÙˆÙ† + Ø²Ù†Ùƒ ÙˆØ±Ù‚ÙŠ', 
                    dose: '0.5 â€“ 1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'Ø¹Ù†Ø§ØµØ± Ø£Ø³Ø§Ø³ÙŠØ© Ù„ØªÙƒÙˆÙŠÙ† Ø£Ø²Ù‡Ø§Ø± ØµØ­ÙŠØ© ÙˆØ¹Ù‚Ø¯ Ù…Ù†ØªØ¸Ù…ØŒ ÙˆØªØ­Ø³ÙŠÙ† Ø­Ø¬Ù… Ø§Ù„Ø«Ù…Ø§Ø±', 
                    icon: 'âš¡' 
                },
                { 
                    name: 'Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ (Azoxystrobin Ø£Ùˆ Difenoconazole)', 
                    dose: 'Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø±Ø¹Ø©', 
                    reason: 'Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø²Ù‡Ø§Ø± ÙˆØ§Ù„Ø«Ù…Ø§Ø± Ù…Ù† Ø§Ù„Ù„ÙØ­Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ø¶ØŒ Ø®Ø§ØµØ© ÙÙŠ Ø£Ø¬ÙˆØ§Ø¡ Ø±Ø·Ø¨Ø©', 
                    icon: 'ğŸ›¡ï¸' 
                },
                { 
                    name: 'Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ (Acetamiprid Ø£Ùˆ Spinosad)', 
                    dose: 'Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªÙØ¬', 
                    reason: 'Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ù…Ù†Ù‘ØŒ Ø§Ù„ØªØ±Ø¨Ø³ ÙˆØ§Ù„Ø¹Ù†Ø§ÙƒØ¨ Ø§Ù„Ù„ÙŠ ØªØ£Ø«Ø± Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø«Ù…Ø§Ø± Ø§Ù„ØµØºÙŠØ±Ø©', 
                    icon: 'ğŸ›' 
                }
            ],
            'long': [ // +180 ÙŠÙˆÙ… (Ù†Ø¶Ø¬ Ø§Ù„Ø«Ù…Ø§Ø± + ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø¬Ù†ÙŠ)
                { 
                    name: 'Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ… ÙˆØ±Ù‚ÙŠ (Ø³ÙŠØªØ±Ø§Øª Ø§Ù„Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…)', 
                    dose: '2 â€“ 3 ÙƒØº / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'ÙŠØ³Ø±Ù‘Ø¹ Ø§Ù„ØªÙ„ÙˆÙŠÙ†ØŒ ÙŠØ­Ø³Ù‘Ù† ØµÙ„Ø§Ø¨Ø© ÙˆØ·Ø¹Ù… Ø§Ù„Ø«Ù…Ø§Ø± ÙˆÙŠØ²ÙŠØ¯ Ø§Ù„Ø³ÙƒØ±', 
                    icon: 'ğŸ“' 
                },
                { 
                    name: 'Ø·Ø­Ø§Ù„Ø¨ Ø¨Ø­Ø±ÙŠØ© + Ø£Ø­Ù…Ø§Ø¶ Ø£Ù…ÙŠÙ†ÙŠØ© Ø®ÙÙŠÙØ©', 
                    dose: '0.5 â€“ 1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'ÙŠÙ‚Ù„Ù‘Ù„ Ø§Ù„Ø³ØªØ±Ø³ ÙˆÙŠØ«Ø¨Ù‘Øª Ø§Ù„Ø«Ù…Ø§Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø¬Ù†ÙŠ', 
                    icon: 'ğŸŒŠ' 
                },
                { 
                    name: 'ÙƒØ§Ù„Ø³ÙŠÙˆÙ… ÙˆØ±Ù‚ÙŠ', 
                    dose: '1 Ù„ØªØ± / Ù‡ÙƒØªØ§Ø±', 
                    reason: 'ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ ØµÙ„Ø§Ø¨Ø© Ø§Ù„Ø«Ù…Ø§Ø± ÙˆÙŠÙ‚Ù„Ù‘Ù„ Ø§Ù„ØªØ´Ù‚Ù‘Ù‚ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù†Ø¶Ø¬', 
                    icon: 'ğŸ’ª' 
                },
                { 
                    name: 'Ù…Ø¨ÙŠØ¯ ÙØ·Ø±ÙŠ Ø®ÙÙŠÙ (Copper low dose Ø£Ùˆ Azoxystrobin)', 
                    dose: 'Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø±Ø¹Ø© - Ø¹Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ø±Ø·ÙˆØ¨Ø© Ø¹Ø§Ù„ÙŠØ©', 
                    reason: 'Ø­Ù…Ø§ÙŠØ© Ù†Ù‡Ø§Ø¦ÙŠØ© Ù„Ù„Ø«Ù…Ø§Ø± ÙˆØ§Ù„Ø£ÙˆØ±Ø§Ù‚ Ù‚Ø¨Ù„ Ø§Ù„Ø¬Ù†ÙŠ', 
                    icon: 'ğŸ›¡ï¸' 
                },
                { 
                    name: 'Ù…Ø¨ÙŠØ¯ Ø­Ø´Ø±ÙŠ Ù‚ØµÙŠØ± ÙØªØ±Ø© Ø§Ù„Ø£Ù…Ø§Ù† (Spinosad Ø£Ùˆ Abamectin)', 
                    dose: 'Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªÙØ¬ - Ø¹Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ø¢ÙØ§Øª', 
                    reason: 'Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„ØªØ±Ø¨Ø³ ÙˆØ§Ù„Ø¹Ù†Ø§ÙƒØ¨ ÙˆØ§Ù„Ù…Ù†Ù‘ Ø¨Ø¯ÙˆÙ† Ù…ØªØ¨Ù‚ÙŠØ§Øª Ù‚Ø¨Ù„ Ø§Ù„Ù‚Ø·Ù. âš ï¸ Ù†ÙˆÙ‚Ù Ø£ÙŠ Ø±Ø´ ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø¬Ù†ÙŠ Ø¨Ù€ 7-10 Ø£ÙŠØ§Ù…', 
                    icon: 'ğŸ›' 
                }
            ],
            'very-long': [] // Ø§Ù„ÙØ±Ø§ÙˆÙ„Ø© Ù…Ø§ Ø¹Ù†Ø¯Ù‡Ø§Ø´ very-longØŒ Ù†Ø®Ù„ÙŠÙˆÙ‡Ø§ ÙØ§Ø¶ÙŠØ©
        };

        solutions['pepper'] = JSON.parse(JSON.stringify(solutions['tomato']));
            solutions['watermelon'] = JSON.parse(JSON.stringify(solutions['tomato']));
            solutions['melon'] = JSON.parse(JSON.stringify(solutions['tomato']));

            // Ù†Ø¹Ø¯Ù‘Ù„Ùˆ icons Ø­Ø³Ø¨ Ø§Ù„Ù…Ø­ØµÙˆÙ„
            if (solutions[crop]) {
                if (crop === 'pepper' && solutions[crop]['long']) solutions[crop]['long'][0].icon = 'ğŸŒ¶ï¸';
                if (crop === 'watermelon' && solutions[crop]['long']) solutions[crop]['long'][0].icon = 'ğŸ‰';
                if (crop === 'melon' && solutions[crop]['long']) solutions[crop]['long'][0].icon = 'ğŸˆ';
            }

            // Ù†Ø¬ÙŠØ¨ solutions Ø­Ø³Ø¨ Ø§Ù„Ù…Ø­ØµÙˆÙ„ ÙˆØ§Ù„ÙØªØ±Ø©
            const cropSolutions = solutions[crop] || solutions['tomato'];
            const periodSolutions = cropSolutions[period] || cropSolutions['short'];

            // Ù†ØµÙ†Ø¹ HTML
            let html = '<div class="solutions-list">';
            
            periodSolutions.forEach((solution, index) => {
                html += `
                    <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 15px; border-right: 5px solid var(--primary-green); box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: start; gap: 15px; margin-bottom: 12px;">
                            <span style="font-size: 2em; flex-shrink: 0;">${solution.icon}</span>
                            <div style="flex: 1;">
                                <h4 style="color: var(--primary-green); margin: 0 0 8px 0; font-size: 1.15em;">
                                    ${index + 1}. ${solution.name}
                                </h4>
                                <div style="background: var(--warm-beige); padding: 10px; border-radius: 8px; margin-bottom: 10px;">
                                    <strong style="color: var(--dark-green);">ğŸ“ Ø§Ù„Ø¬Ø±Ø¹Ø©:</strong>
                                    <span style="color: var(--text-dark); font-weight: 600;">${solution.dose}</span>
                                </div>
                                <div style="padding: 10px; background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border-radius: 8px;">
                                    <strong style="color: #1565c0;">ğŸ’¡ Ø¹Ù„Ø§Ø´ØŸ</strong>
                                    <p style="margin: 5px 0 0 0; color: var(--text-dark); line-height: 1.6;">
                                        ${solution.reason}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });

            html += '</div>';
            return html;
        }

        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.nav-tab');
            const contents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(t => t.classList.remove('active'));
            contents.forEach(c => c.classList.remove('active'));
            
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');
            
            // Removed auto scroll to top - let user stay at current position
            
            // If switching to cart, display cart
            if (tabName === 'cart') {
                setTimeout(displayCart, 100);
            }
        }

        window.switchTab = switchTab;

        // Add click event listeners to navigation tabs
        document.addEventListener('DOMContentLoaded', function() {
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.dataset.tab;
                    switchTab(targetTab);
                });
            });
        });

        // Shopping Cart System
        let cart = JSON.parse(localStorage.getItem('falla7inCart')) || [];

        // Add to Cart
        document.addEventListener('click', function(e) {
            const addBtn = e.target.closest('.add-to-cart');
            if (addBtn) {
                const productName = addBtn.dataset.productName;
                const productPrice = parseFloat(addBtn.dataset.productPrice);
                const productIcon = addBtn.dataset.productIcon;

                addToCart({
                    name: productName,
                    price: productPrice,
                    icon: productIcon,
                    quantity: 1
                });

                // Visual feedback
                const originalHTML = addBtn.innerHTML;
                addBtn.innerHTML = '<i class="fas fa-check"></i> ØªÙ…Ù‘ Ø§Ù„Ø¥Ø¶Ø§ÙØ©!';
                addBtn.style.background = 'linear-gradient(135deg, #1e5f42 0%, #2d8659 100%)';

                setTimeout(() => {
                    addBtn.innerHTML = originalHTML;
                    addBtn.style.background = '';
                }, 2000);

                updateCartBadge();
            }
        });

        function addToCart(product) {
            const existingProduct = cart.find(item => item.name === product.name);

            if (existingProduct) {
                existingProduct.quantity += 1;
            } else {
                cart.push(product);
            }

            localStorage.setItem('falla7inCart', JSON.stringify(cart));
        }

        function updateCartBadge() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartTab = document.querySelector('[data-tab="cart"]');

            if (cartTab) {
                const oldBadge = cartTab.querySelector('.cart-badge');
                if (oldBadge) oldBadge.remove();

                if (totalItems > 0) {
                    const badge = document.createElement('span');
                    badge.className = 'cart-badge';
                    badge.textContent = totalItems;
                    badge.style.cssText = `
                        position: absolute;
                        top: -5px;
                        left: -5px;
                        background: linear-gradient(135deg, #f49d37 0%, #d67d1f 100%);
                        color: white;
                        border-radius: 50%;
                        width: 26px;
                        height: 26px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 0.8em;
                        font-weight: bold;
                        box-shadow: 0 3px 10px rgba(244, 157, 55, 0.4);
                    `;
                    cartTab.style.position = 'relative';
                    cartTab.appendChild(badge);
                }
            }
        }

        function displayCart() {
            const cartContent = document.getElementById('cartContent');

            if (cart.length === 0) {
                cartContent.innerHTML = `
                    <div class="empty-cart">
                        <i class="fas fa-shopping-cart"></i>
                        <p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© ØªÙˆÙ‘Ø©</p>
                        <button class="btn btn-next" onclick="switchTab('products')" style="max-width: 350px; margin: 30px auto 0;">
                            <i class="fas fa-shopping-bag"></i>
                            Ø§Ø¨Ø¯Ø§ ØªØ³ÙˆÙ‘Ù‚
                        </button>
                    </div>
                `;
            } else {
                let cartHTML = '<div class="cart-items">';

                let total = 0;
                cart.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;

                    cartHTML += `
                        <div class="cart-item">
                            <div class="cart-item-icon">${item.icon}</div>
                            <div class="cart-item-details">
                                <h3 class="cart-item-title">${item.name}</h3>
                                <p class="cart-item-price">${item.price} Ø¯ÙŠÙ†Ø§Ø±</p>
                            </div>
                            <div class="cart-item-controls">
                                <button class="qty-btn" onclick="changeQuantity(${index}, -1)">âˆ’</button>
                                <span class="qty-display">${item.quantity}</span>
                                <button class="qty-btn" onclick="changeQuantity(${index}, 1)">+</button>
                                <button class="remove-btn" onclick="removeFromCart(${index})">Ã—</button>
                            </div>
                        </div>
                    `;
                });

                cartHTML += '</div>';
                cartHTML += `
                    <div class="cart-total">
                        <h3>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ</h3>
                        <div class="cart-total-price">${total.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø±</div>
                        <button class="btn btn-next" onclick="goToCheckout()" style="max-width: 500px; margin: 0 auto;">
                            <i class="fas fa-check-circle"></i>
                            Ø£ÙƒÙ…Ù„ Ø§Ù„Ø·Ù„Ø¨ÙŠØ©
                        </button>
                    </div>
                `;

                cartContent.innerHTML = cartHTML;
            }
        }

        window.changeQuantity = function(index, change) {
            if (cart[index]) {
                cart[index].quantity += change;

                if (cart[index].quantity <= 0) {
                    cart.splice(index, 1);
                }

                localStorage.setItem('falla7inCart', JSON.stringify(cart));
                displayCart();
                updateCartBadge();
            }
        };

        window.removeFromCart = function(index) {
            cart.splice(index, 1);
            localStorage.setItem('falla7inCart', JSON.stringify(cart));
            displayCart();
            updateCartBadge();
        };

        // Checkout Form Function
        window.showCheckoutForm = function() {
            const cartContent = document.getElementById('cartContent');
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            cartContent.innerHTML = `
                <div style="max-width: 700px; margin: 0 auto;">
                    <div style="text-align: center; margin-bottom: 40px;">
                        <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‰</div>
                        <h2 style="color: var(--primary-green); font-size: 2em; margin-bottom: 10px;">ÙƒÙ…Ù‘Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ!</h2>
                        <p style="font-size: 1.1em; color: var(--text-light);">Ø¨Ø§Ø´ Ù†ÙˆØµÙ‘Ù„ÙˆØ§ Ø§Ù„Ø·Ù„Ø¨ÙŠØ© Ù…ØªØ§Ø¹ÙƒØŒ Ø§Ø¹Ø·ÙŠÙ†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</p>
                    </div>
                    
                    <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px var(--shadow); border: 3px solid var(--primary-green);">
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 700; color: var(--text-dark); font-size: 1.1em;">
                                <i class="fas fa-user"></i> Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„
                            </label>
                            <input type="text" id="checkoutName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ù„ÙŠ" 
                                style="width: 100%; padding: 18px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.1em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 700; color: var(--text-dark); font-size: 1.1em;">
                                <i class="fas fa-phone"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
                            </label>
                            <input type="text" id="checkoutPhone" placeholder="Ù…Ø«Ø§Ù„: 20123456" 
                                style="width: 100%; padding: 18px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.1em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 700; color: var(--text-dark); font-size: 1.1em;">
                                <i class="fas fa-map-marker-alt"></i> Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
                            </label>
                            <select id="checkoutRegion" 
                                style="width: 100%; padding: 18px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.1em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease; background: white;">
                                <option value="">Ø§Ø®ØªØ§Ø± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ù…ØªØ§Ø¹Ùƒ...</option>
                                <option value="tunis">ØªÙˆÙ†Ø³</option>
                                <option value="ariana">Ø£Ø±ÙŠØ§Ù†Ø©</option>
                                <option value="ben-arous">Ø¨Ù† Ø¹Ø±ÙˆØ³</option>
                                <option value="manouba">Ù…Ù†ÙˆØ¨Ø©</option>
                                <option value="nabeul">Ù†Ø§Ø¨Ù„</option>
                                <option value="zaghouan">Ø²ØºÙˆØ§Ù†</option>
                                <option value="bizerte">Ø¨Ù†Ø²Ø±Øª</option>
                                <option value="beja">Ø¨Ø§Ø¬Ø©</option>
                                <option value="jendouba">Ø¬Ù†Ø¯ÙˆØ¨Ø©</option>
                                <option value="kef">Ø§Ù„ÙƒØ§Ù</option>
                                <option value="siliana">Ø³Ù„ÙŠØ§Ù†Ø©</option>
                                <option value="kairouan">Ø§Ù„Ù‚ÙŠØ±ÙˆØ§Ù†</option>
                                <option value="kasserine">Ø§Ù„Ù‚ØµØ±ÙŠÙ†</option>
                                <option value="sidi-bouzid">Ø³ÙŠØ¯ÙŠ Ø¨ÙˆØ²ÙŠØ¯</option>
                                <option value="sousse">Ø³ÙˆØ³Ø©</option>
                                <option value="monastir">Ø§Ù„Ù…Ù†Ø³ØªÙŠØ±</option>
                                <option value="mahdia">Ø§Ù„Ù…Ù‡Ø¯ÙŠØ©</option>
                                <option value="sfax">ØµÙØ§Ù‚Ø³</option>
                                <option value="gafsa">Ù‚ÙØµØ©</option>
                                <option value="tozeur">ØªÙˆØ²Ø±</option>
                                <option value="kebili">Ù‚Ø¨Ù„ÙŠ</option>
                                <option value="gabes">Ù‚Ø§Ø¨Ø³</option>
                                <option value="medenine">Ù…Ø¯Ù†ÙŠÙ†</option>
                                <option value="tataouine">ØªØ·Ø§ÙˆÙŠÙ†</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 30px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 700; color: var(--text-dark); font-size: 1.1em;">
                                <i class="fas fa-home"></i> Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„
                            </label>
                            <textarea id="checkoutAddress" placeholder="Ù…Ø«Ø§Ù„: Ù†Ù‡Ø¬ Ø§Ù„Ø­Ø±ÙŠØ© Ø±Ù‚Ù… 25ØŒ Ø§Ù„Ø·Ø§Ø¨Ù‚ 3" 
                                style="width: 100%; padding: 18px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.1em; font-family: 'Tajawal', sans-serif; min-height: 100px; transition: all 0.3s ease; resize: vertical;"></textarea>
                        </div>
                        
                        <div style="background: linear-gradient(135deg, #fff9e6 0%, #fff3cc 100%); padding: 20px; border-radius: 12px; margin-bottom: 30px; border: 2px solid var(--accent-orange);">
                            <h3 style="color: var(--text-dark); margin-bottom: 20px; font-size: 1.3em;">
                                <i class="fas fa-shopping-cart"></i> Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ÙŠØ©
                            </h3>
                            <div style="margin-bottom: 20px;">
                                ${cart.map(item => `
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: white; border-radius: 8px; margin-bottom: 10px; border: 1px solid #e0e0e0;">
                                        <div style="display: flex; align-items: center; gap: 12px; flex: 1;">
                                            <span style="font-size: 1.5em;">${item.icon}</span>
                                            <div>
                                                <div style="font-weight: 700; color: var(--text-dark); font-size: 1.05em;">${item.name}</div>
                                                <div style="color: var(--text-light); font-size: 0.9em;">Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}</div>
                                            </div>
                                        </div>
                                        <div style="text-align: left; font-weight: 700; color: var(--primary-green); font-size: 1.1em;">
                                            ${(item.price * item.quantity).toFixed(2)} Ø¯.Øª
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div style="color: var(--text-dark); font-size: 1.1em; line-height: 1.8;">
                                <div style="display: flex; justify-content: space-between; padding-top: 15px; border-top: 2px solid var(--accent-orange); margin-top: 10px;">
                                    <span style="font-weight: 700; font-size: 1.2em;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</span>
                                    <span style="font-weight: 700; font-size: 1.3em; color: var(--primary-green);">${total.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø±</span>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 18px; border-radius: 12px; margin-bottom: 30px; border: 2px solid var(--primary-green);">
                            <p style="margin: 0; font-size: 1em; color: var(--text-dark); text-align: center;">
                                <i class="fas fa-lock" style="color: var(--primary-green);"></i>
                                Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­Ù…ÙŠØ© - Ù†Ø³ØªØ®Ø¯Ù…ÙˆÙ‡Ø§ Ø¨Ø±Ùƒ Ù„Ù„ØªÙˆØµÙŠÙ„
                            </p>
                        </div>
                        
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <button onclick="displayCart()" style="flex: 1; min-width: 200px; padding: 18px 30px; background: white; color: var(--primary-green); border: 3px solid var(--primary-green); border-radius: 15px; font-size: 1.2em; font-weight: 700; cursor: pointer; transition: all 0.3s ease; font-family: 'Tajawal', sans-serif;">
                                <i class="fas fa-arrow-right"></i>
                                Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø³Ù„Ø©
                            </button>
                            <button onclick="submitOrder()" style="flex: 2; min-width: 200px; padding: 18px 30px; background: linear-gradient(135deg, var(--primary-green) 0%, #1e6b45 100%); color: white; border: none; border-radius: 15px; font-size: 1.2em; font-weight: 700; cursor: pointer; transition: all 0.3s ease; font-family: 'Tajawal', sans-serif; box-shadow: 0 5px 20px rgba(45, 134, 89, 0.3);">
                                <i class="fas fa-check-circle"></i>
                                ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ÙŠØ©
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // Add focus effects
            ['checkoutName', 'checkoutPhone', 'checkoutRegion', 'checkoutAddress'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('focus', function() {
                        this.style.borderColor = 'var(--primary-green)';
                        this.style.boxShadow = '0 0 0 4px rgba(45, 134, 89, 0.1)';
                    });
                    element.addEventListener('blur', function() {
                        this.style.borderColor = 'var(--light-gray)';
                        this.style.boxShadow = 'none';
                    });
                }
            });
        };

       window.submitOrder = async function() {
    // 1. Ù†Ø¬ÙŠØ¨Ùˆ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù† Ø§Ù„ÙÙˆØ±Ù…
    const nameInput = document.getElementById('checkoutName');
    const phoneInput = document.getElementById('checkoutPhone');
    const regionInput = document.getElementById('checkoutRegion');
    const addressInput = document.getElementById('checkoutAddress');

    if (!nameInput || !phoneInput) {
        alert("ÙÙ…Ø© Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„ÙÙˆØ±Ù…ØŒ Ø¹Ø§ÙˆØ¯ Ø­Ù„ Ø§Ù„Ø³Ù„Ø©");
        return;
    }

    const name = nameInput.value.trim();
    const phone = phoneInput.value.trim();
    const region = regionInput.value;
    const address = addressInput.value.trim();
    
    if (name === "" || phone === "") {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ");
        return;
    }

    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    const orderId = 'CMD-' + Math.floor(Math.random() * 1000000);

    const orderData = {
        orderId: orderId,
        customerName: name,
        customerPhone: phone,
        customerRegion: region,
        customerAddress: address,
        items: cart,
        total: total,
        status: 'pending',
        createdAt: new Date().toISOString()
    };

    // 2. Ù†Ø³Ø¬Ù„Ùˆ ÙÙŠ Firebase ÙˆÙ†Ø¨Ø¹Ø«Ùˆ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„
    if (typeof db !== 'undefined') {
        db.collection('orders').add(orderData)
            .then(async () => {
                console.log('âœ… ØªØ³Ø¬Ù„Øª ÙÙŠ Firebase');
                
                // Ù†Ø¸Ù‡Ø±ÙˆØ§ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆÙ†ÙØ±ØºÙˆ Ø§Ù„Ø³Ù„Ø©
                showThankYouMessage(orderData);
                cart = [];
                if (typeof updateCartUI === 'function') updateCartUI();
                
                const modal = document.getElementById('checkoutModal');
                if (modal) modal.classList.remove('active');
            })
            .catch((error) => {
                console.error('âŒ Error Firebase:', error);
                alert('ÙÙ…Ø© Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø³ÙŠØ³ØªØ§Ù…ØŒ Ø¹Ø§ÙˆØ¯ Ø¬Ø±Ø¨ Ù…Ø¨Ø¹Ø¯.');
            });
    } else {
        // ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Firebase Ù…Ø§Ù‡ÙˆØ´ ÙŠØ®Ø¯Ù…
        alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ!");
    }
};
        
        // Ø±Ø³Ø§Ù„Ø© Ø´ÙƒØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ù„Ø¨
        function showThankYouMessage(orderData) {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù€ modal
            const thankYouModal = document.createElement('div');
            thankYouModal.id = 'thankYouModal';
            thankYouModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                animation: fadeIn 0.3s ease;
            `;

            thankYouModal.innerHTML = `
                <div style="
                    background: white;
                    border-radius: 25px;
                    max-width: 600px;
                    width: 90%;
                    max-height: 90vh;
                    overflow-y: auto;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    animation: slideUp 0.5s ease;
                    position: relative;
                ">
                    <!-- Header -->
                    <div style="
                        background: linear-gradient(135deg, #2d8659 0%, #1e5a3a 100%);
                        padding: 40px 30px;
                        border-radius: 25px 25px 0 0;
                        text-align: center;
                        color: white;
                    ">
                        <div style="font-size: 5em; margin-bottom: 15px; animation: bounce 1s ease infinite;">ğŸ‰</div>
                        <h2 style="margin: 0; font-size: 2.5em; font-weight: 800;">ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</h2>
                        <p style="margin: 15px 0 0 0; font-size: 1.2em; opacity: 0.95;">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ ÙÙŠ ÙÙ„Ø§Ø­ÙŠÙ† ğŸŒ¾</p>
                    </div>

                    <!-- Content -->
                    <div style="padding: 40px 30px;">
                        <!-- Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ -->
                        <div style="
                            background: linear-gradient(135deg, #f0f9f4 0%, #e8f5e9 100%);
                            border-right: 5px solid #2d8659;
                            padding: 20px;
                            border-radius: 12px;
                            margin-bottom: 25px;
                            text-align: center;
                        ">
                            <p style="margin: 0 0 10px 0; color: #666; font-size: 1em;">Ø±Ù‚Ù… Ø·Ù„Ø¨Ùƒ</p>
                            <p style="margin: 0; font-size: 2em; font-weight: 800; color: #2d8659;">${orderData.orderId}</p>
                        </div>

                        <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
                        <div style="margin-bottom: 25px;">
                            <h3 style="color: #2d8659; margin-bottom: 15px; font-size: 1.5em;">
                                <i class="fas fa-user"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ
                            </h3>
                            <div style="background: #f9f9f9; padding: 20px; border-radius: 12px;">
                                <p style="margin: 10px 0; font-size: 1.1em;">
                                    <i class="fas fa-user" style="color: #2d8659; width: 25px;"></i>
                                    <strong>${orderData.customerName}</strong>
                                </p>
                                <p style="margin: 10px 0; font-size: 1.1em;">
                                    <i class="fas fa-phone" style="color: #2d8659; width: 25px;"></i>
                                    ${orderData.customerPhone}
                                </p>
                                <p style="margin: 10px 0; font-size: 1.1em;">
                                    <i class="fas fa-map-marker-alt" style="color: #2d8659; width: 25px;"></i>
                                    ${orderData.customerRegion}
                                </p>
                                ${orderData.customerAddress ? `
                                <p style="margin: 10px 0; font-size: 1.1em;">
                                    <i class="fas fa-home" style="color: #2d8659; width: 25px;"></i>
                                    ${orderData.customerAddress}
                                </p>
                                ` : ''}
                            </div>
                        </div>

                        <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
                        <div style="margin-bottom: 25px;">
                            <h3 style="color: #2d8659; margin-bottom: 15px; font-size: 1.5em;">
                                <i class="fas fa-shopping-bag"></i> Ø·Ù„Ø¨Ùƒ
                            </h3>
                            <div style="background: #f9f9f9; padding: 20px; border-radius: 12px;">
                                ${orderData.items.map(item => `
                                    <div style="
                                        display: flex;
                                        justify-content: space-between;
                                        align-items: center;
                                        padding: 12px 0;
                                        border-bottom: 1px solid #e0e0e0;
                                    ">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <span style="font-size: 1.5em;">${item.icon || 'ğŸ“¦'}</span>
                                            <div>
                                                <p style="margin: 0; font-weight: 600; font-size: 1.1em;">${item.name}</p>
                                                <p style="margin: 5px 0 0 0; color: #666; font-size: 0.95em;">Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}</p>
                                            </div>
                                        </div>
                                        <p style="margin: 0; font-weight: 700; color: #2d8659; font-size: 1.2em;">
                                            ${(item.price * item.quantity).toFixed(2)} Ø¯.Øª
                                        </p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ -->
                        <div style="
                            background: linear-gradient(135deg, #f49d37 0%, #e68a20 100%);
                            color: white;
                            padding: 25px;
                            border-radius: 15px;
                            text-align: center;
                            margin-bottom: 30px;
                            box-shadow: 0 5px 20px rgba(244, 157, 55, 0.3);
                        ">
                            <p style="margin: 0 0 10px 0; font-size: 1.2em; opacity: 0.95;">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</p>
                            <p style="margin: 0; font-size: 2.5em; font-weight: 800;">${orderData.total.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø±</p>
                        </div>

                        <!-- Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© -->
                        <div style="
                            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
                            border-right: 5px solid #f49d37;
                            padding: 20px;
                            border-radius: 12px;
                            margin-bottom: 25px;
                        ">
                            <h4 style="margin: 0 0 15px 0; color: #f49d37; font-size: 1.3em;">
                                <i class="fas fa-info-circle"></i> Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©
                            </h4>
                            <ul style="margin: 0; padding-right: 25px; line-height: 1.8; font-size: 1.05em;">
                                <li>Ø±Ø§Ø­ Ù†ØªØµÙ„Ùˆ Ø¨ÙŠÙƒ Ø¹Ù„Ù‰ <strong>${orderData.customerPhone}</strong> Ù„Ù„ØªØ£ÙƒÙŠØ¯</li>
                                <li>Ø¨Ø§Ø´ Ù†Ø¬Ù‡Ø²Ùˆ Ø·Ù„Ø¨Ùƒ ÙÙŠ Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª</li>
                                <li>Ø§Ù„ØªÙˆØµÙŠÙ„ ÙŠÙƒÙˆÙ† ÙÙŠ Ù…Ø¯Ø© <strong>24-48 Ø³Ø§Ø¹Ø©</strong></li>
                                <li>Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… ğŸ’°</li>
                            </ul>
                        </div>

                        <!-- Ø£Ø²Ø±Ø§Ø± -->
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <button onclick="closeThankYouModal()" style="
                                flex: 1;
                                min-width: 200px;
                                padding: 18px 30px;
                                background: linear-gradient(135deg, #2d8659 0%, #1e5a3a 100%);
                                color: white;
                                border: none;
                                border-radius: 12px;
                                font-size: 1.2em;
                                font-weight: 700;
                                cursor: pointer;
                                font-family: 'Tajawal', sans-serif;
                                box-shadow: 0 5px 15px rgba(45, 134, 89, 0.3);
                                transition: all 0.3s ease;
                            " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(45, 134, 89, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 5px 15px rgba(45, 134, 89, 0.3)';">
                                <i class="fas fa-home"></i> Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                            </button>
                            <button onclick="window.location.href='tel:${orderData.customerPhone}'" style="
                                flex: 1;
                                min-width: 200px;
                                padding: 18px 30px;
                                background: white;
                                color: #25d366;
                                border: 3px solid #25d366;
                                border-radius: 12px;
                                font-size: 1.2em;
                                font-weight: 700;
                                cursor: pointer;
                                font-family: 'Tajawal', sans-serif;
                                transition: all 0.3s ease;
                            " onmouseover="this.style.background='#25d366'; this.style.color='white';" onmouseout="this.style.background='white'; this.style.color='#25d366';">
                                <i class="fab fa-whatsapp"></i> ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§
                            </button>
                        </div>
                    </div>
                </div>
            `;

            document.body.appendChild(thankYouModal);

            // Animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes slideUp {
                    from { transform: translateY(50px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
                @keyframes bounce {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-20px); }
                }
            `;
            document.head.appendChild(style);
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´ÙƒØ±
        window.closeThankYouModal = function() {
            const modal = document.getElementById('thankYouModal');
            if (modal) {
                modal.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    modal.remove();
                    location.reload();
                }, 300);
            }
        };

        // Product Search
        const searchInput = document.getElementById('productSearch');
        if (searchInput) {
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const productCards = document.querySelectorAll('.product-card');

                productCards.forEach(card => {
                    const title = card.querySelector('.product-title').textContent.toLowerCase();
                    const description = card.querySelector('.product-description').textContent.toLowerCase();

                    if (title.includes(searchTerm) || description.includes(searchTerm)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        }

        // Initialize cart badge on page load
        updateCartBadge();
    </script>
    <!-- Login Modal -->
    <div id="loginModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 9999; backdrop-filter: blur(5px);">
        <div style="display: flex; justify-content: center; align-items: center; height: 100%; padding: 20px;">
            <div style="background: white; padding: 40px; border-radius: 25px; max-width: 450px; width: 100%; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); position: relative; animation: slideDown 0.3s ease;">
                <button onclick="closeLoginModal()" style="position: absolute; top: 15px; left: 15px; background: none; border: none; font-size: 1.8em; color: var(--text-light); cursor: pointer; transition: all 0.3s ease; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    Ã—
                </button>
                
                <div style="text-align: center; margin-bottom: 35px;">
                    <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‘‹</div>
                    <h2 style="color: var(--primary-green); font-size: 2em; margin-bottom: 10px;">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙŠÙƒ Ù…Ø±Ù‘Ø© Ø£Ø®Ø±Ù‰!</h2>
                    <p style="color: var(--text-light); font-size: 1.05em;">Ø§Ø¯Ø®Ù„ Ø¨Ø§Ø´ ØªÙƒÙ…Ù‘Ù„</p>
                </div>

                <form onsubmit="handleLogin(event)">
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                            <i class="fas fa-envelope"></i> Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
                        </label>
                        <input type="email" id="loginEmail" required placeholder="example@email.com" 
                            style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                            <i class="fas fa-lock"></i> ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
                        </label>
                        <input type="password" id="loginPassword" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" 
                            style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                    </div>

                    <button type="submit" style="width: 100%; padding: 16px; background: linear-gradient(135deg, var(--primary-green) 0%, #1e6b45 100%); color: white; border: none; border-radius: 12px; font-size: 1.2em; font-weight: 700; cursor: pointer; margin-bottom: 20px; font-family: 'Tajawal', sans-serif; box-shadow: 0 5px 15px rgba(45, 134, 89, 0.3); transition: all 0.3s ease;">
                        <i class="fas fa-sign-in-alt"></i>
                        Ø¯Ø®ÙˆÙ„
                    </button>
                </form>

                <div style="text-align: center; margin: 25px 0; color: var(--text-light); font-size: 0.95em; position: relative;">
                    <span style="background: white; padding: 0 15px; position: relative; z-index: 1;">Ø£Ùˆ Ø§Ø¯Ø®Ù„ Ø¨ÙˆØ§Ø³Ø·Ø©</span>
                    <div style="position: absolute; top: 50%; left: 0; right: 0; height: 1px; background: var(--light-gray); z-index: 0;"></div>
                </div>

                <div style="display: flex; gap: 12px; margin-bottom: 25px;">
                    <button onclick="loginWithGoogle()" style="flex: 1; padding: 14px; background: white; border: 2px solid #db4437; color: #db4437; border-radius: 10px; font-size: 1.05em; font-weight: 700; cursor: pointer; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-google"></i>
                        Google
                    </button>
                    <button onclick="loginWithFacebook()" style="flex: 1; padding: 14px; background: white; border: 2px solid #1877f2; color: #1877f2; border-radius: 10px; font-size: 1.05em; font-weight: 700; cursor: pointer; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-facebook-f"></i>
                        Facebook
                    </button>
                </div>

                <div style="text-align: center; color: var(--text-light); font-size: 0.95em;">
                    Ù…Ø§ Ø¹Ù†Ø¯ÙƒØ´ Ø­Ø³Ø§Ø¨ØŸ 
                    <a href="#" onclick="closeLoginModal(); showSignupModal(); return false;" style="color: var(--primary-green); font-weight: 700; text-decoration: none;">Ø³Ø¬Ù„ ØªÙˆÙ‘Ø©</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 9999; backdrop-filter: blur(5px);">
        <div style="display: flex; justify-content: center; align-items: center; height: 100%; padding: 20px; overflow-y: auto;">
            <div style="background: white; padding: 40px; border-radius: 25px; max-width: 450px; width: 100%; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); position: relative; animation: slideDown 0.3s ease; margin: 20px 0;">
                <button onclick="closeSignupModal()" style="position: absolute; top: 15px; left: 15px; background: none; border: none; font-size: 1.8em; color: var(--text-light); cursor: pointer; transition: all 0.3s ease; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    Ã—
                </button>
                
                <div style="text-align: center; margin-bottom: 35px;">
                    <div style="font-size: 3em; margin-bottom: 15px;">ğŸŒ¾</div>
                    <h2 style="color: var(--primary-green); font-size: 2em; margin-bottom: 10px;">Ø§Ù†Ø¶Ù… Ù„ÙÙ„Ø§Ø­ÙŠÙ†!</h2>
                    <p style="color: var(--text-light); font-size: 1.05em;">Ø³Ø¬Ù„ ØªÙˆÙ‘Ø© ÙˆØ§Ø¨Ø¯Ø§ Ø±Ø­Ù„ØªÙƒ</p>
                </div>

                <form onsubmit="handleSignup(event)">
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                            <i class="fas fa-user"></i> Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„
                        </label>
                        <input type="text" id="signupName" required placeholder="Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ù„ÙŠ" 
                            style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                            <i class="fas fa-envelope"></i> Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
                        </label>
                        <input type="email" id="signupEmail" required placeholder="example@email.com" 
                            style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                            <i class="fas fa-phone"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
                        </label>
                        <input type="tel" id="signupPhone" required placeholder="20123456" 
                            style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 700; color: var(--text-dark);">
                            <i class="fas fa-lock"></i> ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
                        </label>
                        <input type="password" id="signupPassword" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" 
                            style="width: 100%; padding: 15px; border: 2px solid var(--light-gray); border-radius: 12px; font-size: 1.05em; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease;">
                    </div>

                    <button type="submit" style="width: 100%; padding: 16px; background: linear-gradient(135deg, var(--primary-green) 0%, #1e6b45 100%); color: white; border: none; border-radius: 12px; font-size: 1.2em; font-weight: 700; cursor: pointer; margin-bottom: 20px; font-family: 'Tajawal', sans-serif; box-shadow: 0 5px 15px rgba(45, 134, 89, 0.3); transition: all 0.3s ease;">
                        <i class="fas fa-user-plus"></i>
                        Ø³Ø¬Ù„ ØªÙˆÙ‘Ø©
                    </button>
                </form>

                <div style="text-align: center; margin: 25px 0; color: var(--text-light); font-size: 0.95em; position: relative;">
                    <span style="background: white; padding: 0 15px; position: relative; z-index: 1;">Ø£Ùˆ Ø³Ø¬Ù„ Ø¨ÙˆØ§Ø³Ø·Ø©</span>
                    <div style="position: absolute; top: 50%; left: 0; right: 0; height: 1px; background: var(--light-gray); z-index: 0;"></div>
                </div>

                <div style="display: flex; gap: 12px; margin-bottom: 25px;">
                    <button onclick="signupWithGoogle()" style="flex: 1; padding: 14px; background: white; border: 2px solid #db4437; color: #db4437; border-radius: 10px; font-size: 1.05em; font-weight: 700; cursor: pointer; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-google"></i>
                        Google
                    </button>
                    <button onclick="signupWithFacebook()" style="flex: 1; padding: 14px; background: white; border: 2px solid #1877f2; color: #1877f2; border-radius: 10px; font-size: 1.05em; font-weight: 700; cursor: pointer; font-family: 'Tajawal', sans-serif; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-facebook-f"></i>
                        Facebook
                    </button>
                </div>

                <div style="text-align: center; color: var(--text-light); font-size: 0.95em;">
                    Ø¹Ù†Ø¯Ùƒ Ø­Ø³Ø§Ø¨ØŸ 
                    <a href="#" onclick="closeSignupModal(); showLoginModal(); return false;" style="color: var(--primary-green); font-weight: 700; text-decoration: none;">Ø§Ø¯Ø®Ù„</a>
                </div>
            </div>
        </div>
    </div>

    <style>
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #loginModal input:focus, #signupModal input:focus {
            border-color: var(--primary-green) !important;
            box-shadow: 0 0 0 4px rgba(45, 134, 89, 0.1) !important;
            outline: none;
        }

        #loginModal button[type="submit"]:hover, #signupModal button[type="submit"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(45, 134, 89, 0.4);
        }

        #loginModal button:not([type="submit"]):hover, #signupModal button:not([type="submit"]):hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }

        #loginModal button:first-of-type:hover, #signupModal button:first-of-type:hover {
            background: rgba(0, 0, 0, 0.05);
        }
    
        /* Hero Title with Logo */
        /* --- Hero Section --- */
.hero-section {
    padding: 80px 20px;
    background: linear-gradient(135deg, white 0%, var(--warm-beige) 100%);
    display: flex;
    justify-content: center; /* ÙŠØ®Ù„ÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© ÙƒØ§Ù…Ù„Ø© ÙÙŠ Ø§Ù„ÙˆØ³Ø· */
}

.hero-container {
    max-width: 1000px;
    display: flex;
    flex-direction: row; /* ÙŠØ®Ù„ÙŠ Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙˆØ§Ù„ÙƒØªÙŠØ¨Ø© Ø¨Ø¬Ù†Ø¨ Ø¨Ø¹Ø¶Ù‡Ù… */
    align-items: center; /* ÙŠØ³Ù†ØªØ±Ù‡Ù… Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ */
    gap: 30px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙˆØ§Ù„ÙƒØªÙŠØ¨Ø© */
    text-align: right; /* Ø§Ù„ÙƒØªÙŠØ¨Ø© ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† */
}

.hero-logo-large {
    width: 150px; /* ÙƒØ¨Ø±Ù†Ø§Ù‡ Ø´ÙˆÙŠØ© Ø¨Ù…Ø§ Ø¥Ù†Ù‡ ÙˆÙ„Ù‰ Ø¨Ø§Ù„Ø¬Ù†Ø¨ */
    height: 150px;
    background: linear-gradient(135deg, var(--primary-green), var(--light-green));
    border-radius: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 15px 35px rgba(45, 134, 89, 0.2);
    flex-shrink: 0; /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø¨Ø§Ø´ ÙŠØªÙØºØµ */
    /* Ù†Ø²ÙŠØ¯Ùˆ Ø§Ù„ØªØµÙˆÙŠØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø±Ø¨Ø¹ */
    background-image: url('images/icon-192.png');
    background-size: 80%; /* Ø­Ø¬Ù… Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø±Ø¨Ø¹ */
    background-repeat: no-repeat;
    background-position: center;
}

.hero-content {
    display: flex;
    flex-direction: column;
}

.hero-welcome {
    font-size: 3rem;
    color: var(--dark-green);
    margin-bottom: 15px;
    font-family: 'Amiri', serif;
}

.hero-desc {
    font-size: 1.2rem;
    color: var(--text-light);
    max-width: 500px;
    line-height: 1.6;
}
</style>

    <script>
        // Modal Functions
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function showSignupModal() {
            document.getElementById('signupModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeSignupModal() {
            document.getElementById('signupModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(event) {
            // Ensure body scroll is enabled
            if (!document.querySelector('.modal[style*="display: block"]')) {
                document.body.style.overflow = 'auto';
            }
        });
            const loginModal = document.getElementById('loginModal');
            const signupModal = document.getElementById('signupModal');
            
            if (event.target === loginModal) {
                closeLoginModal();
            }
            if (event.target === signupModal) {
                closeSignupModal();
            }
        });

        // Login Handler with Firebase
        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (isFirebaseConfigured) {
                // Real Firebase login
                auth.signInWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        const user = userCredential.user;
                        showSuccessNotification(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user.email}! ØªÙ…Ù‘ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­`);
                        closeLoginModal();
                    })
                    .catch((error) => {
                        alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¯Ø®ÙˆÙ„: ' + error.message);
                    });
            } else {
                // Demo mode
                alert('ØªÙ…Ù‘ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! (Demo Mode)\nØ§Ù„Ø¨Ø±ÙŠØ¯: ' + email);
                simulateSuccessfulLogin(email.split('@')[0], 'email');
                closeLoginModal();
            }
        }

        // Signup Handler with Firebase
        function handleSignup(event) {
            event.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            
            if (isFirebaseConfigured) {
                // Real Firebase signup
                auth.createUserWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        const user = userCredential.user;
                        
                        // Update profile
                        return user.updateProfile({
                            displayName: name
                        }).then(() => {
                            // Save additional info to Firestore
                            return db.collection('users').doc(user.uid).set({
                                name: name,
                                email: email,
                                phone: phone,
                                createdAt: firebase.firestore.FieldValue.serverTimestamp()
                            });
                        });
                    })
                    .then(() => {
                        showSuccessNotification(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${name}! ØªÙ…Ù‘ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­`);
                        closeSignupModal();
                    })
                    .catch((error) => {
                        alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„: ' + error.message);
                    });
            } else {
                // Demo mode
                alert('ØªÙ…Ù‘ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­! (Demo Mode)\nÙ…Ø±Ø­Ø¨Ø§Ù‹ ' + name);
                simulateSuccessfulLogin(name, 'email');
                closeSignupModal();
            }
        }

        // Social Login Functions with Firebase
        function loginWithGoogle() {
            if (isFirebaseConfigured) {
                const provider = new firebase.auth.GoogleAuthProvider();
                provider.setCustomParameters({
                    prompt: 'select_account'
                });
                
                auth.signInWithPopup(provider)
                    .then((result) => {
                        const user = result.user;
                        showSuccessNotification(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user.displayName}! ØªÙ…Ù‘ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Google`);
                        closeLoginModal();
                        closeSignupModal();
                        
                        // Save user info to Firestore if new
                        db.collection('users').doc(user.uid).set({
                            name: user.displayName,
                            email: user.email,
                            photoURL: user.photoURL,
                            provider: 'google',
                            lastLogin: firebase.firestore.FieldValue.serverTimestamp()
                        }, { merge: true });
                    })
                    .catch((error) => {
                        console.error('Google login error:', error);
                        alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Google: ' + error.message);
                    });
            } else {
                simulateSuccessfulLogin('Ù…Ø³ØªØ®Ø¯Ù… Google', 'google');
            }
        }

        function loginWithFacebook() {
            if (isFirebaseConfigured) {
                const provider = new firebase.auth.FacebookAuthProvider();
                
                auth.signInWithPopup(provider)
                    .then((result) => {
                        const user = result.user;
                        showSuccessNotification(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user.displayName}! ØªÙ…Ù‘ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Facebook`);
                        closeLoginModal();
                        closeSignupModal();
                        
                        // Save user info to Firestore if new
                        db.collection('users').doc(user.uid).set({
                            name: user.displayName,
                            email: user.email,
                            photoURL: user.photoURL,
                            provider: 'facebook',
                            lastLogin: firebase.firestore.FieldValue.serverTimestamp()
                        }, { merge: true });
                    })
                    .catch((error) => {
                        console.error('Facebook login error:', error);
                        alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Facebook: ' + error.message);
                    });
            } else {
                simulateSuccessfulLogin('Ù…Ø³ØªØ®Ø¯Ù… Facebook', 'facebook');
            }
        }

        function signupWithGoogle() {
            loginWithGoogle();
        }

        function signupWithFacebook() {
            loginWithFacebook();
        }

        function showSuccessNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, var(--primary-green) 0%, #1e6b45 100%);
                color: white;
                padding: 20px 40px;
                border-radius: 15px;
                font-size: 1.2em;
                font-weight: 700;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                animation: slideDown 0.5s ease;
                text-align: center;
            `;
            notification.innerHTML = `
                <i class="fas fa-check-circle" style="margin-left: 10px;"></i>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function simulateSuccessfulLogin(userName, provider) {
            const providerNames = {
                'google': 'Google',
                'facebook': 'Facebook'
            };
            
            // Save to localStorage
            localStorage.setItem('falla7inUser', JSON.stringify({
                name: userName,
                provider: provider,
                loggedIn: true
            }));
            
            // Show success message
            closeLoginModal();
            closeSignupModal();
            
            // Create success notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, var(--primary-green) 0%, #1e6b45 100%);
                color: white;
                padding: 20px 40px;
                border-radius: 15px;
                font-size: 1.2em;
                font-weight: 700;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                animation: slideDown 0.5s ease;
                text-align: center;
            `;
            notification.innerHTML = `
                <i class="fas fa-check-circle" style="margin-left: 10px;"></i>
                Ù…Ø±Ø­Ø¨Ø§Ù‹ ${userName}! ØªÙ…Ù‘ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© ${providerNames[provider]}
            `;
            
            document.body.appendChild(notification);
            
            // Update header buttons
            updateHeaderForLoggedInUser(userName);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function updateHeaderForLoggedInUser(userName, photoURL) {
            const headerActions = document.querySelector('.header-actions');
            if (headerActions) {
                const userImage = photoURL 
                    ? `<img src="${photoURL}" style="width: 35px; height: 35px; border-radius: 50%; margin-left: 10px;" alt="User">` 
                    : '<i class="fas fa-user-circle" style="font-size: 1.5em; margin-left: 10px;"></i>';
                
                headerActions.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="color: var(--primary-green); font-weight: 700; display: flex; align-items: center;">
                            ${userImage}
                            <span style="margin-right: 8px;">${userName}</span>
                        </span>
                        <button onclick="logout()" class="header-btn" style="background: #dc3545; border: none; color: white;">
                            <i class="fas fa-sign-out-alt"></i>
                            Ø®Ø±ÙˆØ¬
                        </button>
                    </div>
                `;
            }
        }

        function logout() {
            if (isFirebaseConfigured) {
                auth.signOut().then(() => {
                    showSuccessNotification('ØªÙ…Ù‘ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­');
                    setTimeout(() => location.reload(), 1000);
                }).catch((error) => {
                    console.error('Logout error:', error);
                });
            } else {
                localStorage.removeItem('falla7inUser');
                location.reload();
            }
        }

        // Check if user is already logged in on page load
        window.addEventListener('DOMContentLoaded', function() {
            if (isFirebaseConfigured) {
                // Listen to auth state changes
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        // User is signed in
                        const displayName = user.displayName || user.email.split('@')[0];
                        updateHeaderForLoggedInUser(displayName, user.photoURL);
                        console.log('User logged in:', user.email);
                    } else {
                        // User is signed out
                        console.log('No user logged in');
                    }
                });
            } else {
                // Demo mode - check localStorage
                const user = JSON.parse(localStorage.getItem('falla7inUser'));
                if (user && user.loggedIn) {
                    updateHeaderForLoggedInUser(user.name);
                }
            }
        });
    </script>

    <!-- ğŸ”¥ DYNAMIC FIRESTORE LOADER ğŸ”¥ -->
    <script>
        // This script makes products and questions dynamic from Firestore
        console.log('ğŸ”¥ Loading dynamic content from Firestore...');

        // Wait for Firebase to be ready
        window.addEventListener('load', function() {
            if (typeof db !== 'undefined' && db) {
                loadDynamicQuestions();
                loadDynamicProducts();
                console.log('âœ… Dynamic loader initialized!');
            } else {
                console.log('âš ï¸ Firebase not ready, dynamic content disabled');
            }
        });

        // Load Questions Dynamically
        function loadDynamicQuestions() {
            console.log('ğŸ“‹ Loading questions from Firestore...');
            
            db.collection('questions').orderBy('order').get()
                .then(function(snapshot) {
                    if (snapshot.empty) {
                        console.log('âš ï¸ No questions found in Firestore - keeping hardcoded questions');
                        return;
                    }

                    console.log('âœ… Found ' + snapshot.size + ' questions in Firestore');
                    console.log('ğŸ’¡ Keeping hardcoded questions for full functionality');
                    console.log('ğŸ”— Dynamic questions available at: /consultation.html');
                    
                    // Note: The main site uses complex hardcoded question logic
                    // For dynamic questions with admin control, use /consultation.html
                    // This keeps the main site stable while allowing flexibility
                })
                .catch(function(error) {
                    console.error('âŒ Error loading questions:', error);
                });
        }

        function updateProgressBar(current, total) {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            
            if (progressFill && progressText) {
                const percentage = (current / total) * 100;
                progressFill.style.width = percentage + '%';
                progressText.textContent = 'Ø³Ø¤Ø§Ù„ ' + current + ' Ù…Ù† ' + total;
            }
        }

        // Load Products Dynamically
        function loadDynamicProducts() {
            console.log('ğŸ“¦ Loading products from Firestore...');
            
            db.collection('products').get()
                .then(function(snapshot) {
                    if (snapshot.empty) {
                        console.log('âš ï¸ No products found in Firestore');
                        return;
                    }

                    const productGrid = document.querySelector('.product-grid');
                    if (!productGrid) {
                        console.log('âŒ Product grid not found');
                        return;
                    }

                    // Clear existing products
                    productGrid.innerHTML = '';

                    const categoryNames = {
                        'fertilizers': 'Ø£Ø³Ù…Ø¯Ø©',
                        'pesticides': 'Ù…Ø¨ÙŠØ¯Ø§Øª',
                        'seeds': 'Ø¨Ø°ÙˆØ±',
                        'tools': 'Ù…Ø¹Ø¯Ø§Øª',
                        'equipment': 'Ù…Ø¹Ø¯Ø§Øª'
                    };

                    snapshot.forEach(function(doc) {
                        const product = doc.data();

                        // Create product card
                        const productCard = document.createElement('div');
                        productCard.className = 'product-card';
                        productCard.setAttribute('data-category', product.category || 'all');

                        let html = '';

                        // Product image or icon
                        if (product.imageUrl) {
                            html += '<img src="' + product.imageUrl + '" class="product-image" alt="' + product.name + '" style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-bottom: 15px;">';
                        } else if (product.icon) {
                            html += '<div class="product-image">' + product.icon + '</div>';
                        }

                        html += '<div class="product-content">' +
                            '<h3 class="product-title">' + product.name + '</h3>' +
                            '<div class="product-rating">' +
                            '<span class="stars">â­â­â­â­â­</span>' +
                            '<span class="rating-count">(Ø¬Ø¯ÙŠØ¯)</span>' +
                            '</div>' +
                            '<p class="product-description">' + product.description + '</p>' +
                            '<div class="product-footer">' +
                            '<span class="product-price">' + product.price.toFixed(2) + ' Ø¯ÙŠÙ†Ø§Ø±</span>' +
                            '<button class="add-to-cart" data-product-name="' + product.name + '" data-product-price="' + product.price + '" data-product-icon="' + (product.icon || 'ğŸ“¦') + '">' +
                            '<i class="fas fa-cart-plus"></i> Ø²ÙŠØ¯ Ù„Ù„Ø³Ù„Ø©' +
                            '</button>' +
                            '</div>' +
                            '</div>';

                        productCard.innerHTML = html;
                        productGrid.appendChild(productCard);

                        // Note: Click handler is already set up globally via event delegation
                        // No need to add individual listeners here
                    });

                    console.log('âœ… Loaded ' + snapshot.size + ' products from Firestore!');
                })
                .catch(function(error) {
                    console.error('âŒ Error loading products:', error);
                });
        }
   // Ù‡Ø°ÙŠ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù„ÙŠ ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
// ====== CHECKOUT FUNCTIONALITY ======

// Go to Checkout
function goToCheckout() {
    if (cart.length === 0) {
        alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!');
        return;
    }
    
    // Show checkout tab
    document.getElementById('checkoutTab').style.display = 'block';
    switchTab('checkout');
    
    // Display checkout summary
    displayCheckoutSummary();
}

// Display Checkout Summary
function displayCheckoutSummary() {
    const summary = document.getElementById('checkoutSummary');
    const subtotal = cart.reduce((sum, item) => sum + (parseFloat(item.price) * parseInt(item.quantity)), 0);
    const shipping = 7.00;
    const total = subtotal + shipping;
    
    summary.innerHTML = cart.map(item => `
        <div style="display: flex; gap: 15px; padding: 15px 0; border-bottom: 1px solid var(--light-gray);">
            <div style="font-size: 2.5em;">${item.icon}</div>
            <div style="flex: 1;">
                <div style="font-weight: 700;">${item.name}</div>
                <div style="color: #666; font-size: 0.9em;">Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}</div>
            </div>
            <div style="color: var(--primary-green); font-weight: 700;">${(parseFloat(item.price) * parseInt(item.quantity)).toFixed(2)} Ø¯.Øª</div>
        </div>
    `).join('');
    
    document.getElementById('checkoutSubtotal').textContent = `${subtotal.toFixed(2)} Ø¯.Øª`;
    document.getElementById('checkoutTotal').textContent = `${total.toFixed(2)} Ø¯.Øª`;
}

// Show Order Success Page
function showOrderSuccess(orderData, orderId) {
    console.log('ğŸ“„ showOrderSuccess called');
    console.log('orderData:', orderData);
    console.log('orderId:', orderId);
    console.log('orderData types:', {
        subtotal: typeof orderData.subtotal,
        shipping: typeof orderData.shipping,
        total: typeof orderData.total
    });
    
    // Switch to a success tab or show in checkout area
    const checkoutContent = document.getElementById('checkout');
    
    if (!checkoutContent) {
        console.error('âŒ Element #checkout not found!');
        return;
    }
    
    console.log('âœ… Element #checkout found');
    
    const successHTML = `
        <div style="text-align: center; padding: 60px 20px; max-width: 800px; margin: 0 auto;">
            <!-- Success Animation -->
            <div style="font-size: 8em; margin-bottom: 30px; animation: bounce 1s ease;">ğŸ‰</div>
            
            <!-- Thank You Message -->
            <h2 style="color: var(--primary-green); font-size: 2.5em; margin-bottom: 20px; font-weight: 800;">
                Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ!
            </h2>
            <p style="font-size: 1.3em; color: var(--text-dark); margin-bottom: 40px;">
                ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­ <strong>${orderData.customerName}</strong>
            </p>
            
            <!-- Order Details Card -->
            <div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 30px; text-align: right;">
                <h3 style="color: var(--primary-green); margin-bottom: 25px; display: flex; align-items: center; gap: 10px; font-size: 1.5em;">
                    <i class="fas fa-receipt"></i>
                    ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
                </h3>
                
                <!-- Order Number -->
                <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 20px; border-radius: 10px; margin-bottom: 25px; border: 2px solid var(--primary-green);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-weight: 700; font-size: 1.1em;">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</span>
                        <span style="font-size: 1.3em; font-weight: 800; color: var(--primary-green);">#${orderId.substring(0, 8).toUpperCase()}</span>
                    </div>
                </div>
                
                <!-- Products List -->
                <div style="margin-bottom: 25px;">
                    <h4 style="color: var(--text-dark); margin-bottom: 15px; font-size: 1.2em;">
                        <i class="fas fa-box"></i> Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:
                    </h4>
                    ${orderData.items.map(item => `
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; border-bottom: 1px solid var(--light-gray);">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <span style="font-size: 1.8em;">${item.icon}</span>
                                <div>
                                    <div style="font-weight: 700;">${item.name}</div>
                                    <div style="color: #666; font-size: 0.9em;">Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}</div>
                                </div>
                            </div>
                            <div style="font-weight: 700; color: var(--primary-green);">${(item.price * item.quantity).toFixed(2)} Ø¯.Øª</div>
                        </div>
                    `).join('')}
                </div>
                
                <!-- Order Summary -->
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ:</span>
                        <span style="font-weight: 700;">${orderData.subtotal.toFixed(2)} Ø¯.Øª</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„:</span>
                        <span style="font-weight: 700;">${orderData.shipping.toFixed(2)} Ø¯.Øª</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding-top: 15px; border-top: 2px solid var(--text-dark); font-size: 1.3em; font-weight: 800; color: var(--primary-green);">
                        <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</span>
                        <span>${orderData.total.toFixed(2)} Ø¯.Øª</span>
                    </div>
                </div>
                
                <!-- Delivery Info -->
                <div style="background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%); padding: 20px; border-radius: 10px; margin-bottom: 25px; border: 2px solid var(--accent-orange);">
                    <h4 style="color: var(--text-dark); margin-bottom: 15px; font-size: 1.1em;">
                        <i class="fas fa-truck"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„:
                    </h4>
                    <div style="line-height: 1.8;">
                        <div><strong>Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</strong> ${orderData.region}</div>
                        <div><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${orderData.address}</div>
                        <div style="margin-top: 10px;"><strong>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${orderData.customerPhone}</div>
                        ${orderData.customerEmail ? `<div><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> ${orderData.customerEmail}</div>` : ''}
                    </div>
                </div>
                
                <!-- Payment Method -->
                <div style="background: #f0f0f0; padding: 15px; border-radius: 10px;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-${orderData.paymentMethod === 'cod' ? 'money-bill-wave' : 'university'}" style="font-size: 1.5em; color: var(--primary-green);"></i>
                        <div>
                            <div style="font-weight: 700;">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</div>
                            <div style="color: #666;">${orderData.paymentMethod === 'cod' ? 'Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… ğŸ’µ' : 'ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ ğŸ¦'}</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Next Steps -->
            <div style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); padding: 25px; border-radius: 15px; margin-bottom: 30px; text-align: right; border: 2px solid #2196f3;">
                <h4 style="color: #1565c0; margin-bottom: 15px; font-size: 1.2em;">
                    <i class="fas fa-info-circle"></i> Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©ØŸ
                </h4>
                <div style="line-height: 2; color: var(--text-dark);">
                    <div>âœ… Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø®Ù„Ø§Ù„ <strong>24 Ø³Ø§Ø¹Ø©</strong> Ù„Ù„ØªØ£ÙƒÙŠØ¯</div>
                    <div>ğŸ“¦ Ø³ÙŠØªÙ… ØªØ­Ø¶ÙŠØ± Ø·Ù„Ø¨Ùƒ ÙÙˆØ±Ø§Ù‹</div>
                    <div>ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„ Ø®Ù„Ø§Ù„ <strong>2-4 Ø£ÙŠØ§Ù…</strong></div>
                    <div>ğŸ’¬ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø§ Ø¹Ù„Ù‰: <strong>+216 XX XXX XXX</strong></div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button onclick="switchTab('home')" style="padding: 15px 40px; background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%); color: white; border: none; border-radius: 12px; font-size: 1.1em; font-weight: 700; cursor: pointer; font-family: 'Tajawal', sans-serif; box-shadow: 0 4px 15px rgba(45, 134, 89, 0.3); transition: all 0.3s;">
                    <i class="fas fa-home"></i>
                    Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
                <button onclick="switchTab('products')" style="padding: 15px 40px; background: white; color: var(--primary-green); border: 2px solid var(--primary-green); border-radius: 12px; font-size: 1.1em; font-weight: 700; cursor: pointer; font-family: 'Tajawal', sans-serif; transition: all 0.3s;">
                    <i class="fas fa-shopping-bag"></i>
                    ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                </button>
            </div>
        </div>
        
        <style>
            @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-20px); }
            }
        </style>
    `;
    
    console.log('ğŸ¨ Setting innerHTML...');
    checkoutContent.innerHTML = successHTML;
    console.log('âœ… innerHTML set successfully');
    
    console.log('ğŸ”„ Switching to checkout tab...');
    switchTab('checkout');
    console.log('âœ… Success page displayed!');
}

// Display Checkout Summary
// Submit Checkout Form
document.getElementById('checkoutForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    console.log('ğŸš€ Form submitted!');
    
    const submitBtn = document.getElementById('submitOrderBtn');
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨...';
    
    console.log('ğŸ“¦ Cart:', cart);
    
    const subtotal = cart.reduce((sum, item) => sum + (parseFloat(item.price) * parseInt(item.quantity)), 0);
    const shipping = 7.00;
    const total = subtotal + shipping;
    
    console.log('ğŸ’° Totals:', {subtotal, shipping, total});
    
    const orderData = {
        customerName: document.getElementById('checkoutName').value,
        customerPhone: document.getElementById('checkoutPhone').value,
        customerEmail: document.getElementById('checkoutEmail').value || '',
        region: document.getElementById('checkoutRegion').value,
        address: document.getElementById('checkoutAddress').value,
        paymentMethod: document.querySelector('input[name="paymentMethod"]:checked').value,
        notes: document.getElementById('checkoutNotes').value || '',
        items: cart,
        subtotal: parseFloat(subtotal.toFixed(2)),
        shipping: parseFloat(shipping.toFixed(2)),
        total: parseFloat(total.toFixed(2)),
        status: 'pending',
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
    };
    
    console.log('ğŸ“‹ Order Data:', orderData);
    
    try {
        console.log('ğŸ’¾ Saving to Firebase...');
        // Save to Firebase
        const docRef = await db.collection('orders').add(orderData);
        console.log('âœ… Saved! Order ID:', docRef.id);
        
        // Send Email via Web3Forms
        console.log('ğŸ“§ Sending email...');
        const formData = new FormData();
        formData.append('access_key', '73145d99-43d2-4fc9-9625-6b43e7a4a81a');
        formData.append('subject', `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ #${docRef.id.substring(0, 8)}`);
        formData.append('from_name', 'ÙÙ„Ø§Ø­ÙŠÙ† - Ø§Ù„Ù…ØªØ¬Ø±');
        formData.append('email', orderData.customerEmail || orderData.customerPhone + '@falla7in.com');
        
        const emailBody = `
<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;">
    <table width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color: #f4f4f4; padding: 20px 0;">
        <tr>
            <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" border="0" style="background-color: #ffffff; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                    
                    <!-- Header -->
                    <tr>
                        <td style="background-color: #2d8659; padding: 30px; text-align: center;">
                            <h1 style="color: #ffffff; margin: 0; font-size: 26px;">ğŸŒ¾ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† ÙÙ„Ø§Ø­ÙŠÙ†!</h1>
                            <p style="color: #ffffff; margin: 10px 0 0 0; font-size: 14px;">Ù„Ø¯ÙŠÙƒ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</p>
                        </td>
                    </tr>
                    
                    <!-- Content -->
                    <tr>
                        <td style="padding: 30px;">
                            
                            <!-- Order ID -->
                            <table width="100%" cellpadding="15" cellspacing="0" border="0" style="background-color: #e8f5e9; border-right: 4px solid #2d8659; border-radius: 5px; margin-bottom: 20px;">
                                <tr>
                                    <td>
                                        <strong style="color: #1e6b45; font-size: 18px;">ğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: #${docRef.id.substring(0, 8).toUpperCase()}</strong>
                                    </td>
                                </tr>
                            </table>
                            
                            <!-- Customer Info -->
                            <h2 style="color: #1e6b45; font-size: 18px; margin: 25px 0 15px 0; padding-bottom: 10px; border-bottom: 2px solid #e0e0e0;">ğŸ‘¤ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h2>
                            <table width="100%" cellpadding="8" cellspacing="0" border="0">
                                <tr style="border-bottom: 1px solid #f0f0f0;">
                                    <td style="color: #666; font-size: 14px;">Ø§Ù„Ø§Ø³Ù…</td>
                                    <td style="color: #333; font-weight: bold; text-align: left;">${orderData.customerName}</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f0f0f0;">
                                    <td style="color: #666; font-size: 14px;">Ø§Ù„Ù‡Ø§ØªÙ</td>
                                    <td style="color: #333; font-weight: bold; text-align: left;">ğŸ“ ${orderData.customerPhone}</td>
                                </tr>
                                ${orderData.customerEmail ? `
                                <tr style="border-bottom: 1px solid #f0f0f0;">
                                    <td style="color: #666; font-size: 14px;">Ø§Ù„Ø¨Ø±ÙŠØ¯</td>
                                    <td style="color: #333; font-weight: bold; text-align: left;">ğŸ“§ ${orderData.customerEmail}</td>
                                </tr>` : ''}
                            </table>
                            
                            <!-- Delivery Info -->
                            <h2 style="color: #1e6b45; font-size: 18px; margin: 25px 0 15px 0; padding-bottom: 10px; border-bottom: 2px solid #e0e0e0;">ğŸšš Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</h2>
                            <table width="100%" cellpadding="8" cellspacing="0" border="0">
                                <tr style="border-bottom: 1px solid #f0f0f0;">
                                    <td style="color: #666; font-size: 14px;">Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</td>
                                    <td style="color: #333; font-weight: bold; text-align: left;">${orderData.region}</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f0f0f0;">
                                    <td style="color: #666; font-size: 14px;">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</td>
                                    <td style="color: #333; font-weight: bold; text-align: left;">${orderData.address}</td>
                                </tr>
                            </table>
                            
                            <!-- Payment Method -->
                            <h2 style="color: #1e6b45; font-size: 18px; margin: 25px 0 15px 0; padding-bottom: 10px; border-bottom: 2px solid #e0e0e0;">ğŸ’³ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</h2>
                            <table cellpadding="10" cellspacing="0" border="0" style="background-color: ${orderData.paymentMethod === 'cod' ? '#fff3cd' : '#d1ecf1'}; border-radius: 20px;">
                                <tr>
                                    <td style="color: ${orderData.paymentMethod === 'cod' ? '#856404' : '#0c5460'}; font-weight: bold;">
                                        ${orderData.paymentMethod === 'cod' ? 'ğŸ’µ Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…' : 'ğŸ¦ ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ'}
                                    </td>
                                </tr>
                            </table>
                            
                            <!-- Products -->
                            <h2 style="color: #1e6b45; font-size: 18px; margin: 25px 0 15px 0; padding-bottom: 10px; border-bottom: 2px solid #e0e0e0;">ğŸ›’ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</h2>
                            <table width="100%" cellpadding="10" cellspacing="0" border="0" style="border: 1px solid #e0e0e0; border-radius: 5px;">
                                <tr style="background-color: #f8f9fa;">
                                    <th style="padding: 12px; text-align: right; color: #666; font-size: 14px; border-bottom: 2px solid #e0e0e0;">Ø§Ù„Ù…Ù†ØªØ¬</th>
                                    <th style="padding: 12px; text-align: center; color: #666; font-size: 14px; border-bottom: 2px solid #e0e0e0;">Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                                    <th style="padding: 12px; text-align: left; color: #666; font-size: 14px; border-bottom: 2px solid #e0e0e0;">Ø§Ù„Ø³Ø¹Ø±</th>
                                </tr>
                                ${cart.map(item => `
                                <tr style="border-bottom: 1px solid #f0f0f0;">
                                    <td style="padding: 12px;">${item.icon} ${item.name}</td>
                                    <td style="padding: 12px; text-align: center;">${item.quantity}</td>
                                    <td style="padding: 12px; text-align: left; font-weight: bold;">${(item.price * item.quantity).toFixed(2)} Ø¯.Øª</td>
                                </tr>
                                `).join('')}
                            </table>
                            
                            ${orderData.notes ? `
                            <!-- Notes -->
                            <table width="100%" cellpadding="15" cellspacing="0" border="0" style="background-color: #fff3cd; border-right: 4px solid #ffc107; border-radius: 5px; margin: 20px 0;">
                                <tr>
                                    <td>
                                        <strong style="color: #856404;">ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:</strong><br>
                                        <span style="color: #856404;">${orderData.notes}</span>
                                    </td>
                                </tr>
                            </table>
                            ` : ''}
                            
                            <!-- Totals -->
                            <table width="100%" cellpadding="15" cellspacing="0" border="0" style="background-color: #f8f9fa; border-radius: 5px; margin-top: 20px;">
                                <tr>
                                    <td>
                                        <table width="100%" cellpadding="8" cellspacing="0" border="0">
                                            <tr>
                                                <td style="color: #666;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ:</td>
                                                <td style="text-align: left; font-weight: bold;">${orderData.subtotal.toFixed(2)} Ø¯.Øª</td>
                                            </tr>
                                            <tr>
                                                <td style="color: #666;">Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„:</td>
                                                <td style="text-align: left; font-weight: bold;">${orderData.shipping.toFixed(2)} Ø¯.Øª</td>
                                            </tr>
                                            <tr style="border-top: 2px solid #2d8659;">
                                                <td style="color: #1e6b45; font-size: 18px; font-weight: bold; padding-top: 15px;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</td>
                                                <td style="text-align: left; color: #1e6b45; font-size: 18px; font-weight: bold; padding-top: 15px;">${orderData.total.toFixed(2)} Ø¯.Øª</td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                            
                        </td>
                    </tr>
                    
                    <!-- Footer -->
                    <tr>
                        <td style="background-color: #f8f9fa; padding: 20px; text-align: center;">
                            <p style="color: #666; font-size: 13px; margin: 0;">ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ù…ÙˆÙ‚Ø¹ ÙÙ„Ø§Ø­ÙŠÙ†</p>
                            <p style="color: #2d8659; font-size: 14px; font-weight: bold; margin: 10px 0 0 0;">ğŸŒ± ÙÙ„Ø§Ø­ÙŠÙ† - Ù…Ù†ØµØ© Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©</p>
                        </td>
                    </tr>
                    
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
        `;
        
        formData.append('message', emailBody);
        
        // Try to send email to admin (optional - don't fail order if email fails)
        try {
            const emailResponse = await fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                body: formData
            });
            
            const emailData = await emailResponse.json();
            console.log('ğŸ“§ Admin email response:', emailResponse.status, emailData);
            
            if (emailResponse.ok && emailData.success) {
                console.log('âœ… Admin email sent successfully');
            } else {
                console.error('âš ï¸ Admin email failed:', emailData.message);
            }
        } catch (emailError) {
            console.error('âš ï¸ Admin email failed but order saved:', emailError);
        }
        
        // Send confirmation email to customer (if they provided email)
        if (orderData.customerEmail) {
            console.log('ğŸ“§ Sending confirmation email to customer...');
            console.log('Customer email:', orderData.customerEmail);
            
            try {
                // Using EmailJS for customer emails (supports sending to different addresses)
                
                const EMAILJS_PUBLIC_KEY = '4tU_JaKTPIPJNkCxB';
                const EMAILJS_SERVICE_ID = 'service_fc32t9s';
                const EMAILJS_TEMPLATE_ID = 'template_19i9uo4';
                
                // Prepare template parameters for new template
                const templateParams = {
                    to_email: orderData.customerEmail,
                    customer_name: orderData.customerName,
                    order_details: orderData.items.map(item => 
                        `â€¢ ${item.icon} ${item.name} Ã— ${item.quantity} = ${(parseFloat(item.price) * parseInt(item.quantity)).toFixed(2)} Ø¯.Øª`
                    ).join('\n'),
                    total_price: orderData.total.toFixed(2)
                };
                
                console.log('ğŸ“§ EmailJS Template Params:', templateParams);
                console.log('ğŸ”‘ EmailJS Config:', {
                    publicKey: EMAILJS_PUBLIC_KEY,
                    serviceId: EMAILJS_SERVICE_ID,
                    templateId: EMAILJS_TEMPLATE_ID
                });
                
                // Load EmailJS library if not loaded
                if (typeof emailjs === 'undefined') {
                    console.log('ğŸ“¦ Loading EmailJS library...');
                    const script = document.createElement('script');
                    script.src = 'https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js';
                    script.onload = async () => {
                        console.log('âœ… EmailJS library loaded');
                        emailjs.init(EMAILJS_PUBLIC_KEY);
                        console.log('ğŸ” EmailJS initialized');
                        try {
                            const response = await emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams);
                            console.log('âœ… Customer email sent via EmailJS:', response);
                            console.log('ğŸ“§ Email sent to:', templateParams.to_email);
                        } catch (err) {
                            console.error('âŒ EmailJS send failed:', err);
                            console.error('Error details:', err.text || err.message);
                        }
                    };
                    script.onerror = () => {
                        console.error('âŒ Failed to load EmailJS library');
                    };
                    document.head.appendChild(script);
                } else {
                    console.log('âœ… EmailJS already loaded');
                    try {
                        const response = await emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams);
                        console.log('âœ… Customer email sent via EmailJS:', response);
                        console.log('ğŸ“§ Email sent to:', templateParams.to_email);
                    } catch (err) {
                        console.error('âŒ EmailJS send failed:', err);
                        console.error('Error details:', err.text || err.message);
                    }
                }
                
                
            } catch (customerEmailError) {
                console.error('âš ï¸ Customer email failed:', customerEmailError);
            }
        } else {
            console.log('â­ï¸ No customer email provided, skipping customer notification');
        }
        
        console.log('ğŸ§¹ Clearing cart...');
        // Clear cart
        cart = [];
        localStorage.setItem('falla7inCart', JSON.stringify(cart));
        updateCartBadge();
        displayCart();
        
        // Hide checkout tab
        document.getElementById('checkoutTab').style.display = 'none';
        
        // Reset form before showing success page
        const checkoutForm = document.getElementById('checkoutForm');
        if (checkoutForm) {
            checkoutForm.reset();
        }
        
        // Show success page
        console.log('ğŸ‰ Showing success page...');
        console.log('OrderData for success:', orderData);
        console.log('Order ID:', docRef.id);
        showOrderSuccess(orderData, docRef.id);
        
    } catch (error) {
        console.error('Error submitting order:', error);
        console.error('Error details:', {
            message: error.message,
            stack: error.stack,
            orderData: orderData
        });
        
        alert('âŒ Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨.\n\n' + 
              'Ø§Ù„ØªÙØ§ØµÙŠÙ„: ' + error.message + '\n\n' +
              'Ø§ÙØªØ­ Console (F12) Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.');
        
        submitBtn.disabled = false;
        submitBtn.innerHTML = '<i class="fas fa-check-circle"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨';
    }
});
   
   </script>


    <script>
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù€ Service Worker Ø¨Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('âœ… Service Worker Registered!'))
                    .catch(err => console.log('âŒ Service Worker Error', err));
            });
        }
        function requestNotificationPermission() {
    Notification.requestPermission().then((permission) => {
        if (permission === 'granted') {
            console.log('âœ… ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª!');
            // Ù‡Ù†Ø§ ØªÙ†Ø¬Ù… ØªØ¨Ø¹Ø« Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ
            showWelcomeNotification();
        } else {
            console.log('âŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø±ÙØ¶ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª');
        }
    });
}

// ØªÙ†Ø¨ÙŠÙ‡ ØªØ±Ø­ÙŠØ¨ÙŠ Ø¨Ø³ÙŠØ·
function showWelcomeNotification() {
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.ready.then((registration) => {
            registration.showNotification('ÙÙ„Ø§Ø­ÙŠÙ†', {
                body: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø¢Ø®Ø± Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„ÙÙ„Ø§Ø­ÙŠØ© Ù‡Ù†Ø§.',
                icon: '/images/icon-192.png',
                badge: '/images/icon-192.png',
                vibrate: [200, 100, 200]
            });
        });
    }
}

// Ù†Ø¹ÙŠØ·ÙˆØ§ Ù„Ù„Ø¯Ø§Ù„Ø© Ø£ÙˆÙ„ Ù…Ø§ ÙŠØªØ­Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹
requestNotificationPermission();
    </script>   

    <script>
    // Force scroll fix - ensure page is always scrollable
    setInterval(() => {
        const hasOpenModal = document.querySelector('.modal[style*="display: block"]') || 
                            document.querySelector('.modal.active');
        if (!hasOpenModal) {
            document.body.style.overflow = 'auto';
            document.documentElement.style.overflow = 'auto';
        }
    }, 500);

    // Fix on page load
    window.addEventListener('load', () => {
        document.body.style.overflow = 'auto';
        document.documentElement.style.overflow = 'auto';
    });
    
    // Fix on any click
    document.addEventListener('click', () => {
        setTimeout(() => {
            const hasOpenModal = document.querySelector('.modal[style*="display: block"]') || 
                                document.querySelector('.modal.active');
            if (!hasOpenModal) {
                document.body.style.overflow = 'auto';
                document.documentElement.style.overflow = 'auto';
            }
        }, 100);
    });
    </script>
</body>
</html>

